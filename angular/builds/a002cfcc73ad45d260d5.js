webpackJsonp([9,7],{1256:function(e,t,n){e.exports=n.p+"public/fonts/dha-logo.svg"},1458:function(e,t,n){e.exports='\n<div id="dashboard-container" layout="column">\n\n  <md-card md-whiteframe="2" class="rel" layout="row">\n    <div class="littleheader">\n      <translate>DASHBOARD</translate>\n    </div>\n\n    <md-tabs md-border-bottom md-center-tabs="true" flex class="dashboard-tab-container" md-selected="vm.currentTab">\n\n      \x3c!-- MAP VIEW --\x3e\n\n      <md-tab label="{{\'map view\' | translate }}">\n\n        <div class="tab-wrap map" id="map" ng-class="{\'emptyy\': !vm.projectsData}">\n\n          <md-card md-whiteframe="2" class="countrychoser">\n            <md-input-container>\n              <md-select\n                class="no-border"\n                md-container-class="country-chooser topalign"\n                ng-model-options="{trackBy: \'$value.id\', allowInvalid: true}"\n                placeholder="{{\'Select a country\'|translate}}"\n                ng-model="vm.selectedCountry">\n\n                <md-option ng-repeat="country in vm.countries track by $index" ng-value="country">{{country.name}}</md-option>\n\n              </md-select>\n            </md-input-container>\n          </md-card>\n\n          <countrymap\n            big="true"\n            district-level-coverage="vm.districtProjects"\n            national-level-coverage="vm.nationalLevelCoverage"\n            map-data="vm.mapData">\n          </countrymap>\n\n        </div>\n\n      </md-tab>\n\n\n      \x3c!-- LIST VIEW --\x3e\n      <md-tab label="{{\'list view\' | translate }}">\n        <div class="tab-wrap" id="list">\n\n          <div class="headercont" layout="row">\n            <md-card md-whiteframe="2" class="countrychoser" flex="nogrow">\n              <md-input-container>\n                <md-select\n                  class="no-border"\n                  md-container-class="country-chooser topalign"\n                  ng-model-options="{trackBy: \'$value.id\'}"\n                  placeholder="{{\'Select a country\'|translate}}"\n                  ng-model="vm.selectedCountry">\n\n                  <md-option ng-value="vm.showAllCountries">\n                    <translate>Show all countries</translate>\n                  </md-option>\n                  <md-option ng-repeat="country in vm.countries track by $index" ng-value="{{country}}">{{country.name}}</md-option>\n\n                </md-select>\n              </md-input-container>\n            </md-card>\n\n            <div class="exports" layout="row" flex="grow" layout-align="end center" ng-show="vm.projectsData && vm.projectsData.length > 0">\n              <span class="exports-label">\n                <translate>Export list:</translate></span>\n              <md-button class="md-primary md-raised md-small" ng-click="vm.exportPDF()">\n                <md-icon>file_download</md-icon>\n                <translate>PDF</translate>\n              </md-button>\n              <md-button class="md-primary md-raised md-small" ng-click="vm.exportCSV()">\n                <md-icon>file_download</md-icon>\n                <translate>CSV</translate>\n              </md-button>\n            </div>\n\n            <div class="starry" layout="row" flex="nogrow" layout-align="end center">\n              <span><md-icon>visibility</md-icon><translate>Viewer</translate></span>\n              <span><md-icon>grade</md-icon><translate>Team member</translate></span>\n            </div>\n          </div>\n\n          <md-content class="projectcont">\n            <div class="scroll-wrapper">\n              <div class="headerrow" layout="row" layout-padding md-whiteframe="2">\n                <div flex="30" ng-click="vm.orderTable(\'name\')">\n                  <translate>Project name</translate>\n                  <md-icon ng-show="vm.header.name.up" >expand_more</md-icon>\n                  <md-icon ng-show="vm.header.name.down" >expand_less</md-icon>\n                </div>\n                <div flex="20" ng-click="vm.orderTable(\'country\')">\n                  <translate>Country</translate>\n                  <md-icon ng-show="vm.header.country.up" >expand_more</md-icon>\n                  <md-icon ng-show="vm.header.country.down" >expand_less</md-icon>\n                </div>\n                <div flex="20" ng-click="vm.orderTable(\'organisation_name\')">\n                  <translate>Organisation name</translate>\n                  <md-icon ng-show="vm.header.organisation_name.up" >expand_more</md-icon>\n                  <md-icon ng-show="vm.header.organisation_name.down" >expand_less</md-icon>\n                </div>\n                <div flex="20" ng-click="vm.orderTable(\'donors\')">\n                  <translate>Donors</translate>\n                  <md-icon ng-show="vm.header.donors.up" >expand_more</md-icon>\n                  <md-icon ng-show="vm.header.donors.down" >expand_less</md-icon>\n                </div>\n                <div flex="20" ng-click="vm.orderTable(\'contact_name\')">\n                  <translate>Contact Name</translate>\n                  <md-icon ng-show="vm.header.contact_name.up" >expand_more</md-icon>\n                  <md-icon ng-show="vm.header.contact_name.down" >expand_less</md-icon>\n                </div>\n                <div flex="30" ng-click="vm.orderTable(\'implementation_overview\')">\n                  <translate>Overview of digital health implementation</translate>\n                  <md-icon ng-show="vm.header.implementation_overview.up" >expand_more</md-icon>\n                  <md-icon ng-show="vm.header.implementation_overview.down" >expand_less</md-icon>\n                </div>\n                <div flex="20" ng-click="vm.orderTable(\'implementing_partners\')">\n                  <translate>Implementing partners</translate>\n                  <md-icon ng-show="vm.header.implementing_partners.up" >expand_more</md-icon>\n                  <md-icon ng-show="vm.header.implementing_partners.down" >expand_less</md-icon>\n                </div>\n                <div flex="20" ng-click="vm.orderTable(\'geographic_scope\')">\n                  <translate>Geographic scope</translate>\n                  <md-icon ng-show="vm.header.geographic_scope.up" >expand_more</md-icon>\n                  <md-icon ng-show="vm.header.geographic_scope.down" >expand_less</md-icon>\n                </div>\n                <div flex="20" ng-click="vm.orderTable(\'health_focus_areas\')">\n                  <translate>Health Focus Areas</translate>\n                  <md-icon ng-show="vm.header.health_focus_areas.up" >expand_more</md-icon>\n                  <md-icon ng-show="vm.header.health_focus_areas.down" >expand_less</md-icon>\n                </div>\n              </div>\n\n              <div\n                class="projectrow"\n                layout="row"\n                layout-padding\n                ng-repeat="project in vm.projectsData track by $index"\n                ng-class="{\'member\': project.isMember, \'viewer\': project.isViewer}">\n\n                <div flex="30" class="projectlink" layout="row">\n                  <div layout="row" flex class="name">\n                    <div>\n                      <md-icon class="member" ng-show="project.isMember">grade</md-icon>\n                      <md-icon class="viewer" ng-show="project.isViewer">visibility</md-icon>\n                    </div>\n                    <div>\n                      <div class="name">\n                        {{project.name}}\n                      </div>\n\n                      <div class="country-approved" ng-show="project.approved">\n                        <i class="material-icons">assignment_turned_in</i>\n                        <translate>Verified by country</translate>\n                      </div>\n\n                      <div class="links">\n                        <md-button  ui-sref="editProject({ appName: project.id, editMode: \'publish\' })" class="md-primary md-raised md-small"><translate>Project Dashboard</translate></md-button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div flex="20" class="cap">\n                  {{vm.countriesLib[project.country]}}\n                </div>\n                <div flex="20">{{project.organisation_name}}</div>\n                <div flex="20">\n                        <span ng-repeat="donor in project.donors">\n                            {{donor}}{{$last ? \'\' : \', \'}}\n                        </span>\n                </div>\n                <div flex="20">{{project.contact_name}}, <a ng-href="mailto:{{project.contact_email}}">{{project.contact_email}}</a></div>\n                <div flex="30">{{project.implementation_overview}}</div>\n                <div flex="20">{{vm.printImplementingPartners(project)}}</div>\n                <div flex="20">{{project.geographic_scope}}</div>\n                <div flex="20">{{project.health_focus_areas.join(\', \')}}</div>\n\n              </div>\n              <div ng-if="!vm.projectsData.length" class="projectrow" layout="row" layout-padding>\n                <div flex><translate>There is no project to show in this country.</translate></div>\n              </div>\n            </div>\n          </md-content>\n        </div>\n      </md-tab>\n    </md-tabs>\n\n    <div class="dashboard-filter-container" flex layout="row">\n      <div class="filter-wrapper" layout="row" flex="100">\n        <div class="filter-project-counter" md-whiteframe="2">\n          <div class="project-counter-name">\n            <div class="description">\n              <translate>Number of Projects</translate>\n            </div>\n            <div class="country-name">\n              \x3c!-- in {{vm.selectedCountry.name}} --\x3e\n              <translate>in selected country</translate>\n            </div>\n          </div>\n          <div class="project-counter-arrow">\n            <img src="'+n(1459)+'" />\n          </div>\n          <div class="project-counter-number">\n            {{ vm.projectsData.length}}\n          </div>\n        </div>\n\n        <div class="filter-list">\n\n          <div class="description"><translate>Apply filters to map:</translate></div>\n\n          <div class="country-approval-switch" layout="row" layout-align="start center" ng-show="vm.selectedCountry.project_approval">\n            <md-switch class="md-primary" ng-model="vm.showOnlyApproved" aria-label="show only verified"></md-switch>\n            <span class="md-label">\n              <translate>Show only verified projects</translate>\n            </span>\n          </div>\n\n          <div class="list-headers" ng-repeat="header in vm.filters">\n\n            <div class="header" ng-click="header.open = !header.open">\n              <md-icon ng-hide="header.open" >expand_more</md-icon>\n              <md-icon ng-show="header.open" >expand_less</md-icon>\n              {{header.name}} ({{header.items.length}})\n            </div>\n\n            <div class="list-item" ng-repeat="item in header.items  | orderBy: \'name\' " ng-show="header.open">\n              <md-checkbox class="md-primary small" ng-model="item.value" aria-label="item.name">\n                {{item.name}}\n              </md-checkbox>\n            </div>\n\n          </div>\n        </div>\n      </div>\n    </div>\n  </md-card>\n\n  <disclaimer></disclaimer>\n</div>\n'},1459:function(e,t,n){e.exports=n.p+"public/fonts/after-white.svg"},1460:function(e,t){},1613:function(e,t,n){e.exports={default:n(1614),__esModule:!0}},1614:function(e,t,n){n(298),n(104),n(118),n(1615),n(1621),e.exports=n(14).Set},1615:function(e,t,n){"use strict";var r=n(1616);e.exports=n(1617)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(this,e=0===e?0:e,e)}},r)},1616:function(e,t,n){"use strict";var r=n(47).f,a=n(161),i=n(658),o=n(83),s=n(657),l=n(160),c=n(653),d=n(297),u=n(682),p=n(683),m=n(57),h=n(294).fastKey,f=m?"_s":"size",v=function(e,t){var n,r=h(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,d){var u=e(function(e,r){s(e,u,t,"_i"),e._i=a(null),e._f=void 0,e._l=void 0,e[f]=0,void 0!=r&&c(r,n,e[d],e)});return i(u.prototype,{clear:function(){for(var e=this,t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e._f=e._l=void 0,e[f]=0},delete:function(e){var t=this,n=v(t,e);if(n){var r=n.n,a=n.p;delete t._i[n.i],n.r=!0,a&&(a.n=r),r&&(r.p=a),t._f==n&&(t._f=r),t._l==n&&(t._l=a),t[f]--}return!!n},forEach:function(e){s(this,u,"forEach");for(var t,n=o(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.n:this._f;)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!v(this,e)}}),m&&r(u.prototype,"size",{get:function(){return l(this[f])}}),u},def:function(e,t,n){var r,a,i=v(e,t);return i?i.v=n:(e._l=i={i:a=h(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=i),r&&(r.n=i),e[f]++,"F"!==a&&(e._i[a]=i)),e},getEntry:v,setStrong:function(e,t,n){d(e,t,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?u(0,n.k):"values"==t?u(0,n.v):u(0,[n.k,n.v]):(e._t=void 0,u(1))},n?"entries":"values",!n,!0),p(t)}}},1617:function(e,t,n){"use strict";var r=n(30),a=n(41),i=n(294),o=n(84),s=n(66),l=n(658),c=n(653),d=n(657),u=n(65),p=n(119),m=n(47).f,h=n(1618)(0),f=n(57);e.exports=function(e,t,n,v,g,y){var A=r[e],w=A,b=g?"set":"add",x=w&&w.prototype,k={};return f&&"function"==typeof w&&(y||x.forEach&&!o(function(){(new w).entries().next()}))?(w=t(function(t,n){d(t,w,e,"_c"),t._c=new A,void 0!=n&&c(n,g,t[b],t)}),h("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in x&&(!y||"clear"!=e)&&s(w.prototype,e,function(n,r){if(d(this,w,e),!t&&y&&!u(n))return"get"==e&&void 0;var a=this._c[e](0===n?0:n,r);return t?this:a})}),"size"in x&&m(w.prototype,"size",{get:function(){return this._c.size}})):(w=v.getConstructor(t,e,g,b),l(w.prototype,n),i.NEED=!0),p(w,e),k[e]=w,a(a.G+a.W+a.F,k),y||v.setStrong(w,e,g),w}},1618:function(e,t,n){var r=n(83),a=n(296),i=n(103),o=n(162),s=n(1619);e.exports=function(e,t){var n=1==e,l=2==e,c=3==e,d=4==e,u=6==e,p=5==e||u,m=t||s;return function(t,s,h){for(var f,v,g=i(t),y=a(g),A=r(s,h,3),w=o(y.length),b=0,x=n?m(t,w):l?m(t,0):void 0;w>b;b++)if((p||b in y)&&(f=y[b],v=A(f,b,g),e))if(n)x[b]=v;else if(v)switch(e){case 3:return!0;case 5:return f;case 6:return b;case 2:x.push(f)}else if(d)return!1;return u?-1:c||d?d:x}}},1619:function(e,t,n){var r=n(1620);e.exports=function(e,t){return new(r(e))(t)}},1620:function(e,t,n){var r=n(65),a=n(687),i=n(22)("species");e.exports=function(e){var t;return a(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!a(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},1621:function(e,t,n){var r=n(41);r(r.P+r.R,"Set",{toJSON:n(1622)("Set")})},1622:function(e,t,n){var r=n(163),a=n(1623);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return a(this)}}},1623:function(e,t,n){var r=n(653);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},675:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(15)),i=r(n(56)),o=r(n(290)),s=r(n(16)),l=r(n(10)),c=r(n(11)),d=r(n(100)),u=r(n(0)),p=r(n(676)),m=function(){function e(t){(0,l.default)(this,e),this.onInit(),this.makePDF=this.makePDF.bind(this,t)}return(0,c.default)(e,[{key:"onInit",value:function(){this.logo=n(1256),this.exportDate=(0,u.default)().format("Do MMM, YYYY")}},{key:"printDate",value:function(e){return(0,u.default)(e).format("Do MMM, YYYY")}},{key:"setData",value:function(e,t,n){this.projectList=e,this.country=t,this.isAllCountry=t&&!1===t.id,this.countryFlag=n}},{key:"makePDF",value:function(){var e=(0,s.default)(a.default.mark(function e(t){var r,s,l,c,u,m,h,f=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.e(13).then(n.bind(null,1634)),s=n.e(12).then(n.bind(null,1635)),e.next=4,i.default.all([r,s]);case 4:l=e.sent,c=(0,o.default)(l,2),u=c[0],m=c[1],u.vfs=m.pdfMake.vfs,this.pdfMake=u.createPdf,h={content:[{table:{widths:["50%","50%"],headerRows:2,body:[[{text:t.getString("Digital Health Atlas"),fillColor:"#1A237E",color:"#FFFFFF",colSpan:2,style:"mainHeader",margin:[5,0,0,0]},""],[{text:this.country.name.toUpperCase(),fillColor:"#EEEEEE",color:"#000000",style:"headerSecondRow",margin:[5,0,0,0]},{text:t.getString("List exported on "+this.exportDate),fillColor:"#EEEEEE",color:"#000000",style:"headerSecondRowRight",margin:[0,0,5,0]}]]},layout:"noBorders",margin:[0,10]}],defaultStyle:{font:"Roboto",fontSize:10},pageSize:"A4",margin:[40,40,40,40],pageOrientation:"landscape",styles:{mainHeader:{bold:!0,fontSize:16},headerSecondRow:{alignment:"left",fontSize:12,bold:!0},headerSecondRowRight:{alignment:"right",fontSize:12},tableHeader:{bold:!0,fontSize:14},subHeader:{bold:!0,fontSize:10,color:"#8A8A8A"}},images:p.default},(0,d.default)(this.projectList,function(e,n){var r=e.country_name.replace("-"," ").toUpperCase();h.content.push({margin:[0,10],table:{widths:[118,118,118,118,118,118],headerRows:1,body:[[{text:n+1+". "+(e.name||""),fillColor:"#EEEEEE",style:"tableHeader",colSpan:f.isAllCountry?4:5},"","","",f.isAllCountry?{text:t.getString("UUID: "+(e.uuid||"")),style:"subHeader"}:"",f.isAllCountry?r:{text:t.getString("UUID: "+(e.uuid||"")),style:"subHeader"}],[[{text:t.getString("Date of:"),style:"subHeader"},f.printDate(e.implementation_dates)],[{text:t.getString("Organisation name:"),style:"subHeader"},e.organisation_name||""],[{text:t.getString("Donors:"),style:"subHeader"},e.donors.join(", ")],[{text:t.getString("Implementing partners:"),style:"subHeader"},e.implementing_partners||""],[{text:t.getString("Health Focus Area:"),style:"subHeader"},e.health_focus_areas?e.health_focus_areas.join(", "):""],[{text:t.getString("Point of contact:"),style:"subHeader"},(e.contact_name||"")+" - "+(e.contact_email||"")]],[{stack:[{text:t.getString("Overview of digital health implementation:"),style:"subHeader"},{text:e.implementation_overview||""}],colSpan:3},"","",{stack:[{text:t.getString("Geographical coverage:"),style:"subHeader"},e.geographic_scope||""],colSpan:3},"",""]]}})}),this.pdfMake(h).download("clv-searchable-export.pdf");case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=m,e.exports=t.default},676:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={blackSquare:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAZCAYAAAC/zUevAAAEDWlDQ1BJQ0MgUHJvZmlsZQAAOI2NVV1oHFUUPrtzZyMkzlNsNIV0qD8NJQ2TVjShtLp/3d02bpZJNtoi6GT27s6Yyc44M7v9oU9FUHwx6psUxL+3gCAo9Q/bPrQvlQol2tQgKD60+INQ6Ium65k7M5lpurHeZe58853vnnvuuWfvBei5qliWkRQBFpquLRcy4nOHj4g9K5CEh6AXBqFXUR0rXalMAjZPC3e1W99Dwntf2dXd/p+tt0YdFSBxH2Kz5qgLiI8B8KdVy3YBevqRHz/qWh72Yui3MUDEL3q44WPXw3M+fo1pZuQs4tOIBVVTaoiXEI/MxfhGDPsxsNZfoE1q66ro5aJim3XdoLFw72H+n23BaIXzbcOnz5mfPoTvYVz7KzUl5+FRxEuqkp9G/Ajia219thzg25abkRE/BpDc3pqvphHvRFys2weqvp+krbWKIX7nhDbzLOItiM8358pTwdirqpPFnMF2xLc1WvLyOwTAibpbmvHHcvttU57y5+XqNZrLe3lE/Pq8eUj2fXKfOe3pfOjzhJYtB/yll5SDFcSDiH+hRkH25+L+sdxKEAMZahrlSX8ukqMOWy/jXW2m6M9LDBc31B9LFuv6gVKg/0Szi3KAr1kGq1GMjU/aLbnq6/lRxc4XfJ98hTargX++DbMJBSiYMIe9Ck1YAxFkKEAG3xbYaKmDDgYyFK0UGYpfoWYXG+fAPPI6tJnNwb7ClP7IyF+D+bjOtCpkhz6CFrIa/I6sFtNl8auFXGMTP34sNwI/JhkgEtmDz14ySfaRcTIBInmKPE32kxyyE2Tv+thKbEVePDfW/byMM1Kmm0XdObS7oGD/MypMXFPXrCwOtoYjyyn7BV29/MZfsVzpLDdRtuIZnbpXzvlf+ev8MvYr/Gqk4H/kV/G3csdazLuyTMPsbFhzd1UabQbjFvDRmcWJxR3zcfHkVw9GfpbJmeev9F08WW8uDkaslwX6avlWGU6NRKz0g/SHtCy9J30o/ca9zX3Kfc19zn3BXQKRO8ud477hLnAfc1/G9mrzGlrfexZ5GLdn6ZZrrEohI2wVHhZywjbhUWEy8icMCGNCUdiBlq3r+xafL549HQ5jH+an+1y+LlYBifuxAvRN/lVVVOlwlCkdVm9NOL5BE4wkQ2SMlDZU97hX86EilU/lUmkQUztTE6mx1EEPh7OmdqBtAvv8HdWpbrJS6tJj3n0CWdM6busNzRV3S9KTYhqvNiqWmuroiKgYhshMjmhTh9ptWhsF7970j/SbMrsPE1suR5z7DMC+P/Hs+y7ijrQAlhyAgccjbhjPygfeBTjzhNqy28EdkUh8C+DU9+z2v/oyeH791OncxHOs5y2AtTc7nb/f73TWPkD/qwBnjX8BoJ98VVBg/m8AAABFSURBVEgN7dKxDQAwCANBk/13hhT5GUjxSJFLosOVpO9bnbO6/S33E1xBCSUQIO2EEgiQdkIJBEg7oQQCpJ1QAgHyi04MPosBMXfgJ8EAAAAASUVORK5CYII=",lightBlueSquare:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAZCAYAAAC/zUevAAAEDWlDQ1BJQ0MgUHJvZmlsZQAAOI2NVV1oHFUUPrtzZyMkzlNsNIV0qD8NJQ2TVjShtLp/3d02bpZJNtoi6GT27s6Yyc44M7v9oU9FUHwx6psUxL+3gCAo9Q/bPrQvlQol2tQgKD60+INQ6Ium65k7M5lpurHeZe58853vnnvuuWfvBei5qliWkRQBFpquLRcy4nOHj4g9K5CEh6AXBqFXUR0rXalMAjZPC3e1W99Dwntf2dXd/p+tt0YdFSBxH2Kz5qgLiI8B8KdVy3YBevqRHz/qWh72Yui3MUDEL3q44WPXw3M+fo1pZuQs4tOIBVVTaoiXEI/MxfhGDPsxsNZfoE1q66ro5aJim3XdoLFw72H+n23BaIXzbcOnz5mfPoTvYVz7KzUl5+FRxEuqkp9G/Ajia219thzg25abkRE/BpDc3pqvphHvRFys2weqvp+krbWKIX7nhDbzLOItiM8358pTwdirqpPFnMF2xLc1WvLyOwTAibpbmvHHcvttU57y5+XqNZrLe3lE/Pq8eUj2fXKfOe3pfOjzhJYtB/yll5SDFcSDiH+hRkH25+L+sdxKEAMZahrlSX8ukqMOWy/jXW2m6M9LDBc31B9LFuv6gVKg/0Szi3KAr1kGq1GMjU/aLbnq6/lRxc4XfJ98hTargX++DbMJBSiYMIe9Ck1YAxFkKEAG3xbYaKmDDgYyFK0UGYpfoWYXG+fAPPI6tJnNwb7ClP7IyF+D+bjOtCpkhz6CFrIa/I6sFtNl8auFXGMTP34sNwI/JhkgEtmDz14ySfaRcTIBInmKPE32kxyyE2Tv+thKbEVePDfW/byMM1Kmm0XdObS7oGD/MypMXFPXrCwOtoYjyyn7BV29/MZfsVzpLDdRtuIZnbpXzvlf+ev8MvYr/Gqk4H/kV/G3csdazLuyTMPsbFhzd1UabQbjFvDRmcWJxR3zcfHkVw9GfpbJmeev9F08WW8uDkaslwX6avlWGU6NRKz0g/SHtCy9J30o/ca9zX3Kfc19zn3BXQKRO8ud477hLnAfc1/G9mrzGlrfexZ5GLdn6ZZrrEohI2wVHhZywjbhUWEy8icMCGNCUdiBlq3r+xafL549HQ5jH+an+1y+LlYBifuxAvRN/lVVVOlwlCkdVm9NOL5BE4wkQ2SMlDZU97hX86EilU/lUmkQUztTE6mx1EEPh7OmdqBtAvv8HdWpbrJS6tJj3n0CWdM6busNzRV3S9KTYhqvNiqWmuroiKgYhshMjmhTh9ptWhsF7970j/SbMrsPE1suR5z7DMC+P/Hs+y7ijrQAlhyAgccjbhjPygfeBTjzhNqy28EdkUh8C+DU9+z2v/oyeH791OncxHOs5y2AtTc7nb/f73TWPkD/qwBnjX8BoJ98VVBg/m8AAABISURBVEgN7dKxDQAgCERRZP8t7WwcQRKSPwMWn+ZKyOPWPvfF8OTw/l7vEXxBCSUQIO2EEgiQdkIJBEg7oQQCpJ1QAgHyi04UvuAD7UMtw/MAAAAASUVORK5CYII=",digitalHealthAtlas:"data:image/png;base64,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"},e.exports=t.default},680:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(15)),o=a(n(16)),s=a(n(686)),l=a(n(1613)),c=a(n(656)),d=a(n(164)),u=a(n(290)),p=a(n(10)),m=a(n(11)),h=a(n(654)),f=a(n(100)),v=a(n(167)),g=a(n(655)),y=a(n(0)),A=a(n(675)),w=r(n(46)),b=r(n(20)),x=function(){function e(t,n,r,a,i){(0,p.default)(this,e),this.scope=t,this.filter=n,this.state=r,this.gettextCatalog=i,this.pdfExport=new A.default(i),this.$onInit=this.onInit.bind(this),this.$onDestroy=this.onDestroy.bind(this),this.generateFilters=this.generateFilters.bind(this),this.prepareFiltersCheckboxes=this.prepareFiltersCheckboxes.bind(this),this.watchers=this.watchers.bind(this),this.mapState=this.mapState.bind(this),this.checkIfFilterIsApplied=this.checkIfFilterIsApplied.bind(this),this.unsubscribe=a.connect(this.mapState,w)(this)}return(0,m.default)(e,[{key:"mapState",value:function(e){var t=w.getCurrentCountryMapData(e),n=w.getCurrentCountryDistrictProjects(e),r=(0,v.default)(this.selectedCountry)?w.getCurrentCountry(e):this.selectedCountry,a=w.getCurrentCountryProjects(e),i=(0,h.default)(a),o=this.filterNLDProjects(a,n);return{countryDistrictProjects:n,userProfile:b.getProfile(e),countries:w.getCountriesList(e),countriesLib:w.getCountriesLib(e),selectedCountry:r,mapData:t,districtProjects:n,projectsData:a,countryProjects:i,nationalLevelCoverage:o}}},{key:"onInit",value:function(){this.header=this.generateHeader(),this.lastFilter=null,this.showOnlyApproved=!1,this.filterBit=0,this.watchers(),this.showAllCountries={id:!1,name:"Show all countries"}}},{key:"onDestroy",value:function(){this.unsubscribe()}},{key:"watchers",value:function(){this.scope.$watchCollection(function(e){return e.vm.countryProjects},this.generateFilters),this.scope.$watch(function(e){return e.vm.filters},this.checkIfFilterIsApplied,!0),this.scope.$watch(function(e){return e.vm.selectedCountry},this.updateCountry.bind(this),!0),this.scope.$watchGroup([function(e){return e.vm.showOnlyApproved},function(e){return e.vm.filterBit}],this.applyFilters.bind(this)),this.scope.$watch(function(e){return e.vm.currentTab},this.handleTabSwitch.bind(this))}},{key:"checkIfFilterIsApplied",value:function(e,t){if(e&&t){var n=t.map(function(e){return e.open}),r=e.map(function(e){return e.open});n.every(function(e,t){return e===r[t]})&&Array.isArray(this.countryProjects)&&(this.filterBit+=1)}}},{key:"handleTabSwitch",value:function(e,t){0===e&&1===t&&!1===this.selectedCountry.id&&this.loadCountryProjectsOrAll(this.mapData.id)}},{key:"applyFilters",value:function(e){var t=this,n=(0,u.default)(e,1)[0],r=(n=this.selectedCountry.project_approval&&n)?this.countryProjects.filter(function(e){return e.approved}):this.countryProjects,a=[],i=[],o=function(e){var t=e.items.filter(function(e){return e.value}).map(function(e){return e.name});i=[].concat((0,d.default)(i),(0,d.default)(t));var n=function(e){return t.indexOf(e)>-1};if(t&&t.length>0){var o=!0,s=!1,l=void 0;try{for(var u,p=(0,c.default)(r);!(o=(u=p.next()).done);o=!0){var m=u.value;e.filterMappingFn(m).some(n)&&(a.includes(m)||a.push(m))}}catch(e){s=!0,l=e}finally{try{!o&&p.return&&p.return()}finally{if(s)throw l}}}},s=!0,l=!1,p=void 0;try{for(var m,h=(0,c.default)(this.filters);!(s=(m=h.next()).done);s=!0){o(m.value)}}catch(e){l=!0,p=e}finally{try{!s&&h.return&&h.return()}finally{if(l)throw p}}this.scope.$evalAsync(function(){i&&i.length>0?t.projectsData=a:t.projectsData=r,t.nationalLevelCoverage=t.filterNLDProjects(t.projectsData),t.districtProjects=t.filterDLDProjects(t.projectsData)})}},{key:"generateHeader",value:function(){return{name:{up:!1,down:!1},country:{up:!1,down:!1},organisation_name:{up:!1,down:!1},donors:{up:!1,down:!1},contact_name:{up:!1,down:!1},implementation_overview:{up:!1,down:!1},implementing_partners:{up:!1,down:!1},geographic_scope:{up:!1,down:!1},health_focus_areas:{up:!1,down:!1}}}},{key:"prepareFiltersCheckboxes",value:function(e){var t=new l.default,n=!0,r=!1,a=void 0;try{for(var i,o=(0,c.default)(this.countryProjects);!(n=(i=o.next()).done);n=!0){var d=i.value,u=[];u=(u=e instanceof Function?e(d):d[e])||[];var p=!0,m=!1,h=void 0;try{for(var f,v=(0,c.default)(u);!(p=(f=v.next()).done);p=!0){var g=f.value;t.add(g)}}catch(e){m=!0,h=e}finally{try{!p&&v.return&&v.return()}finally{if(m)throw h}}}}catch(e){r=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw a}}return(t=(0,s.default)(t)).map(function(e){return{value:!1,name:e}})}},{key:"generateFilters",value:function(e){if(e&&Array.isArray(e)){var t=this.gettextCatalog,n={name:t.getString("Digital Health Interventions"),filterMappingFn:function(e){return Array.isArray(e.digital_strategies)?e.digital_strategies:[]},open:!1,items:this.prepareFiltersCheckboxes("digital_strategies")},r={name:t.getString("Health Focus Areas"),filterMappingFn:function(e){return Array.isArray(e.health_focus_areas)?e.health_focus_areas:[]},open:!1,items:this.prepareFiltersCheckboxes("health_focus_areas")},a={name:t.getString("Health Information Systems"),filterMappingFn:function(e){return Array.isArray(e.his_bucket)?e.his_bucket:[]},open:!1,items:this.prepareFiltersCheckboxes("his_bucket")},i={name:t.getString("Health System Challenges"),filterMappingFn:function(e){return Array.isArray(e.hsc_challenges)?e.hsc_challenges:[]},open:!1,items:this.prepareFiltersCheckboxes("hsc_challenges")},o={name:t.getString("Software"),filterMappingFn:function(e){return Array.isArray(e.platforms)?e.platforms:[]},open:!1,items:this.prepareFiltersCheckboxes("platforms")};this.filters=[n,r,a,i,o]}}},{key:"filterNLDProjects",value:function(e){var t=[];for(var n in this.countryDistrictProjects)t=t.concat(this.countryDistrictProjects[n]);return t=(0,s.default)(new l.default(t)),t=t.map(function(e){return e.id}),e.filter(function(e){return-1===t.indexOf(e.id)})}},{key:"filterDLDProjects",value:function(e){var t={},n=e.map(function(e){return e.id});for(var r in this.countryDistrictProjects){var a=this.countryDistrictProjects[r].filter(function(e){return n.indexOf(e.id)>-1});a&&a.length>0&&(t[r]=a)}return t}},{key:"updateCountry",value:function(e,t){t&&e.id!==t.id&&(e.id?this.setCurrentCountry(e.id):this.setCurrentCountry(null),this.loadCountryProjectsOrAll(e.id)),0===this.projectsData.length&&this.loadCountryProjectsOrAll(e.id),e.id&&this.projectsData.some(function(t){return t.country!==e.id})&&this.loadCountryProjectsOrAll(e.id)}},{key:"exportPDF",value:function(){this.pdfExport.setData(this.projectsData,this.selectedCountry),this.pdfExport.makePDF()}},{key:"exportCSV",value:function(){var e=(0,o.default)(i.default.mark(function e(){var t,n,r,a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,g.default)(this.projectsData,function(e){return e.id}),e.next=3,w.csvExport(t);case 3:n=e.sent,r=encodeURI("data:text/csv;charset=utf-8,"+n),(a=document.createElement("a")).setAttribute("href",r),a.setAttribute("download","clv-export-"+(0,y.default)().format("MMMM-Do-YYYY-h-mm-ss ")+".csv"),a.setAttribute("target","_blank"),document.body.appendChild(a),a.click();case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"orderTable",value:function(e){(0,f.default)(this.header,function(e){e.up=!1,e.down=!1}),this.header[e].down=!0;var t=null,n="-"+e;e!==this.lastFilter&&(t=e,n=e,this.header[e].down=!1,this.header[e].up=!0),this.lastFilter=t,this.projectsData=this.filter("orderBy")(this.projectsData,n)}},{key:"printImplementingPartners",value:function(e){var t=e.implementing_partners;return t.length>0?t.join(", ").trim():""}}],[{key:"factory",value:function(){function t(t,n,r,a,i){return new e(t,n,r,a,i)}return t.$inject=["$scope","$filter","$state","$ngRedux","gettextCatalog"],t}}]),e}();t.default=x,e.exports=t.default},742:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(680)),i=r(n(1458));n(1460);var o={controller:a.default.factory(),template:i.default,controllerAs:"vm",name:"dashboard"};t.default=o,e.exports=t.default}});