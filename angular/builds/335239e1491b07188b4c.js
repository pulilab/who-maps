webpackJsonp([2],{1238:function(e,n){e.exports='<md-dialog aria-label="add-new-content" class="detail-dialog new-content-dialog">\n  <md-toolbar>\n    <div class="md-toolbar-tools">\n      <h3 class="md-title" ng-hide="vm.newContent.id">\n        <translate>Add new</translate>\n        <span>\n          <translate>content</translate>\n        </span>\n      </h3>\n      <h3 class="md-title" ng-show="vm.newContent.id">Edit content</h3>\n      <span flex></span>\n      <md-button class="md-icon-button" ng-click="vm.cancel()">\n        <md-icon  aria-label="Close dialog">close</md-icon>\n      </md-button>\n    </div>\n  </md-toolbar>\n\n  <form name="vm.form" ng-submit="vm.submit($event)" novalidate>\n    <md-dialog-content>\n      <div class="md-dialog-content">\n\n        <div class="content">\n          <div layout="column">\n            <md-input-container >\n              <label>\n                <translate>Select a type</translate>\n              </label>\n              <md-select ng-model="vm.newContent.type" required name="type" >\n                <md-option ng-value="1">\n                  <translate>Resources</translate>\n                </md-option>\n                <md-option ng-value="2" ng-if="vm.isSuperUser" >\n                  <translate>Tips &amp; Considerations</translate>\n                </md-option>\n                <md-option ng-value="3" >\n                  <translate>Experiences</translate>\n                </md-option>\n              </md-select>\n              <div ng-messages="vm.form.type.$error">\n                <div ng-message="required">\n                  <translate>This is required.</translate>\n                </div>\n              </div>\n            </md-input-container>\n            <md-input-container>\n              <label>\n                <translate>Select a domain</translate>\n              </label>\n              <md-select aria-label="domain-selector" name="domain" ng-model="vm.newContent.domain" required class="">\n                <md-optgroup label="{{axis.name}}" ng-repeat="axis in vm.axes">\n                  <md-option ng-value="domain.id" ng-repeat="domain in axis.domains track by domain.id">{{domain.name}}</md-option>\n                </md-optgroup>\n              </md-select>\n              <div ng-messages="vm.form.domain.$error">\n                <div ng-message="required">\n                  <translate>This is required.</translate>\n                </div>\n              </div>\n            </md-input-container>\n\n            <md-input-container>\n              <label>\n                <translate>Add a title</translate>\n              </label>\n              <input type="text" ng-model="vm.newContent.name"  name="name" required md-maxlength="120" />\n              <div ng-messages="vm.form.name.$error">\n                <div ng-message="required">\n                  <translate>This is required.</translate>\n                </div>\n                <div ng-message="md-maxlength">\n                  <translate>The name has to be less than 120 characters long.</translate>\n                </div>\n              </div>\n            </md-input-container>\n          </div>\n\n          <trix-component value="vm.newContent.body" show-error="vm.showTrixError" valid="vm.newContent.textValid" placeholder="{{\'Add content\' | translate}}" char-limit="2500" required></trix-component>\n\n          <div class="file-upload" layout="row" layout-align="start center" ng-if="vm.newContent.type !== 3">\n            <div class="selected-file-thumbnail">\n              <img ngf-thumbnail="vm.newContent.cover" ngf-size="{width: auto, height: 36, quality: 0.9}">\n            </div>\n            <div class="md-button md-gray" ngf-select ng-model="vm.newContent.cover" ngf-pattern="\'image/*\'"\n                 ngf-accept="\'image/*\'" ngf-max-size="10MB" ngf-min-height="100" ngf-before-model-change="vm.beforeImageSelect()" ng-change="vm.imageSelected()">\n              <md-icon>insert_photo</md-icon>\n              <translate>Add cover image</translate>\n            </div>\n            <div>\n              <small>\n                <translate>Maximum file size: 10MB</translate>\n              </small>\n            </div>\n          </div>\n        </div>\n      </div>\n    </md-dialog-content>\n\n    <md-dialog-actions layout="row">\n      <md-button ng-click="vm.cancel()">\n        <translate>Cancel</translate>\n      </md-button>\n      <span flex></span>\n      <md-button  class="md-primary md-raised" ng-disabled="vm.disableSubmit" type="submit">\n        <translate>Submit</translate>\n      </md-button>\n    </md-dialog-actions>\n  </form>\n\n</md-dialog>\n'},1239:function(e,n){},1240:function(e,n){e.exports='<md-button ng-click="vm.showAddNewContentDialog($event)" ng-hide="vm.toEdit" class="md-primary md-raised add-new">\n  <md-icon class="material-icons">add</md-icon>\n  <translate>Add new content</translate>\n</md-button>\n<md-button class="edit-button" md-no-ink ng-show="vm.toEdit" ng-click="vm.showAddNewContentDialog($event)">\n  <md-icon>create</md-icon>\n  <span class="edit-text">\n    <translate>Edit</translate>\n  </span>\n</md-button>\n'},1241:function(e,n){},1242:function(e,n){e.exports='<div md-whiteframe="2" class="comment" ng-class="{\'expanded\': vm.expanded}" layout="row" layout-align="start start">\n  <div class="avatar-img">\n    <span ng-hide="vm.item.avatar" class="no-avatar"></span>\n    <img ng-show="vm.item.avatar" ng-src="{{vm.item.avatar}}" alt="avatar">\n  </div>\n  <div class="excerpt">\n    <h3 class="md-title">{{vm.getUsername()}}</h3>\n    <div class="comment-info">\n      <small class="time">\n        {{vm.prettifyDate(vm.comment)}}\n        <span class="sep">|</span>\n        \x3c!-- visible if user is able to edit --\x3e\n        <span ng-show="vm.isAuthor()">\n          <md-button class="edit-button" md-no-ink ng-click="vm.edit()">\n            <md-icon>create</md-icon>\n            <span class="edit-text">\n              <translate>Edit</translate>\n            </span>\n          </md-button>\n          <cms-report-delete-button type="delete" item="vm.comment"></cms-report-delete-button>\n          <span class="sep">|</span>\n        </span>\n        \x3c!-- / --\x3e\n        <cms-report-delete-button item="vm.comment"></cms-report-delete-button>\n      </small>\n    </div>\n    <div class="comment-text" ng-if="!vm.editMode">\n      <div class="comment-text-wrapper" ng-bind-html="vm.postProcessHtml(vm.comment.text)"></div>\n      <span ng-click="vm.readMore()" ng-show="vm.comment.text.length > 200" class="read-more">\n        <span ng-hide="vm.expanded">\n          <translate>Read more...</translate>\n        </span>\n        <span ng-show="vm.expanded">\n          <translate>...Read less</translate>\n        </span>\n      </span>\n    </div>\n    <div class="comment-text" ng-if="vm.editMode">\n      <trix-component placeholder="{{\'Start typing here...\' | translate }}" valid="vm.modified.valid" value="vm.modified.text" char-limit="2500"></trix-component>\n      <md-button class="md-primary md-raised" ng-click="vm.update()" ng-disabled="!vm.modified.valid">\n        <md-icon>done</md-icon>\n        <translate>Save</translate>\n      </md-button>\n      <md-button ng-click="vm.edit()">\n        <md-icon>undo</md-icon>\n        <translate>Cancel</translate>\n      </md-button>\n    </div>\n  </div>\n\n</div>\n'},1243:function(e,n){},1244:function(e,n){e.exports='<div md-whiteframe="2" class="cms-widget-wrapper" layout="column"  layout-align="start center">\n\n  <div class="cms-widget-header" ng-class="vm.axisColor" layout="row">\n    <div class="domain-icon" ng-class="vm.domainIcon"></div>\n    <div class="domain-score">\n      <translate>You\'ve scored {{vm.domainScore}} % in {{vm.currentDomain.name}} domain!</translate>\n    </div>\n    <div flex></div>\n    <div class="domain-selector">\n      <md-select aria-label="domain-selector" ng-model="vm.currentDomain" md-selected-text="\'Select a domain\' | translate" class="">\n        <md-optgroup label="{{axis.name}}" ng-repeat="axis in vm.axes">\n          <md-option ng-value="domain" ng-repeat="domain in axis.domains">{{domain.name}}</md-option>\n        </md-optgroup>\n      </md-select>\n    </div>\n    <div class="domain-arrows">\n      <md-button ng-click="vm.prevDomain()">\n        <md-icon>keyboard_arrow_left</md-icon>\n      </md-button>\n      <md-button ng-click="vm.nextDomain()">\n        <md-icon>keyboard_arrow_right</md-icon>\n      </md-button>\n    </div>\n  </div>\n\n  <div layout="row" layout-margin="10" layout-wrap>\n    <div class="category-column" layout="column" flex>\n      <div md-whiteframe="2" class="category-header lessons-tips" layout="row"  layout-align="start center">\n        <h4>\n          <translate>Tips and Considerations</translate>\n        </h4>\n      </div>\n      <cms-list-element ng-repeat="item in vm.lessons | orderBy:\'id\':true | limitTo:3" item="item"></cms-list-element>\n      <div md-whiteframe="2"\n           layout="row"\n           layout-align="start center"\n           ng-show="vm.lessons.length === 0"\n           class="empty-card">\n        <translate>No lessons have been added yet...</translate>\n      </div>\n\n      <md-button md-no-ink ui-sref="cms({\'#\': \'lessons\'})" class="md-primary md-small goto-cms">\n        <translate>More Tips &amp; Considerations</translate>\n      </md-button>\n    </div>\n    <div class="category-column" layout="column" flex>\n      <div md-whiteframe="2" class="category-header resources" layout="row"  layout-align="start center">\n        <h4>\n          <translate>Resources</translate>\n        </h4>\n      </div>\n      <cms-list-element ng-repeat="item in vm.resources | orderBy:\'id\':true | limitTo:3" item="item"></cms-list-element>\n      <div md-whiteframe="2"\n           layout="row"\n           layout-align="start center"\n           ng-show="vm.resources.length === 0"\n           class="empty-card">\n        <translate>No resources have been added yet...</translate>\n      </div>\n      <md-button md-no-ink ui-sref="cms({\'#\': \'resources\'})" class="md-primary md-small goto-cms">\n        <translate>More Resources</translate>\n      </md-button>\n    </div>\n    <div class="category-column" layout="column" flex>\n      <div md-whiteframe="2"\n           class="category-header experiences"\n           layout="row"\n           layout-align="start center">\n        <h4>\n          <translate>Experiences</translate>\n        </h4>\n      </div>\n      <cms-list-element ng-repeat="item in vm.experiences | orderBy:\'id\':true | limitTo:3" item="item"></cms-list-element>\n      <div md-whiteframe="2"\n           layout="row"\n           layout-align="start center"\n           ng-show="vm.experiences.length === 0"\n           class="empty-card">\n        <translate>No experiences have been added yet...</translate>\n      </div>\n      <md-button md-no-ink ui-sref="cms({\'#\': \'experiences\'})" class="md-primary md-small goto-cms">\n        <translate>More Experiences</translate>\n      </md-button>\n    </div>\n  </div>\n\n</div>\n'},1245:function(e,n){e.exports='<md-dialog aria-label="detail-dialog" class="detail-dialog">\n  <md-toolbar>\n    <div class="md-toolbar-tools">\n      <h3 class="md-title">{{vm.itemType(vm.content)}}</h3>\n      <span flex></span>\n      <md-button class="md-icon-button" ng-click="vm.cancel()">\n        <md-icon aria-label="Close dialog">close</md-icon>\n      </md-button>\n    </div>\n  </md-toolbar>\n\n  <md-dialog-content>\n    <div class="md-dialog-content" ng-class="vm.content.type">\n      <div class="content">\n\n        \x3c!-- Lessons & tips / Resources --\x3e\n        <div class="cms-content-wrapper" ng-if="vm.content.type !== 3" layout="column">\n          <div class="content-header">\n            <div class="name md-display-1">\n              {{vm.content.name}}\n            </div>\n\n            <div class="created">\n\n              <translate>by {{vm.content.author_name}} at {{vm.prettifyDate(vm.content)}}</translate>\n\n              \x3c!-- visible if user is able to edit --\x3e\n              <span ng-show="vm.isAuthor()">\n                <span class="sep">|</span>\n                <cms-add-new-content to-edit="vm.content"></cms-add-new-content>\n                <cms-report-delete-button type="delete" item="vm.content"></cms-report-delete-button>\n              </span>\n              \x3c!-- / --\x3e\n              <span ng-if="vm.content.type === 1">\n                <span class="sep">|</span>\n                <cms-report-delete-button type="report"  item="vm.content"></cms-report-delete-button>\n              </span>\n            </div>\n          </div>\n\n          <div layout="row">\n            <div class="cover">\n              <a href="{{vm.content.cover}}" target="_blank">\n                <img ng-src="{{vm.content.cover}}"  ng-if="vm.content.cover" />\n              </a>\n              <span class="no-cover" ng-if="!vm.content.cover"></span>\n            </div>\n\n            <div class="body" ng-if="!vm.editMode" ng-bind-html="vm.postProcessHtml(vm.content.body)"></div>\n            <div class="body edit-mode" ng-if="vm.editMode">\n              <trix-component placeholder="{{\'Start typing here...\' | translate }}" valid="vm.modified.valid" value="vm.modified.body" char-limit="2500"></trix-component>\n              <md-button class="md-primary md-raised" ng-click="vm.update()" ng-disabled="!vm.modified.valid">\n                <md-icon>done</md-icon>\n                <translate>Save</translate>\n              </md-button>\n              <md-button ng-click="vm.edit()">\n                <md-icon>undo</md-icon>\n                <translate>Cancel</translate>\n              </md-button>\n            </div>\n          </div>\n        </div>\n        \x3c!-- /end --\x3e\n\n        \x3c!-- Experiences --\x3e\n        <div class="cms-content-wrapper experiences" ng-if="vm.content.type === 3" layout="column">\n          <div class="content-header">\n            <div class="name md-display-1">\n              {{vm.content.name}}\n            </div>\n\n            <div class="created">\n              <translate>by {{vm.content.author_name}} at {{vm.prettifyDate(vm.content)}}</translate>\n\n              <span class="sep">|</span>\n              \x3c!-- visible if user is able to edit --\x3e\n              <span ng-show="vm.isAuthor()">\n                <md-button class="edit-button" md-no-ink ng-click="vm.edit()">\n                  <md-icon>create</md-icon>\n                  <translate>Edit</translate>\n                </md-button>\n                <cms-report-delete-button type="delete" item="vm.content"></cms-report-delete-button>\n                <span class="sep">|</span>\n              </span>\n              \x3c!-- / --\x3e\n              <cms-report-delete-button type="report" item="vm.content"></cms-report-delete-button>\n            </div>\n\n          </div>\n\n          <div class="body" ng-if="!vm.editMode" ng-bind-html="vm.postProcessHtml(vm.content.body)"></div>\n\n          <div class="body edit-mode" ng-if="vm.editMode">\n            <trix-component placeholder="{{\'Start typing here...\' | translate }}" valid="vm.modified.valid" value="vm.modified.body" char-limit="2500"></trix-component>\n            <md-button class="md-primary md-raised" ng-click="vm.update()" ng-disabled="!vm.modified.valid">\n              <md-icon>done</md-icon>\n              <translate>Save</translate>\n            </md-button>\n            <md-button ng-click="vm.edit()" >\n              <md-icon>undo</md-icon>\n              <translate>Cancel</translate>\n            </md-button>\n          </div>\n        </div>\n        \x3c!-- /end --\x3e\n\n      </div>\n\n      <div class="comment-wrapper" ng-show="vm.content.comments.length > 0">\n        <h3 class="md-title">\n          <translate>Comments ({{vm.content.comments.length}})</translate>\n        </h3>\n\n        <a ng-click="vm.scrollToAddNewComment()" class="goto-comment">\n          <md-icon aria-label="Go to Add comment">comment</md-icon>\n          <translate>Add comment</translate>\n        </a>\n\n        <cms-comment-widget comment="comment" type="vm.content.type" ng-repeat="comment in vm.content.comments"></cms-comment-widget>\n      </div>\n\n      <div class="add-new-comment" id="add-new-comment">\n        <h3 class="md-title">\n          <translate>Add new comment</translate>\n        </h3>\n        <trix-component placeholder="{{\'Start typing here...\' | translate }}" valid="vm.newComment.valid" value="vm.newComment.text" char-limit="2500"></trix-component>\n        <md-button ng-click="vm.addComment()" ng-disabled="!vm.newComment.valid" class="md-primary md-raised add-comment">\n          <translate>Add  comment</translate>\n        </md-button>\n      </div>\n    </div>\n  </md-dialog-content>\n\n  \x3c!-- <md-dialog-actions layout="row">\n  </md-dialog-actions> --\x3e\n</md-dialog>\n'},1246:function(e,n){},1247:function(e,n){e.exports='<md-button ng-click="vm.showDetailDialog($event, true)" class="md-primary md-small">\n  <md-icon class="material-icons">comment</md-icon>\n  <translate>Add comment ({{vm.item.comments.length}})</translate>\n</md-button>\n\n<md-button ng-click="vm.showDetailDialog($event)" class="md-primary md-small">\n  <md-icon class="material-icons">launch</md-icon>\n  <translate>Read more</translate>\n</md-button>\n'},1248:function(e,n){},1249:function(e,n){e.exports='<div md-whiteframe="2" class="cms-experience-list" layout="row" layout-align="start stretch">\n  <div class="experiences-list" flex="40">\n    <h3 class="md-title">\n      <translate>Learn from others\' experiences</translate>\n    </h3>\n    <p class="empty-card" ng-show="vm.experiences.length === 0">\n      <translate>No experience has been added yet...</translate>\n    </p>\n    <cms-list-element item="item" ng-repeat="item in vm.experiences | orderBy:\'id\':true | limitTo:2"></cms-list-element>\n    <md-button ui-sref="cms({\'#\': \'experiences\'})" class="md-primary md-raised">\n      <translate>Show more</translate>\n    </md-button>\n  </div>\n\n  <div class="add-experience" flex="60">\n    <h3 class="md-title">\n      <translate>Share your own experience</translate>\n    </h3>\n    <form name="vm.form">\n      <div layout="row">\n\n        <md-input-container>\n          <label>\n            <translate>What is your experience about (title)</translate>\n          </label>\n          <input type="text" ng-model="vm.newExperience.name"  name="name" required md-maxlength="120" />\n          <div ng-messages="vm.form.name.$error">\n            <div ng-message="required">\n              <translate>This is required.</translate>\n            </div>\n            <div ng-message="md-maxlength">\n              <translate>The name has to be less than 120 characters long.</translate>\n            </div>\n          </div>\n        </md-input-container>\n\n      </div>\n    </form>\n    <trix-component placeholder="{{\'Add new experience\' | translate }}" value="vm.newExperience.body" valid="vm.newExperience.valid" char-limit="2500"></trix-component>\n    <md-button class="md-primary md-raised" ng-disabled="vm.disableAddButton(vm.newExperience)" ng-click="vm.saveExperience()">\n      <translate>Add experience</translate>\n    </md-button>\n  </div>\n</div>\n'},1250:function(e,n){},1251:function(e,n){e.exports='\n<div ng-if="vm.item.type !== 3" md-whiteframe="2" class="cms-list-element" layout="row"  layout-align="start stretch">\n\n  <div class="cover-img">\n    <span class="no-cover" ng-class="vm.typeClass(vm.item)" ng-hide="vm.item.cover"></span>\n    <img ng-show="vm.item.cover" ng-src="{{vm.item.cover}}" alt="cover">\n  </div>\n  <div class="excerpt">\n    <h3 class="md-title">{{vm.item.name}}</h3>\n    <h6 ng-show="vm.item.type === 1">\n      <translate>Resources</translate>\n    </h6>\n    <h6 ng-show="vm.item.type === 2">\n      <translate>Tips & Considerations</translate>\n    </h6>\n    <div class="body" ng-bind-html="vm.postProcessHtml(vm.item.body)"></div>\n    <div class="metadata" layout="column">\n      <span class="author">\n        <i class="material-icons">account_box</i>\n        <translate>by {{vm.item.author_name}} at {{vm.prettifyDate(vm.item)}}</translate>\n      </span>\n      <span class="axis-domain" ng-class="vm.axisAndDomainClass()">\n        <translate>in {{vm.showAxisAndDomain()}}</translate>\n      </span>\n    </div>\n    <cms-detail-element item="vm.item"></cms-detail-element>\n  </div>\n</div>\n\n\n\x3c!-- EXPERIENCES --\x3e\n<div ng-if="vm.item.type === 3" md-whiteframe="2" class="cms-list-element experience" layout="row" layout-align="start stretch">\n\n  <div class="avatar-img">\n    <span class="no-cover"></span>\n  </div>\n  <div class="excerpt">\n\n    <h3 class="md-title">{{vm.item.name}}</h3>\n    <h6>\n      <translate>Experiences</translate>\n    </h6>\n    <div class="body" ng-bind-html="vm.postProcessHtml(vm.item.body)"></div>\n    <div class="metadata" layout="column">\n      <span class="author">\n        <i class="material-icons">account_box</i>\n        <translate>by {{vm.item.author_name}} at {{vm.prettifyDate(vm.item)}}</translate>\n      </span>\n      <span class="axis-domain" ng-class="vm.axisAndDomainClass()">\n        <translate>in {{vm.showAxisAndDomain()}}</translate>\n      </span>\n    </div>\n    <cms-detail-element item="vm.item"></cms-detail-element>\n  </div>\n\n</div>\n'},1252:function(e,n){},1253:function(e,n){e.exports='<div md-whiteframe="2" class="cms-static-info-wrapper" layout="row" layout-align="start stretch">\n  <div flex="40">\n    <h3 class="md-title">\n      <translate>Planning and Guidance</translate>\n    </h3>\n    <p>\n      <translate>\n      This section can assist in planning next steps by…\n      </translate>\n    </p>\n    <md-button class="md-primary md-raised" ui-sref="cms">\n      <translate>\n      Show more\n      </translate>\n    </md-button>\n  </div>\n  <div flex="60">\n    <ul>\n      <li>\n        <translate>\n        Presenting frameworks to articulate a project\'s endgame strategy and establish links between mHealth strategies and health system constraints\n        </translate>\n      </li>\n      <li>\n        <translate>\n        Consolidating various repositories and resources that may inform landscape mapping of mHealth deployments\n        </translate>\n      </li>\n      <li>\n        <translate>\n        Offering resources for planning and designing an mHealth project, including ways to assess the contextual environment, to ensure the project has a solid foundation\n        </translate>\n      </li>\n    </ul>\n  </div>\n</div>\n'},1254:function(e,n){},1255:function(e,n){e.exports='<div class="button-wrapper" ng-class="vm.status">\n  <md-button class="flag-button" md-no-ink ng-click="vm.open()" ng-if="!vm.isDelete">\n    <md-icon>flag</md-icon>\n    <span class="report-text">\n      <translate>Report</translate>\n    </span>\n  </md-button>\n  <md-button class="flag-button" md-no-ink ng-click="vm.open()" ng-if="vm.isDelete">\n    <md-icon>clear</md-icon>\n    <span class="delete-text">\n      <translate>Delete</translate>\n    </span>\n  </md-button>\n  <div class="warning-zone">\n    <div layout="row">\n      <div class="warning-text" flex>\n        <translate>Are you sure?</translate>\n      </div>\n      <div class="warning-actions" flex>\n        <md-button md-no-ink ng-click="vm.close()">\n          <md-icon>undo</md-icon>\n          <translate>No</translate>\n        </md-button>\n        <md-button md-no-ink ng-click="vm.doAction()">\n          <md-icon>check</md-icon>\n          <translate>Yes</translate>\n        </md-button>\n      </div>\n    </div>\n  </div>\n</div>\n'},1456:function(e,n){e.exports='<div layout="column" layout-align="start center">\n\n  <div class="page-title">\n    <h1 class="md-display-1 text-center">\n      <translate>Planning &amp; Guidance</translate>\n    </h1>\n  </div>\n\n  <div md-whiteframe="2" class="wrapper" layout="column">\n    <div class="cms-tabs">\n      <ul>\n        <li ng-click="vm.activate(\'all\')"\n            ng-class="{active: vm.active === \'all\'}">\n          <translate>Show all</translate>\n        </li>\n        <li ng-click="vm.activate(\'lessons\')"\n            ng-class="{active: vm.active === \'lessons\'}">\n          <translate>Tips &amp; Considerations</translate>\n        </li>\n        <li ng-click="vm.activate(\'resources\')"\n            ng-class="{active: vm.active === \'resources\'}">\n          <translate>Resources</translate>\n        </li>\n        <li ng-click="vm.activate(\'experiences\')"\n            ng-class="{active: vm.active === \'experiences\'}">\n          <translate>Experiences</translate>\n        </li>\n      </ul>\n    </div>\n\n    <div class="wrapper-inner" layout="row">\n\n      <div class="cms-list" ng-class="vm.active" flex="grow">\n\n        <div class="cms-intro">\n          <div class="intro-lessons" layout="row" layout-align="start center">\n            <div flex="50">\n              <p>\n                <translate>\n                Harnessing the collective experiences of those developing and implementing digital health system and interventions in the field: to offer suggestion and considerations.\n                </translate>\n              </p>\n            </div>\n            <div flex="50"></div>\n          </div>\n          <div class="intro-resources" layout="row" layout-align="start center">\n            <div flex="50">\n              <p>\n                <translate>\n                Specific examples demonstrating how different implementers have approached and addressed some of the major challenges to scaling up.\n                </translate>\n              </p>\n            </div>\n            <div flex="50"></div>\n          </div>\n          <div class="intro-experiences" layout="row" layout-align="start center">\n            <div flex="50">\n              <p>\n                <translate>\n                Specific examples demonstrating how different implementers have approached and addressed some of the major challenges to scaling up. This includes experiences from a variety of projects.\n                </translate>\n              </p>\n            </div>\n            <div flex="50"></div>\n          </div>\n        </div>\n\n        <cms-list-element ng-repeat="item in vm.toShow | orderBy: [\'searchOccurrences\', \'id\'] : true | limitTo : vm.showLimit" item="item"></cms-list-element>\n        <div md-whiteframe="2" layout="row" layout-align="start center" ng-show="vm.toShow.length === 0" class="empty-card">\n          <span>\n            <i class="material-icons">sentiment_dissatisfied</i>\n          </span>\n          <span>\n            <translate>No content</translate>\n          </span>\n        </div>\n        <md-button\n          class="md-primary md-raised show-more"\n          ng-show="vm.toShow.length >= vm.showLimit"\n          ng-click="vm.toggleShowAll()">\n            <span ng-hide="vm.showAllFlag">\n              <translate>Show more...</translate>\n            </span>\n            <span ng-show="vm.showAllFlag">\n              <translate>Show less...</translate>\n            </span>\n        </md-button>\n      </div>\n\n      <div class="cms-aside" flex>\n        <div class="add-new-content md-block">\n          <cms-add-new-content></cms-add-new-content>\n        </div>\n        <div class="search-content md-block">\n          <md-input-container md-no-float class="cms-search md-block">\n            <md-icon class="material-icons">search</md-icon>\n            <input type="text" ng-model="vm.searchText" ng-change="vm.search()" placeholder="{{\'Search\' | translate }}">\n            <md-button ng-show="vm.searchText.length > 0" class="clear-search md-icon-button" aria-label="clear" ng-click="vm.clearSearch()">\n              <md-icon>clear</md-icon>\n            </md-button>\n          </md-input-container>\n\n          \x3c!--<md-button class="clear-filters" ng-click="vm.clearFilters()">--\x3e\n            \x3c!--Clear filters--\x3e\n          \x3c!--</md-button>--\x3e\n        </div>\n\n        <div class="filter-content">\n          <h5 class="md-subhead">\n            <translate>Apply filters to list:</translate>\n          </h5>\n\n          <dl class="filter-list">\n            <dt ng-repeat-start="filterGroup in vm.filters">\n              <md-checkbox\n                class="md-primary small group-title"\n                ng-change="vm.toggleAll(filterGroup)"\n                ng-model="filterGroup.selected" aria-label="{{filterGroup.name}}">\n                {{filterGroup.name}}\n              </md-checkbox>\n              <i class="material-icons"\n                 ng-click="vm.toggleFilterGroup(filterGroup)"\n                 ng-class="{toggled: filterGroup.open}">\n                arrow_drop_down\n              </i>\n            </dt>\n            <span\n              class="domains"\n              ng-repeat-end\n              ng-class="{show: filterGroup.open}">\n              <dd ng-repeat="checkbox in filterGroup.domains">\n                <md-checkbox\n                  class="md-primary small"\n                  ng-model="checkbox.selected"\n                  aria-label="{{checkbox.name}}">\n                  {{checkbox.name}}\n                </md-checkbox>\n              </dd>\n            </span>\n          </dl>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <disclaimer></disclaimer>\n\n</div>\n'},1457:function(e,n){},1611:function(e,n,t){var a=t(169),i=t(655);e.exports=function(e,n){return a(i(e,n),1)}},651:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(t(0));n.default={prettifyDate:function(e){var n=e.created;return(0,a.default)(n).format("D MMM, YYYY")},itemType:function(e){if(e)return["Resources","Tips & Considerations","Experiences"][e.type-1];return""},levenshtein:function(e,n){if(0===e.length)return n.length;if(0===n.length)return e.length;var t=void 0,a=void 0,i=void 0,s=void 0,o=void 0;e.length>n.length&&(t=e,e=n,n=t);var r=Array(e.length+1);for(a=0;a<=e.length;a++)r[a]=a;for(a=1;a<=n.length;a++){for(s=a,i=1;i<=e.length;i++)o=n[a-1]===e[i-1]?r[i-1]:Math.min(r[i-1]+1,Math.min(s+1,r[i]+1)),r[i-1]=s,s=o;r[e.length]=s}return r[e.length]},normalizeName:function(e){return e.toLowerCase().replace("&","and").replace(/ /g,"-")},postProcessHtml:function(e){return e.replace(/<a(.+?<\/a>)/g,function(e,n){return'<a target="_blank"'+n.trim()})}},e.exports=n.default},659:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=a(t(660)),s={template:a(t(1240)).default,controller:i.default.factory(),controllerAs:"vm",name:"cmsAddNewContent",bindings:{toEdit:"<?"}};n.default=s,e.exports=n.default},660:function(e,n,t){"use strict";function a(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.AddNewContentDialog=void 0;var s=i(t(101)),o=i(t(15)),r=i(t(16)),l=i(t(10)),c=i(t(11)),d=i(t(64)),m=a(t(158)),u=a(t(20)),v=function(){function e(n,t,a,i,s,o){(0,l.default)(this,e),this.scope=n,this.dialog=t,this.upload=a,this.toast=i,this.showTrixError=!1,this.disableSubmit=!1,this.newContent=o,this.unsubscribe=s.connect(this.mapState,m)(this)}return(0,c.default)(e,[{key:"mapState",value:function(e){return{axes:m.getDomainStructureForCms(e),global:m.getCmsData(e),userProfile:u.getProfile(e),isSuperUser:u.isSuperUser(e)}}},{key:"cancel",value:function(){this.dialog.cancel()}},{key:"submit",value:function(){var e=(0,r.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.form.$valid&&this.newContent.textValid)try{this.saveOrUpdateContent(this.newContent),this.dialog.hide(this.newContent)}catch(e){console.log(e),this.showToast("Validation error")}else this.newContent.textValid||(this.showTrixError=!0),this.showToast("Validation error");case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"beforeImageSelect",value:function(){this.disableSubmit=!0}},{key:"imageSelected",value:function(){this.disableSubmit=!1}},{key:"showToast",value:function(e){this.toast.show(this.toast.simple().parent(window.document.querySelector("md-dialog")).textContent(e).position("bottom right").hideDelay(3e3))}}],[{key:"factory",value:function(n,t){function a(a,i,s,o,r){return new e(a,i,s,o,r,n,t)}return a.$inject=["$scope","$mdDialog","Upload","$mdToast","$ngRedux"],a}}]),e}(),f=function(){function e(n,t){(0,l.default)(this,e),this.scope=n,this.dialog=t}return(0,c.default)(e,[{key:"showAddNewContentDialog",value:function(e){var n=this.toEdit?(0,s.default)({},this.toEdit):{};this.dialog.show({controller:v.factory(n),controllerAs:"vm",template:t(1238),parent:d.default.element(document.body),targetEvent:e,clickOutsideToClose:!0})}}],[{key:"factory",value:function(){function n(n,t){return new e(n,t)}return t(1239),n.$inject=["$scope","$mdDialog"],n}}]),e}();n.default=f,n.AddNewContentDialog=v},661:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=a(t(662)),s={template:a(t(1242)).default,controller:i.default.factory(),controllerAs:"vm",name:"cmsCommentWidget",bindings:{comment:"<",type:"<"}};n.default=s,e.exports=n.default},662:function(e,n,t){"use strict";function a(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var s=i(t(15)),o=i(t(16)),r=i(t(101)),l=i(t(10)),c=i(t(11)),d=t(651),m=i(t(159)),u=a(t(158)),v=a(t(20)),f=a(t(24)),p=function(){function e(n,t){(0,l.default)(this,e),this.scope=n,this.prettifyDate=d.prettifyDate,this.postProcessHtml=d.postProcessHtml,this.$onInit=this.onInit.bind(this),this.$onDestroy=this.onDestroy.bind(this),this.storage=new m.default,this.unsubscribe=t.connect(this.mapState,u)(this)}return(0,c.default)(e,[{key:"onInit",value:function(){this.expanded=!1,this.editMode=!1}},{key:"onDestroy",value:function(){this.unsubscribe()}},{key:"mapState",value:function(e){return{global:u.getCmsData(e),userProfile:v.getProfile(e),profiles:f.getUserProfiles(e)}}},{key:"isAuthor",value:function(){return this.userProfile.id===this.comment.user}},{key:"getUsername",value:function(){var e=this,n=this.profiles.find(function(n){return n.id===e.comment.user});return n?n.name:"No name"}},{key:"edit",value:function(){this.editMode=!this.editMode,this.editMode&&(this.modified=(0,r.default)({},this.comment))}},{key:"update",value:function(){var e=(0,o.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateComment(this.modified);case 2:this.editMode=!1;case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"readMore",value:function(){this.expanded=!this.expanded}}],[{key:"factory",value:function(){function n(n,t){return new e(n,t)}return t(1241),n.$inject=["$scope","$ngRedux"],n}}]),e}();n.default=p,e.exports=n.default},663:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=a(t(664)),s={template:a(t(1244)).default,controller:i.default.factory(),controllerAs:"vm",name:"cmsDashboardWidget",bindings:{scores:"<"}};n.default=s,e.exports=n.default},664:function(e,n,t){"use strict";function a(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var s=i(t(290)),o=i(t(10)),r=i(t(11)),l=i(t(1611)),c=i(t(678)),d=a(t(158)),m=a(t(24)),u=function(){function e(n,t){(0,o.default)(this,e),this.scope=n,this.$ngRedux=t,this.$onInit=this.onInit.bind(this),this.watchers=this.watchers.bind(this),this.splitType=this.splitType.bind(this)}return(0,r.default)(e,[{key:"onInit",value:function(){this.lessons=[],this.resources=[],this.experiences=[],this.watchers(),this.unsubscribe=this.$ngRedux.connect(this.mapState,d)(this)}},{key:"mapState",value:function(e){var n=m.getDomains(e),t=n[Math.floor(Math.random()*n.length)];return{axes:d.getDomainStructureForCms(e),all:d.getCmsData(e),domains:n,currentDomain:t}}},{key:"watchers",value:function(){var e=this;this.scope.$watchGroup([function(e){return e.vm.currentDomain},function(e){return e.vm.scores}],function(n){var t=(0,s.default)(n,2),a=t[0],i=t[1];a&&i&&i.length>0&&(e.setDomainVariables(a,i),e.splitType(e.all))}),this.scope.$watchCollection(function(e){return e.vm.all},this.splitType)}},{key:"splitType",value:function(e){if(this.currentDomain&&this.currentDomain.id){var n=this.currentDomain.id;this.resources=e.filter(function(e){return 1===e.type&&e.domain===n}),this.lessons=e.filter(function(e){return 2===e.type&&e.domain===n}),this.experiences=e.filter(function(e){return 3===e.type&&e.domain===n})}}},{key:"setDomainVariables",value:function(e,n){if(this.axisColor="axis-"+e.axis,this.domainIcon="domain-"+e.id,n){var t=(0,l.default)(n,function(e){return e.domains}).find(function(n){return n.id===e.id});this.domainScore=Math.round(100*t.domain_sum/t.domain_max)}}},{key:"nextDomain",value:function(){var e=this,n=(0,c.default)(this.domains,function(n){return n.id===e.currentDomain.id})+1;n>this.domains.length-1&&(n=0),this.currentDomain=this.domains[n]}},{key:"prevDomain",value:function(){var e=this,n=(0,c.default)(this.domains,function(n){return n.id===e.currentDomain.id})-1;-1===n&&(n=this.domains.length-1),this.currentDomain=this.domains[n]}}],[{key:"factory",value:function(){function n(n,t){return new e(n,t)}return t(1243),n.$inject=["$scope","$ngRedux"],n}}]),e}();n.default=u,e.exports=n.default},665:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=a(t(666)),s={template:a(t(1247)).default,controller:i.default.factory(),controllerAs:"vm",name:"cmsDetailElement",bindings:{item:"<"}};n.default=s,e.exports=n.default},666:function(e,n,t){"use strict";function a(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.DetailElementDialog=void 0;var s=i(t(15)),o=i(t(16)),r=i(t(101)),l=i(t(10)),c=i(t(11)),d=i(t(64)),m=t(651),u=i(t(159)),v=a(t(158)),f=a(t(20)),p=function(){function e(n,t,a,i){(0,l.default)(this,e),this.scope=n,this.storage=new u.default,this.dialog=t,this.prettifyDate=m.prettifyDate,this.postProcessHtml=m.postProcessHtml,this.itemType=m.itemType,this.content=i,this.checkExistence=this.checkExistence.bind(this),this.unsubscribe=a.connect(this.mapState,v)(this),this.init()}return(0,c.default)(e,[{key:"init",value:function(){this.editMode=!1,this.newComment={valid:!0,text:null},this.watchers()}},{key:"mapState",value:function(e){return{global:v.getCmsData(e),userProfile:f.getProfile(e)}}},{key:"watchers",value:function(){this.scope.$watchCollection(function(e){return e.vm.global},this.checkExistence)}},{key:"checkExistence",value:function(e){var n=this;if(e&&e instanceof Array){var t=e.find(function(e){return e.id===n.content.id});t?this.content=t:this.dialog.cancel()}}},{key:"scrollToAddNewComment",value:function(){window.document.querySelector("#add-new-comment").scrollIntoView()}},{key:"cancel",value:function(){this.dialog.cancel()}},{key:"edit",value:function(){this.editMode=!this.editMode,this.editMode&&(this.modified=(0,r.default)({},this.content))}},{key:"update",value:function(){var e=(0,o.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveOrUpdateContent(this.modified);case 2:this.editMode=!1;case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"isAuthor",value:function(){return this.userProfile.id===this.content.author}},{key:"addComment",value:function(){var e=(0,o.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.addNewComment(this.newComment,this.content);case 2:this.newComment.text=!1;case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}],[{key:"factory",value:function(n){function t(t,a,i){return new e(t,a,i,n)}return t.$inject=["$scope","$mdDialog","$ngRedux"],t}}]),e}(),h=function(){function e(n){(0,l.default)(this,e),this.dialog=n}return(0,c.default)(e,[{key:"scrollToAddNewComment",value:function(e){e&&window.document.querySelector("#add-new-comment").scrollIntoView()}},{key:"showDetailDialog",value:function(e,n){var a=this;this.dialog.show({controller:p.factory(a.item),controllerAs:"vm",template:t(1245),parent:d.default.element(document.body),targetEvent:e,clickOutsideToClose:!0,onComplete:function(){return a.scrollToAddNewComment(n)}})}}],[{key:"factory",value:function(){function n(n){return new e(n)}return t(1246),n.$inject=["$mdDialog"],n}}]),e}();n.default=h,n.DetailElementDialog=p},667:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=a(t(668)),s={template:a(t(1249)).default,controller:i.default.factory(),controllerAs:"vm",name:"cmsExperiencesList",bindings:{domainId:"<",axisId:"<"}};n.default=s,e.exports=n.default},668:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=a(t(15)),s=a(t(16)),o=a(t(10)),r=a(t(11)),l=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}(t(158)),c=function(){function e(n,t){(0,o.default)(this,e),this.scope=n,this.$ngRedux=t,this.$onInit=this.onInit.bind(this),this.mapState=this.mapState.bind(this)}return(0,r.default)(e,[{key:"onInit",value:function(){this.watchers(),this.unsubscribe=this.$ngRedux.connect(this.mapState,l)(this)}},{key:"mapState",value:function(e){var n=l.getDomainStructureForCms(e),t=parseInt(this.axisId,10),a=parseInt(this.domainId,10),i=n[t].domains[a],s={body:null,valid:!1,name:null,domain:i.id,type:3};return{data:l.getCmsData(e),domains:n,domain:i,newExperience:s}}},{key:"watchers",value:function(){var e=this;this.scope.$watchCollection(function(){return e.data},function(n){e.experiences=n.filter(function(n){return n.domain===e.domain.id&&3===n.type})})}},{key:"saveExperience",value:function(){var e=(0,s.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveOrUpdateContent(this.newExperience);case 2:this.newExperience.body=!1,this.newExperience.name=null,this.form.$setUntouched(),this.form.$setPristine();case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"disableAddButton",value:function(e){return!e.valid||!e.name||e.name.length>120}}],[{key:"factory",value:function(){function n(n,t){return new e(n,t)}return t(1248),n.$inject=["$scope","$ngRedux"],n}}]),e}();n.default=c,e.exports=n.default},669:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=a(t(670)),s={template:a(t(1251)).default,controller:i.default.factory(),controllerAs:"vm",name:"cmsListElement",bindings:{item:"<"}};n.default=s,e.exports=n.default},670:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=a(t(55)),s=a(t(10)),o=a(t(11)),r=t(651),l=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}(t(158)),c=function(){function e(n){(0,s.default)(this,e),this.$ngRedux=n,this.prettifyDate=r.prettifyDate,this.postProcessHtml=r.postProcessHtml,this.itemType=r.itemType,this.$onInit=this.onInit.bind(this),this.mapState=this.mapState.bind(this)}return(0,o.default)(e,[{key:"mapState",value:function(e){return{axisAndDomainName:l.getAxisAndDomainName(e,this.item.domain)}}},{key:"onInit",value:function(){this.$ngRedux.connect(this.mapState,l)(this)}},{key:"typeClass",value:function(e){return"type-"+e.type}},{key:"showAxisAndDomain",value:function(){var e=this.axisAndDomainName;return e.axisName+" - "+e.domainName}},{key:"axisAndDomainClass",value:function(){var e=(0,i.default)({},this.axisAndDomainName);return e.domainName=(0,r.normalizeName)(e.domainName),e.axisName=(0,r.normalizeName)(e.axisName),"axis-"+e.axisName+" domain-"+e.domainName}}],[{key:"factory",value:function(){function n(n){return new e(n)}return t(1250),n.$inject=["$ngRedux"],n}}]),e}();n.default=c,e.exports=n.default},671:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=a(t(672)),s={template:a(t(1253)).default,controller:i.default.factory(),controllerAs:"vm",name:"cmsStaticInfoWidget",bindings:{}};n.default=s,e.exports=n.default},672:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=a(t(10)),s=a(t(11)),o=function(){function e(){(0,i.default)(this,e)}return(0,s.default)(e,null,[{key:"factory",value:function(){function n(){return new e}return t(1252),n.$inject=[],n}}]),e}();n.default=o,e.exports=n.default},673:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=a(t(674)),s={template:a(t(1255)).default,controller:i.default.factory(),controllerAs:"vm",name:"cmsReportDeleteButton",bindings:{item:"<",type:"@?"}};n.default=s,e.exports=n.default},674:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=a(t(10)),s=a(t(11)),o=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}(t(158)),r=function(){function e(n){(0,i.default)(this,e),this.$onInit=this.onInit.bind(this),this.unsubscribe=n.connect(function(){return{}},o)(this)}return(0,s.default)(e,[{key:"onInit",value:function(){this.isDelete=this.type&&"delete"===this.type,this.status=2!==this.item.state||this.isDelete?"close":"reported"}},{key:"open",value:function(){this.status="active"}},{key:"close",value:function(){this.status="close"}},{key:"doReport",value:function(){this.item.user?this.reportComment(this.item):this.reportContent(this.item),this.status="reported"}},{key:"doDelete",value:function(){this.item.user?this.deleteComment(this.item):this.deleteContent(this.item)}},{key:"doAction",value:function(){this.isDelete?this.doDelete():this.doReport()}}],[{key:"factory",value:function(){function n(n){return new e(n)}return t(1254),n.$inject=["$ngRedux"],n}}]),e}();n.default=r,e.exports=n.default},679:function(e,n,t){"use strict";function a(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}function i(e){return e&&e.__esModule?e:{default:e}}function s(e,n){e.state(b,{url:"/cms",parent:"base",views:{main:{template:"<planning-and-guidance></planning-and-guidance>"}},resolve:{main:function(){return x.lazyLoader(n,"PlanningAndGuidance/planningAndGuidanceComponent")},system:["$ngRedux",function(e){return e.dispatch(c.loadUserProfiles())}],cms:["$ngRedux",function(e){return e.dispatch(d.loadCmsData())}]},profileRequired:!0})}Object.defineProperty(n,"__esModule",{value:!0});var o=i(t(64)),r=i(t(650)),l=t(45),c=a(t(24)),d=a(t(158)),m=i(t(659)),u=i(t(661)),v=i(t(663)),f=i(t(665)),p=i(t(667)),h=i(t(669)),g=i(t(671)),y=i(t(673)),b="cms",x=new l.StaticUtilities("Cms");s.$inject=["$stateProvider","$compileProvider"],o.default.module(b,[r.default]).component(m.default.name,m.default).component(u.default.name,u.default).component(v.default.name,v.default).component(f.default.name,f.default).component(p.default.name,p.default).component(h.default.name,h.default).component(y.default.name,y.default).component(g.default.name,g.default).config(s),n.default=b,e.exports=n.default},705:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=a(t(290)),s=a(t(10)),o=a(t(11)),r=a(t(1611)),l=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}(t(158)),c=function(){function e(n,t,a){(0,s.default)(this,e),this.scope=n,this.state=t,this.$onInit=this.onInit.bind(this),this.$onDestroy=this.onDestroy.bind(this),this.$postLink=this.postLink.bind(this),this.applyFilters=this.applyFilters.bind(this),this.extractDomainSelection=this.extractDomainSelection.bind(this),this.applyLimitOrSearch=this.applyLimitOrSearch.bind(this),this.unsubscribe=a.connect(this.mapState,l)(this)}return(0,o.default)(e,[{key:"onInit",value:function(){this.createFilters(),this.lessons=[],this.resources=[],this.experiences=[],this.showLimit=10,this.showAllFlag=!1,this.searchText=null,this.watchers()}},{key:"onDestroy",value:function(){this.unsubscribe()}},{key:"mapState",value:function(e){return{axes:l.getDomainStructureForCms(e),all:l.getCmsData(e)}}},{key:"postLink",value:function(){this.checkHash()}},{key:"checkHash",value:function(){var e=this;setTimeout(function(){var n=window.location.hash;n&&-1!==["#all","#lessons","#experiences","#resources"].indexOf(n)?e.activate():e.activate("all")},100)}},{key:"toggleShowAll",value:function(){this.showAllFlag=!this.showAllFlag}},{key:"watchers",value:function(){var e=this;this.scope.$watch(this.extractDomainSelection,this.applyFilters,!0),this.scope.$watchGroup([function(e){return e.vm.toShow},function(e){return e.vm.showAllFlag},function(e){return e.vm.searchText}],this.applyLimitOrSearch),this.scope.$watchCollection(function(e){return e.vm.all},function(n,t){var a=n.length-t.length==1?n.slice(-1)[0].type:null;e.resources=n.filter(function(e){return 1===e.type}),e.lessons=n.filter(function(e){return 2===e.type}),e.experiences=n.filter(function(e){return 3===e.type}),e.activate(a)})}},{key:"stripHtml",value:function(e){return e.replace(/(<([^>]+)>)/gi,"")}},{key:"applyLimitOrSearch",value:function(e){var n=this,t=(0,i.default)(e,3),a=t[0],s=t[1],o=t[2];if(this.showLimit=a&&s?a.length:10,o&&o!==this.prevSearchText){this.prevSearchText=o;var r=this.toShow.slice();o=o.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");var l=new RegExp(o,"ig");r.forEach(function(e){var t=n.stripHtml(e.body),a=e.name.match(l)||t.match(l);e.searchOccurrences=a?a.length:0}),this.scope.$evalAsync(function(){n.toShow=r})}else if(this.toShow&&!o&&o!==this.prevSearchText){this.prevSearchText=o;var c=this.toShow.slice();c.forEach(function(e){e.searchOccurrences=0}),this.scope.$evalAsync(function(){n.toShow=c})}}},{key:"extractDomainSelection",value:function(){return(0,r.default)(this.filters,function(e){return e.domains})}},{key:"createFilters",value:function(){this.filters=this.axes.map(function(e){return{name:e.name,open:!1,selected:!1,domains:e.domains.map(function(e){return{name:e.name,id:e.id,selected:!1}})}})}},{key:"applyFilters",value:function(e){var n=e.map(function(e){return e.selected?e.id:null}).filter(function(e){return e});n.length>0?this.toShow=this[this.active].filter(function(e){return n.indexOf(e.domain)>-1}):this.toShow=this[this.active]}},{key:"clearFilters",value:function(){this.filters.forEach(function(e){e.selected=!1,e.domains.forEach(function(e){e.selected=!1})})}},{key:"clearSearch",value:function(){this.searchText=null}},{key:"activate",value:function(e){var n=this;"number"==typeof e&&(e=[null,"resources","lessons","experiences"][e]);var t=e||window.location.hash.replace("#","")||"all";this.scope.$evalAsync(function(){n.active=t,n.applyFilters(n.extractDomainSelection()),e&&n.state.go("cms",{"#":e},{location:"replace",reloadOnSearch:!1})})}},{key:"toggleFilterGroup",value:function(e){e.open=!e.open}},{key:"toggleAll",value:function(e){e.domains.forEach(function(n){n.selected=e.selected}),e.selected&&(e.open=!0)}}],[{key:"factory",value:function(){function n(n,t,a){return new e(n,t,a)}return t(1457),n.$inject=["$scope","$state","$ngRedux"],n}}]),e}();n.default=c,e.exports=n.default},738:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=a(t(705)),s={template:a(t(1456)).default,controller:i.default.factory(),controllerAs:"vm",name:"planningAndGuidance",bindings:{}};n.default=s,e.exports=n.default}});