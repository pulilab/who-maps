(window.webpackJsonp=window.webpackJsonp||[]).push([[131,4,7,13,16,17,18,602],{"./node_modules/d3/d3.js":function(t,e,n){var r,o;!function(){var a={version:"3.5.17"},u=[].slice,i=function(t){return u.call(t)},s=this.document;function l(t){return t&&(t.ownerDocument||t.document||t).documentElement}function c(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(s)try{i(s.documentElement.childNodes)[0].nodeType}catch(t){i=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),s)try{s.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var f=this.Element.prototype,d=f.setAttribute,h=f.setAttributeNS,p=this.CSSStyleDeclaration.prototype,m=p.setProperty;f.setAttribute=function(t,e){d.call(this,t,e+"")},f.setAttributeNS=function(t,e,n){h.call(this,t,e,n+"")},p.setProperty=function(t,e,n){m.call(this,t,e+"",n)}}function g(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function v(t){return null===t?NaN:+t}function y(t){return!isNaN(t)}function _(t){return{left:function(e,n,r,o){for(arguments.length<3&&(r=0),arguments.length<4&&(o=e.length);r<o;){var a=r+o>>>1;t(e[a],n)<0?r=a+1:o=a}return r},right:function(e,n,r,o){for(arguments.length<3&&(r=0),arguments.length<4&&(o=e.length);r<o;){var a=r+o>>>1;t(e[a],n)>0?o=a:r=a+1}return r}}}a.ascending=g,a.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},a.min=function(t,e){var n,r,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=t[o])&&r>=r){n=r;break}for(;++o<a;)null!=(r=t[o])&&n>r&&(n=r)}else{for(;++o<a;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=r;break}for(;++o<a;)null!=(r=e.call(t,t[o],o))&&n>r&&(n=r)}return n},a.max=function(t,e){var n,r,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=t[o])&&r>=r){n=r;break}for(;++o<a;)null!=(r=t[o])&&r>n&&(n=r)}else{for(;++o<a;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=r;break}for(;++o<a;)null!=(r=e.call(t,t[o],o))&&r>n&&(n=r)}return n},a.extent=function(t,e){var n,r,o,a=-1,u=t.length;if(1===arguments.length){for(;++a<u;)if(null!=(r=t[a])&&r>=r){n=o=r;break}for(;++a<u;)null!=(r=t[a])&&(n>r&&(n=r),o<r&&(o=r))}else{for(;++a<u;)if(null!=(r=e.call(t,t[a],a))&&r>=r){n=o=r;break}for(;++a<u;)null!=(r=e.call(t,t[a],a))&&(n>r&&(n=r),o<r&&(o=r))}return[n,o]},a.sum=function(t,e){var n,r=0,o=t.length,a=-1;if(1===arguments.length)for(;++a<o;)y(n=+t[a])&&(r+=n);else for(;++a<o;)y(n=+e.call(t,t[a],a))&&(r+=n);return r},a.mean=function(t,e){var n,r=0,o=t.length,a=-1,u=o;if(1===arguments.length)for(;++a<o;)y(n=v(t[a]))?r+=n:--u;else for(;++a<o;)y(n=v(e.call(t,t[a],a)))?r+=n:--u;if(u)return r/u},a.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),o=+t[r-1],a=n-r;return a?o+a*(t[r]-o):o},a.median=function(t,e){var n,r=[],o=t.length,u=-1;if(1===arguments.length)for(;++u<o;)y(n=v(t[u]))&&r.push(n);else for(;++u<o;)y(n=v(e.call(t,t[u],u)))&&r.push(n);if(r.length)return a.quantile(r.sort(g),.5)},a.variance=function(t,e){var n,r,o=t.length,a=0,u=0,i=-1,s=0;if(1===arguments.length)for(;++i<o;)y(n=v(t[i]))&&(u+=(r=n-a)*(n-(a+=r/++s)));else for(;++i<o;)y(n=v(e.call(t,t[i],i)))&&(u+=(r=n-a)*(n-(a+=r/++s)));if(s>1)return u/(s-1)},a.deviation=function(){var t=a.variance.apply(this,arguments);return t?Math.sqrt(t):t};var j=_(g);function x(t){return t.length}a.bisectLeft=j.left,a.bisect=a.bisectRight=j.right,a.bisector=function(t){return _(1===t.length?function(e,n){return g(t(e),n)}:t)},a.shuffle=function(t,e,n){(a=arguments.length)<3&&(n=t.length,a<2&&(e=0));for(var r,o,a=n-e;a;)o=Math.random()*a--|0,r=t[a+e],t[a+e]=t[o+e],t[o+e]=r;return t},a.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},a.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],o=new Array(n<0?0:n);e<n;)o[e]=[r,r=t[++e]];return o},a.transpose=function(t){if(!(o=t.length))return[];for(var e=-1,n=a.min(t,x),r=new Array(n);++e<n;)for(var o,u=-1,i=r[e]=new Array(o);++u<o;)i[u]=t[u][e];return r},a.zip=function(){return a.transpose(arguments)},a.keys=function(t){var e=[];for(var n in t)e.push(n);return e},a.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},a.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},a.merge=function(t){for(var e,n,r,o=t.length,a=-1,u=0;++a<o;)u+=t[a].length;for(n=new Array(u);--o>=0;)for(e=(r=t[o]).length;--e>=0;)n[--u]=r[e];return n};var b=Math.abs;function M(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function w(){this._=Object.create(null)}a.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var r,o=[],a=function(t){var e=1;for(;t*e%1;)e*=10;return e}(b(n)),u=-1;if(t*=a,e*=a,(n*=a)<0)for(;(r=t+n*++u)>e;)o.push(r/a);else for(;(r=t+n*++u)<e;)o.push(r/a);return o},a.map=function(t,e){var n=new w;if(t instanceof w)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,o=-1,a=t.length;if(1===arguments.length)for(;++o<a;)n.set(o,t[o]);else for(;++o<a;)n.set(e.call(t,r=t[o],o),r)}else for(var u in t)n.set(u,t[u]);return n};var C="__proto__",E="\0";function k(t){return(t+="")===C||t[0]===E?E+t:t}function S(t){return(t+="")[0]===E?t.slice(1):t}function T(t){return k(t)in this._}function P(t){return(t=k(t))in this._&&delete this._[t]}function A(){var t=[];for(var e in this._)t.push(S(e));return t}function D(){var t=0;for(var e in this._)++t;return t}function N(){for(var t in this._)return!1;return!0}function L(){this._=Object.create(null)}function O(t){return t}function R(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function z(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=F.length;n<r;++n){var o=F[n]+e;if(o in t)return o}}M(w,{has:T,get:function(t){return this._[k(t)]},set:function(t,e){return this._[k(t)]=e},remove:P,keys:A,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:S(e),value:this._[e]});return t},size:D,empty:N,forEach:function(t){for(var e in this._)t.call(this,S(e),this._[e])}}),a.nest=function(){var t,e,n={},r=[],o=[];function u(o,a,i){if(i>=r.length)return e?e.call(n,a):t?a.sort(t):a;for(var s,l,c,f,d=-1,h=a.length,p=r[i++],m=new w;++d<h;)(f=m.get(s=p(l=a[d])))?f.push(l):m.set(s,[l]);return o?(l=o(),c=function(t,e){l.set(t,u(o,e,i))}):(l={},c=function(t,e){l[t]=u(o,e,i)}),m.forEach(c),l}return n.map=function(t,e){return u(e,t,0)},n.entries=function(t){return function t(e,n){if(n>=r.length)return e;var a=[],u=o[n++];return e.forEach(function(e,r){a.push({key:e,values:t(r,n)})}),u?a.sort(function(t,e){return u(t.key,e.key)}):a}(u(a.map,t,0),0)},n.key=function(t){return r.push(t),n},n.sortKeys=function(t){return o[r.length-1]=t,n},n.sortValues=function(e){return t=e,n},n.rollup=function(t){return e=t,n},n},a.set=function(t){var e=new L;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},M(L,{has:T,add:function(t){return this._[k(t+="")]=!0,t},remove:P,values:A,size:D,empty:N,forEach:function(t){for(var e in this._)t.call(this,S(e))}}),a.behavior={},a.rebind=function(t,e){for(var n,r=1,o=arguments.length;++r<o;)t[n=arguments[r]]=R(t,e,e[n]);return t};var F=["webkit","ms","moz","Moz","o","O"];function U(){}function I(){}function q(t){var e=[],n=new w;function r(){for(var n,r=e,o=-1,a=r.length;++o<a;)(n=r[o].on)&&n.apply(this,arguments);return t}return r.on=function(r,o){var a,u=n.get(r);return arguments.length<2?u&&u.on:(u&&(u.on=null,e=e.slice(0,a=e.indexOf(u)).concat(e.slice(a+1)),n.remove(r)),o&&e.push(n.set(r,{on:o})),t)},r}function V(){a.event.preventDefault()}function H(){for(var t,e=a.event;t=e.sourceEvent;)e=t;return e}function Y(t){for(var e=new I,n=0,r=arguments.length;++n<r;)e[arguments[n]]=q(e);return e.of=function(n,r){return function(o){try{var u=o.sourceEvent=a.event;o.target=t,a.event=o,e[o.type].apply(n,r)}finally{a.event=u}}},e}a.dispatch=function(){for(var t=new I,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=q(t);return t},I.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},a.event=null,a.requote=function(t){return t.replace(J,"\\$&")};var J=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,$={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function W(t){return $(t,X),t}var G=function(t,e){return e.querySelector(t)},Z=function(t,e){return e.querySelectorAll(t)},B=function(t,e){var n=t.matches||t[z(t,"matchesSelector")];return(B=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(G=function(t,e){return Sizzle(t,e)[0]||null},Z=Sizzle,B=Sizzle.matchesSelector),a.selection=function(){return a.select(s.documentElement)};var X=a.selection.prototype=[];function K(t){return"function"==typeof t?t:function(){return G(t,this)}}function Q(t){return"function"==typeof t?t:function(){return Z(t,this)}}X.select=function(t){var e,n,r,o,a=[];t=K(t);for(var u=-1,i=this.length;++u<i;){a.push(e=[]),e.parentNode=(r=this[u]).parentNode;for(var s=-1,l=r.length;++s<l;)(o=r[s])?(e.push(n=t.call(o,o.__data__,s,u)),n&&"__data__"in o&&(n.__data__=o.__data__)):e.push(null)}return W(a)},X.selectAll=function(t){var e,n,r=[];t=Q(t);for(var o=-1,a=this.length;++o<a;)for(var u=this[o],s=-1,l=u.length;++s<l;)(n=u[s])&&(r.push(e=i(t.call(n,n.__data__,s,o))),e.parentNode=n);return W(r)};var tt="http://www.w3.org/1999/xhtml",et={svg:"http://www.w3.org/2000/svg",xhtml:tt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function nt(t,e){return t=a.ns.qualify(t),null==e?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof e?t.local?function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}:function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}:t.local?function(){this.setAttributeNS(t.space,t.local,e)}:function(){this.setAttribute(t,e)}}function rt(t){return t.trim().replace(/\s+/g," ")}function ot(t){return new RegExp("(?:^|\\s+)"+a.requote(t)+"(?:\\s+|$)","g")}function at(t){return(t+"").trim().split(/^|\s+/)}function ut(t,e){var n=(t=at(t).map(it)).length;return"function"==typeof e?function(){for(var r=-1,o=e.apply(this,arguments);++r<n;)t[r](this,o)}:function(){for(var r=-1;++r<n;)t[r](this,e)}}function it(t){var e=ot(t);return function(n,r){if(o=n.classList)return r?o.add(t):o.remove(t);var o=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(o)||n.setAttribute("class",rt(o+" "+t))):n.setAttribute("class",rt(o.replace(e," ")))}}function st(t,e,n){return null==e?function(){this.style.removeProperty(t)}:"function"==typeof e?function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}:function(){this.style.setProperty(t,e,n)}}function lt(t,e){return null==e?function(){delete this[t]}:"function"==typeof e?function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}:function(){this[t]=e}}function ct(t){return"function"==typeof t?t:(t=a.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var e=this.ownerDocument,n=this.namespaceURI;return n===tt&&e.documentElement.namespaceURI===tt?e.createElement(t):e.createElementNS(n,t)}}function ft(){var t=this.parentNode;t&&t.removeChild(this)}function dt(t){return{__data__:t}}function ht(t){return function(){return B(this,t)}}function pt(t,e){for(var n=0,r=t.length;n<r;n++)for(var o,a=t[n],u=0,i=a.length;u<i;u++)(o=a[u])&&e(o,u,n);return t}function mt(t){return $(t,gt),t}a.ns={prefix:et,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),et.hasOwnProperty(n)?{space:et[n],local:t}:t}},X.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=a.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(nt(e,t[e]));return this}return this.each(nt(t,e))},X.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=at(t)).length,o=-1;if(e=n.classList){for(;++o<r;)if(!e.contains(t[o]))return!1}else for(e=n.getAttribute("class");++o<r;)if(!ot(t[o]).test(e))return!1;return!0}for(e in t)this.each(ut(e,t[e]));return this}return this.each(ut(t,e))},X.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.each(st(n,t[n],e));return this}if(r<2){var o=this.node();return c(o).getComputedStyle(o,null).getPropertyValue(t)}n=""}return this.each(st(t,e,n))},X.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(lt(e,t[e]));return this}return this.each(lt(t,e))},X.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},X.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},X.append=function(t){return t=ct(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},X.insert=function(t,e){return t=ct(t),e=K(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},X.remove=function(){return this.each(ft)},X.data=function(t,e){var n,r,o=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(n=this[0]).length);++o<a;)(r=n[o])&&(t[o]=r.__data__);return t}function u(t,n){var r,o,a,u=t.length,c=n.length,f=Math.min(u,c),d=new Array(c),h=new Array(c),p=new Array(u);if(e){var m,g=new w,v=new Array(u);for(r=-1;++r<u;)(o=t[r])&&(g.has(m=e.call(o,o.__data__,r))?p[r]=o:g.set(m,o),v[r]=m);for(r=-1;++r<c;)(o=g.get(m=e.call(n,a=n[r],r)))?!0!==o&&(d[r]=o,o.__data__=a):h[r]=dt(a),g.set(m,!0);for(r=-1;++r<u;)r in v&&!0!==g.get(v[r])&&(p[r]=t[r])}else{for(r=-1;++r<f;)o=t[r],a=n[r],o?(o.__data__=a,d[r]=o):h[r]=dt(a);for(;r<c;++r)h[r]=dt(n[r]);for(;r<u;++r)p[r]=t[r]}h.update=d,h.parentNode=d.parentNode=p.parentNode=t.parentNode,i.push(h),s.push(d),l.push(p)}var i=mt([]),s=W([]),l=W([]);if("function"==typeof t)for(;++o<a;)u(n=this[o],t.call(n,n.parentNode.__data__,o));else for(;++o<a;)u(n=this[o],t);return s.enter=function(){return i},s.exit=function(){return l},s},X.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},X.filter=function(t){var e,n,r,o=[];"function"!=typeof t&&(t=ht(t));for(var a=0,u=this.length;a<u;a++){o.push(e=[]),e.parentNode=(n=this[a]).parentNode;for(var i=0,s=n.length;i<s;i++)(r=n[i])&&t.call(r,r.__data__,i,a)&&e.push(r)}return W(o)},X.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],o=r.length-1,a=r[o];--o>=0;)(n=r[o])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},X.sort=function(t){t=function(t){arguments.length||(t=g);return function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},X.each=function(t){return pt(this,function(e,n,r){t.call(e,e.__data__,n,r)})},X.call=function(t){var e=i(arguments);return t.apply(e[0]=this,e),this},X.empty=function(){return!this.node()},X.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,o=n.length;r<o;r++){var a=n[r];if(a)return a}return null},X.size=function(){var t=0;return pt(this,function(){++t}),t};var gt=[];function vt(t,e,n){var r="__on"+t,o=t.indexOf("."),u=_t;o>0&&(t=t.slice(0,o));var s=yt.get(t);function l(){var e=this[r];e&&(this.removeEventListener(t,e,e.$),delete this[r])}return s&&(t=s,u=jt),o?e?function(){var o=u(e,i(arguments));l.call(this),this.addEventListener(t,this[r]=o,o.$=n),o._=e}:l:e?U:function(){var e,n=new RegExp("^__on([^.]+)"+a.requote(t)+"$");for(var r in this)if(e=r.match(n)){var o=this[r];this.removeEventListener(e[1],o,o.$),delete this[r]}}}a.selection.enter=mt,a.selection.enter.prototype=gt,gt.append=X.append,gt.empty=X.empty,gt.node=X.node,gt.call=X.call,gt.size=X.size,gt.select=function(t){for(var e,n,r,o,a,u=[],i=-1,s=this.length;++i<s;){r=(o=this[i]).update,u.push(e=[]),e.parentNode=o.parentNode;for(var l=-1,c=o.length;++l<c;)(a=o[l])?(e.push(r[l]=n=t.call(o.parentNode,a.__data__,l,i)),n.__data__=a.__data__):e.push(null)}return W(u)},gt.insert=function(t,e){var n,r,o;return arguments.length<2&&(n=this,e=function(t,e,a){var u,i=n[a].update,s=i.length;for(a!=o&&(o=a,r=0),e>=r&&(r=e+1);!(u=i[r])&&++r<s;);return u}),X.insert.call(this,t,e)},a.select=function(t){var e;return"string"==typeof t?(e=[G(t,s)]).parentNode=s.documentElement:(e=[t]).parentNode=l(t),W([e])},a.selectAll=function(t){var e;return"string"==typeof t?(e=i(Z(t,s))).parentNode=s.documentElement:(e=i(t)).parentNode=null,W([e])},X.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=!1),t)this.each(vt(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(vt(t,e,n))};var yt=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});function _t(t,e){return function(n){var r=a.event;a.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{a.event=r}}}function jt(t,e){var n=_t(t,e);return function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}s&&yt.forEach(function(t){"on"+t in s&&yt.remove(t)});var xt,bt=0;function Mt(t){var e=".dragsuppress-"+ ++bt,n="click"+e,r=a.select(c(t)).on("touchmove"+e,V).on("dragstart"+e,V).on("selectstart"+e,V);if(null==xt&&(xt=!("onselectstart"in t)&&z(t.style,"userSelect")),xt){var o=l(t).style,u=o[xt];o[xt]="none"}return function(t){if(r.on(e,null),xt&&(o[xt]=u),t){var a=function(){r.on(n,null)};r.on(n,function(){V(),a()},!0),setTimeout(a,0)}}}a.mouse=function(t){return Ct(t,H())};var wt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Ct(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(wt<0){var o=c(t);if(o.scrollX||o.scrollY){var u=(n=a.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();wt=!(u.f||u.e),n.remove()}}return wt?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function Et(){return a.event.changedTouches[0].identifier}a.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=H().changedTouches),e)for(var r,o=0,a=e.length;o<a;++o)if((r=e[o]).identifier===n)return Ct(t,r)},a.behavior.drag=function(){var t=Y(o,"drag","dragstart","dragend"),e=null,n=u(U,a.mouse,c,"mousemove","mouseup"),r=u(Et,a.touch,O,"touchmove","touchend");function o(){this.on("mousedown.drag",n).on("touchstart.drag",r)}function u(n,r,o,u,i){return function(){var s,l=a.event.target.correspondingElement||a.event.target,c=this.parentNode,f=t.of(this,arguments),d=0,h=n(),p=".drag"+(null==h?"":"-"+h),m=a.select(o(l)).on(u+p,function(){var t,e,n=r(c,h);if(!n)return;t=n[0]-v[0],e=n[1]-v[1],d|=t|e,v=n,f({type:"drag",x:n[0]+s[0],y:n[1]+s[1],dx:t,dy:e})}).on(i+p,function(){if(!r(c,h))return;m.on(u+p,null).on(i+p,null),g(d),f({type:"dragend"})}),g=Mt(l),v=r(c,h);s=e?[(s=e.apply(this,arguments)).x-v[0],s.y-v[1]]:[0,0],f({type:"dragstart"})}}return o.origin=function(t){return arguments.length?(e=t,o):e},a.rebind(o,t,"on")},a.touches=function(t,e){return arguments.length<2&&(e=H().touches),e?i(e).map(function(e){var n=Ct(t,e);return n.identifier=e.identifier,n}):[]};var kt=1e-6,St=kt*kt,Tt=Math.PI,Pt=2*Tt,At=Pt-kt,Dt=Tt/2,Nt=Tt/180,Lt=180/Tt;function Ot(t){return t>0?1:t<0?-1:0}function Rt(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function zt(t){return t>1?0:t<-1?Tt:Math.acos(t)}function Ft(t){return t>1?Dt:t<-1?-Dt:Math.asin(t)}function Ut(t){return((t=Math.exp(t))+1/t)/2}function It(t){return(t=Math.sin(t/2))*t}var qt=Math.SQRT2;a.interpolateZoom=function(t,e){var n,r,o=t[0],a=t[1],u=t[2],i=e[0],s=e[1],l=e[2],c=i-o,f=s-a,d=c*c+f*f;if(d<St)r=Math.log(l/u)/qt,n=function(t){return[o+t*c,a+t*f,u*Math.exp(qt*t*r)]};else{var h=Math.sqrt(d),p=(l*l-u*u+4*d)/(2*u*2*h),m=(l*l-u*u-4*d)/(2*l*2*h),g=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(m*m+1)-m);r=(v-g)/qt,n=function(t){var e,n=t*r,i=Ut(g),s=u/(2*h)*(i*(e=qt*n+g,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[o+s*c,a+s*f,u*i/Ut(qt*n+g)]}}return n.duration=1e3*r,n},a.behavior.zoom=function(){var t,e,n,r,o,u,i,l,f,d={x:0,y:0,k:1},h=[960,500],p=Yt,m=250,g=0,v="mousedown.zoom",y="mousemove.zoom",_="mouseup.zoom",j="touchstart.zoom",x=Y(b,"zoomstart","zoom","zoomend");function b(t){t.on(v,A).on(Ht+".zoom",N).on("dblclick.zoom",L).on(j,D)}function M(t){return[(t[0]-d.x)/d.k,(t[1]-d.y)/d.k]}function w(t){d.k=Math.max(p[0],Math.min(p[1],t))}function C(t,e){e=function(t){return[t[0]*d.k+d.x,t[1]*d.k+d.y]}(e),d.x+=t[0]-e[0],d.y+=t[1]-e[1]}function E(t,n,r,o){t.__chart__={x:d.x,y:d.y,k:d.k},w(Math.pow(2,o)),C(e=n,r),t=a.select(t),m>0&&(t=t.transition().duration(m)),t.call(b.event)}function k(){i&&i.domain(u.range().map(function(t){return(t-d.x)/d.k}).map(u.invert)),f&&f.domain(l.range().map(function(t){return(t-d.y)/d.k}).map(l.invert))}function S(t){g++||t({type:"zoomstart"})}function T(t){k(),t({type:"zoom",scale:d.k,translate:[d.x,d.y]})}function P(t){--g||(t({type:"zoomend"}),e=null)}function A(){var t=this,e=x.of(t,arguments),n=0,r=a.select(c(t)).on(y,function(){n=1,C(a.mouse(t),o),T(e)}).on(_,function(){r.on(y,null).on(_,null),u(n),P(e)}),o=M(a.mouse(t)),u=Mt(t);fi.call(t),S(e)}function D(){var t,e=this,n=x.of(e,arguments),r={},u=0,i=".zoom-"+a.event.changedTouches[0].identifier,s="touchmove"+i,l="touchend"+i,c=[],f=a.select(e),h=Mt(e);function p(){var n=a.touches(e);return t=d.k,n.forEach(function(t){t.identifier in r&&(r[t.identifier]=M(t))}),n}function m(){var t=a.event.target;a.select(t).on(s,g).on(l,y),c.push(t);for(var n=a.event.changedTouches,i=0,f=n.length;i<f;++i)r[n[i].identifier]=null;var h=p(),m=Date.now();if(1===h.length){if(m-o<500){var v=h[0];E(e,v,r[v.identifier],Math.floor(Math.log(d.k)/Math.LN2)+1),V()}o=m}else if(h.length>1){v=h[0];var _=h[1],j=v[0]-_[0],x=v[1]-_[1];u=j*j+x*x}}function g(){var i,s,l,c,f=a.touches(e);fi.call(e);for(var d=0,h=f.length;d<h;++d,c=null)if(l=f[d],c=r[l.identifier]){if(s)break;i=l,s=c}if(c){var p=(p=l[0]-i[0])*p+(p=l[1]-i[1])*p,m=u&&Math.sqrt(p/u);i=[(i[0]+l[0])/2,(i[1]+l[1])/2],s=[(s[0]+c[0])/2,(s[1]+c[1])/2],w(m*t)}o=null,C(i,s),T(n)}function y(){if(a.event.touches.length){for(var t=a.event.changedTouches,e=0,o=t.length;e<o;++e)delete r[t[e].identifier];for(var u in r)return void p()}a.selectAll(c).on(i,null),f.on(v,A).on(j,D),h(),P(n)}m(),S(n),f.on(v,null).on(j,m)}function N(){var o=x.of(this,arguments);r?clearTimeout(r):(fi.call(this),t=M(e=n||a.mouse(this)),S(o)),r=setTimeout(function(){r=null,P(o)},50),V(),w(Math.pow(2,.002*Vt())*d.k),C(e,t),T(o)}function L(){var t=a.mouse(this),e=Math.log(d.k)/Math.LN2;E(this,t,M(t),a.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}return Ht||(Ht="onwheel"in s?(Vt=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in s?(Vt=function(){return a.event.wheelDelta},"mousewheel"):(Vt=function(){return-a.event.detail},"MozMousePixelScroll")),b.event=function(t){t.each(function(){var t=x.of(this,arguments),n=d;pi?a.select(this).transition().each("start.zoom",function(){d=this.__chart__||{x:0,y:0,k:1},S(t)}).tween("zoom:zoom",function(){var r=h[0],o=h[1],u=e?e[0]:r/2,i=e?e[1]:o/2,s=a.interpolateZoom([(u-d.x)/d.k,(i-d.y)/d.k,r/d.k],[(u-n.x)/n.k,(i-n.y)/n.k,r/n.k]);return function(e){var n=s(e),o=r/n[2];this.__chart__=d={x:u-n[0]*o,y:i-n[1]*o,k:o},T(t)}}).each("interrupt.zoom",function(){P(t)}).each("end.zoom",function(){P(t)}):(this.__chart__=d,S(t),T(t),P(t))})},b.translate=function(t){return arguments.length?(d={x:+t[0],y:+t[1],k:d.k},k(),b):[d.x,d.y]},b.scale=function(t){return arguments.length?(d={x:d.x,y:d.y,k:null},w(+t),k(),b):d.k},b.scaleExtent=function(t){return arguments.length?(p=null==t?Yt:[+t[0],+t[1]],b):p},b.center=function(t){return arguments.length?(n=t&&[+t[0],+t[1]],b):n},b.size=function(t){return arguments.length?(h=t&&[+t[0],+t[1]],b):h},b.duration=function(t){return arguments.length?(m=+t,b):m},b.x=function(t){return arguments.length?(i=t,u=t.copy(),d={x:0,y:0,k:1},b):i},b.y=function(t){return arguments.length?(f=t,l=t.copy(),d={x:0,y:0,k:1},b):f},a.rebind(b,x,"on")};var Vt,Ht,Yt=[0,1/0];function Jt(){}function $t(t,e,n){return this instanceof $t?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof $t?new $t(t.h,t.s,t.l):pe(""+t,me,$t):new $t(t,e,n)}a.color=Jt,Jt.prototype.toString=function(){return this.rgb()+""},a.hsl=$t;var Wt=$t.prototype=new Jt;function Gt(t,e,n){var r,o;function a(t){return Math.round(255*function(t){return t>360?t-=360:t<0&&(t+=360),t<60?r+(o-r)*t/60:t<180?o:t<240?r+(o-r)*(240-t)/60:r}(t))}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:e>1?1:e,r=2*(n=n<0?0:n>1?1:n)-(o=n<=.5?n*(1+e):n+e-n*e),new le(a(t+120),a(t),a(t-120))}function Zt(t,e,n){return this instanceof Zt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof Zt?new Zt(t.h,t.c,t.l):ae(t instanceof Kt?t.l:(t=ge((t=a.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Zt(t,e,n)}Wt.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new $t(this.h,this.s,this.l/t)},Wt.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new $t(this.h,this.s,t*this.l)},Wt.rgb=function(){return Gt(this.h,this.s,this.l)},a.hcl=Zt;var Bt=Zt.prototype=new Jt;function Xt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new Kt(n,Math.cos(t*=Nt)*e,Math.sin(t)*e)}function Kt(t,e,n){return this instanceof Kt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof Kt?new Kt(t.l,t.a,t.b):t instanceof Zt?Xt(t.h,t.c,t.l):ge((t=le(t)).r,t.g,t.b):new Kt(t,e,n)}Bt.brighter=function(t){return new Zt(this.h,this.c,Math.min(100,this.l+Qt*(arguments.length?t:1)))},Bt.darker=function(t){return new Zt(this.h,this.c,Math.max(0,this.l-Qt*(arguments.length?t:1)))},Bt.rgb=function(){return Xt(this.h,this.c,this.l).rgb()},a.lab=Kt;var Qt=18,te=.95047,ee=1,ne=1.08883,re=Kt.prototype=new Jt;function oe(t,e,n){var r=(t+16)/116,o=r+e/500,a=r-n/200;return new le(se(3.2404542*(o=ue(o)*te)-1.5371385*(r=ue(r)*ee)-.4985314*(a=ue(a)*ne)),se(-.969266*o+1.8760108*r+.041556*a),se(.0556434*o-.2040259*r+1.0572252*a))}function ae(t,e,n){return t>0?new Zt(Math.atan2(n,e)*Lt,Math.sqrt(e*e+n*n),t):new Zt(NaN,NaN,t)}function ue(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function ie(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function se(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function le(t,e,n){return this instanceof le?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof le?new le(t.r,t.g,t.b):pe(""+t,le,Gt):new le(t,e,n)}function ce(t){return new le(t>>16,t>>8&255,255&t)}function fe(t){return ce(t)+""}re.brighter=function(t){return new Kt(Math.min(100,this.l+Qt*(arguments.length?t:1)),this.a,this.b)},re.darker=function(t){return new Kt(Math.max(0,this.l-Qt*(arguments.length?t:1)),this.a,this.b)},re.rgb=function(){return oe(this.l,this.a,this.b)},a.rgb=le;var de=le.prototype=new Jt;function he(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function pe(t,e,n){var r,o,a,u=0,i=0,s=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(o=r[2].split(","),r[1]){case"hsl":return n(parseFloat(o[0]),parseFloat(o[1])/100,parseFloat(o[2])/100);case"rgb":return e(ye(o[0]),ye(o[1]),ye(o[2]))}return(a=_e.get(t))?e(a.r,a.g,a.b):(null==t||"#"!==t.charAt(0)||isNaN(a=parseInt(t.slice(1),16))||(4===t.length?(u=(3840&a)>>4,u|=u>>4,i=240&a,i|=i>>4,s=15&a,s|=s<<4):7===t.length&&(u=(16711680&a)>>16,i=(65280&a)>>8,s=255&a)),e(u,i,s))}function me(t,e,n){var r,o,a=Math.min(t/=255,e/=255,n/=255),u=Math.max(t,e,n),i=u-a,s=(u+a)/2;return i?(o=s<.5?i/(u+a):i/(2-u-a),r=t==u?(e-n)/i+(e<n?6:0):e==u?(n-t)/i+2:(t-e)/i+4,r*=60):(r=NaN,o=s>0&&s<1?0:r),new $t(r,o,s)}function ge(t,e,n){var r=ie((.4124564*(t=ve(t))+.3575761*(e=ve(e))+.1804375*(n=ve(n)))/te),o=ie((.2126729*t+.7151522*e+.072175*n)/ee);return Kt(116*o-16,500*(r-o),200*(o-ie((.0193339*t+.119192*e+.9503041*n)/ne)))}function ve(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ye(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}de.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,o=30;return e||n||r?(e&&e<o&&(e=o),n&&n<o&&(n=o),r&&r<o&&(r=o),new le(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new le(o,o,o)},de.darker=function(t){return new le((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},de.hsl=function(){return me(this.r,this.g,this.b)},de.toString=function(){return"#"+he(this.r)+he(this.g)+he(this.b)};var _e=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function je(t){return"function"==typeof t?t:function(){return t}}function xe(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),be(e,n,t,r)}}function be(t,e,n,r){var o={},u=a.dispatch("beforesend","progress","load","error"),s={},l=new XMLHttpRequest,c=null;function f(){var t,e=l.status;if(!e&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(l)||e>=200&&e<300||304===e){try{t=n.call(o,l)}catch(t){return void u.error.call(o,t)}u.load.call(o,t)}else u.error.call(o,l)}return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=f:l.onreadystatechange=function(){l.readyState>3&&f()},l.onprogress=function(t){var e=a.event;a.event=t;try{u.progress.call(o,l)}finally{a.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(c=t,o):c},o.response=function(t){return n=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(i(arguments)))}}),o.send=function(n,r,a){if(2===arguments.length&&"function"==typeof r&&(a=r,r=null),l.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),l.setRequestHeader)for(var i in s)l.setRequestHeader(i,s[i]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=c&&(l.responseType=c),null!=a&&o.on("error",a).on("load",function(t){a(null,t)}),u.beforesend.call(o,l),l.send(null==r?null:r),o},o.abort=function(){return l.abort(),o},a.rebind(o,u,"on"),null==r?o:o.get(function(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}(r))}_e.forEach(function(t,e){_e.set(t,ce(e))}),a.functor=je,a.xhr=xe(O),a.dsv=function(t,e){var n=new RegExp('["'+t+"\n]"),r=t.charCodeAt(0);function o(t,n,r){arguments.length<3&&(r=n,n=null);var o=be(t,e,null==n?a:u(n),r);return o.row=function(t){return arguments.length?o.response(null==(n=t)?a:u(t)):n},o}function a(t){return o.parse(t.responseText)}function u(t){return function(e){return o.parse(e.responseText,t)}}function i(e){return e.map(s).join(t)}function s(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return o.parse=function(t,e){var n;return o.parseRows(t,function(t,r){if(n)return n(t,r-1);var o=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");n=e?function(t,n){return e(o(t),n)}:o})},o.parseRows=function(t,e){var n,o,a={},u={},i=[],s=t.length,l=0,c=0;function f(){if(l>=s)return u;if(o)return o=!1,a;var e=l;if(34===t.charCodeAt(e)){for(var n=e;n++<s;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}return l=n+2,13===(i=t.charCodeAt(n+1))?(o=!0,10===t.charCodeAt(n+2)&&++l):10===i&&(o=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;l<s;){var i,c=1;if(10===(i=t.charCodeAt(l++)))o=!0;else if(13===i)o=!0,10===t.charCodeAt(l)&&(++l,++c);else if(i!==r)continue;return t.slice(e,l-c)}return t.slice(e)}for(;(n=f())!==u;){for(var d=[];n!==a&&n!==u;)d.push(n),n=f();e&&null==(d=e(d,c++))||i.push(d)}return i},o.format=function(e){if(Array.isArray(e[0]))return o.formatRows(e);var n=new L,r=[];return e.forEach(function(t){for(var e in t)n.has(e)||r.push(n.add(e))}),[r.map(s).join(t)].concat(e.map(function(e){return r.map(function(t){return s(e[t])}).join(t)})).join("\n")},o.formatRows=function(t){return t.map(i).join("\n")},o},a.csv=a.dsv(",","text/csv"),a.tsv=a.dsv("\t","text/tab-separated-values");var Me,we,Ce,Ee,ke=this[z(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function Se(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var o={c:t,t:n+e,n:null};return we?we.n=o:Me=o,we=o,Ce||(Ee=clearTimeout(Ee),Ce=1,ke(Te)),o}function Te(){var t=Pe(),e=Ae()-t;e>24?(isFinite(e)&&(clearTimeout(Ee),Ee=setTimeout(Te,e)),Ce=0):(Ce=1,ke(Te))}function Pe(){for(var t=Date.now(),e=Me;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Ae(){for(var t,e=Me,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:Me=e.n;return we=t,n}function De(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}a.timer=function(){Se.apply(this,arguments)},a.timer.flush=function(){Pe(),Ae()},a.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var Ne=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(function(t,e){var n=Math.pow(10,3*b(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}});a.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=a.round(t,De(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Ne[8+n/3]};var Le=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Oe=a.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=a.round(t,De(t,e))).toFixed(Math.max(0,Math.min(20,De(t*(1+1e-15),e))))}});function Re(t){return t+""}var ze=a.time={},Fe=Date;function Ue(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Ue.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Ie.setUTCDate.apply(this._,arguments)},setDay:function(){Ie.setUTCDay.apply(this._,arguments)},setFullYear:function(){Ie.setUTCFullYear.apply(this._,arguments)},setHours:function(){Ie.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Ie.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Ie.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Ie.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Ie.setUTCSeconds.apply(this._,arguments)},setTime:function(){Ie.setTime.apply(this._,arguments)}};var Ie=Date.prototype;function qe(t,e,n){function r(e){var n=t(e),r=a(n,1);return e-n<r-e?n:r}function o(n){return e(n=t(new Fe(n-1)),1),n}function a(t,n){return e(t=new Fe(+t),n),t}function u(t,r,a){var u=o(t),i=[];if(a>1)for(;u<r;)n(u)%a||i.push(new Date(+u)),e(u,1);else for(;u<r;)i.push(new Date(+u)),e(u,1);return i}t.floor=t,t.round=r,t.ceil=o,t.offset=a,t.range=u;var i=t.utc=Ve(t);return i.floor=i,i.round=Ve(r),i.ceil=Ve(o),i.offset=Ve(a),i.range=function(t,e,n){try{Fe=Ue;var r=new Ue;return r._=t,u(r,e,n)}finally{Fe=Date}},t}function Ve(t){return function(e,n){try{Fe=Ue;var r=new Ue;return r._=e,t(r,n)._}finally{Fe=Date}}}ze.year=qe(function(t){return(t=ze.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),ze.years=ze.year.range,ze.years.utc=ze.year.utc.range,ze.day=qe(function(t){var e=new Fe(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),ze.days=ze.day.range,ze.days.utc=ze.day.utc.range,ze.dayOfYear=function(t){var e=ze.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=ze[t]=qe(function(t){return(t=ze.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=ze.year(t).getDay();return Math.floor((ze.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});ze[t+"s"]=n.range,ze[t+"s"].utc=n.utc.range,ze[t+"OfYear"]=function(t){var n=ze.year(t).getDay();return Math.floor((ze.dayOfYear(t)+(n+e)%7)/7)}}),ze.week=ze.sunday,ze.weeks=ze.sunday.range,ze.weeks.utc=ze.sunday.utc.range,ze.weekOfYear=ze.sundayOfYear;var He={"-":"",_:" ",0:"0"},Ye=/^\s*\d+/,Je=/^%/;function $e(t,e,n){var r=t<0?"-":"",o=(r?-t:t)+"",a=o.length;return r+(a<n?new Array(n-a+1).join(e)+o:o)}function We(t){return new RegExp("^(?:"+t.map(a.requote).join("|")+")","i")}function Ge(t){for(var e=new w,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Ze(t,e,n){Ye.lastIndex=0;var r=Ye.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Be(t,e,n){Ye.lastIndex=0;var r=Ye.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Xe(t,e,n){Ye.lastIndex=0;var r=Ye.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Ke(t,e,n){Ye.lastIndex=0;var r=Ye.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Qe(t,e,n){Ye.lastIndex=0;var r,o=Ye.exec(e.slice(n,n+2));return o?(t.y=(r=+o[0])+(r>68?1900:2e3),n+o[0].length):-1}function tn(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function en(t,e,n){Ye.lastIndex=0;var r=Ye.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function nn(t,e,n){Ye.lastIndex=0;var r=Ye.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function rn(t,e,n){Ye.lastIndex=0;var r=Ye.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function on(t,e,n){Ye.lastIndex=0;var r=Ye.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function an(t,e,n){Ye.lastIndex=0;var r=Ye.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function un(t,e,n){Ye.lastIndex=0;var r=Ye.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function sn(t,e,n){Ye.lastIndex=0;var r=Ye.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ln(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=b(e)/60|0,o=b(e)%60;return n+$e(r,"0",2)+$e(o,"0",2)}function cn(t,e,n){Je.lastIndex=0;var r=Je.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function fn(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}a.locale=function(t){return{numberFormat:function(t){var e=t.decimal,n=t.thousands,r=t.grouping,o=t.currency,u=r&&n?function(t,e){for(var o=t.length,a=[],u=0,i=r[0],s=0;o>0&&i>0&&(s+i+1>e&&(i=Math.max(1,e-s)),a.push(t.substring(o-=i,o+i)),!((s+=i+1)>e));)i=r[u=(u+1)%r.length];return a.reverse().join(n)}:O;return function(t){var n=Le.exec(t),r=n[1]||" ",i=n[2]||">",s=n[3]||"-",l=n[4]||"",c=n[5],f=+n[6],d=n[7],h=n[8],p=n[9],m=1,g="",v="",y=!1,_=!0;switch(h&&(h=+h.substring(1)),(c||"0"===r&&"="===i)&&(c=r="0",i="="),p){case"n":d=!0,p="g";break;case"%":m=100,v="%",p="f";break;case"p":m=100,v="%",p="r";break;case"b":case"o":case"x":case"X":"#"===l&&(g="0"+p.toLowerCase());case"c":_=!1;case"d":y=!0,h=0;break;case"s":m=-1,p="r"}"$"===l&&(g=o[0],v=o[1]),"r"!=p||h||(p="g"),null!=h&&("g"==p?h=Math.max(1,Math.min(21,h)):"e"!=p&&"f"!=p||(h=Math.max(0,Math.min(20,h)))),p=Oe.get(p)||Re;var j=c&&d;return function(t){var n=v;if(y&&t%1)return"";var o=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===s?"":s;if(m<0){var l=a.formatPrefix(t,h);t=l.scale(t),n=l.symbol+v}else t*=m;var x,b,M=(t=p(t,h)).lastIndexOf(".");if(M<0){var w=_?t.lastIndexOf("e"):-1;w<0?(x=t,b=""):(x=t.substring(0,w),b=t.substring(w))}else x=t.substring(0,M),b=e+t.substring(M+1);!c&&d&&(x=u(x,1/0));var C=g.length+x.length+b.length+(j?0:o.length),E=C<f?new Array(C=f-C+1).join(r):"";return j&&(x=u(E+x,E.length?f-b.length:1/0)),o+=g,t=x+b,("<"===i?o+t+E:">"===i?E+o+t:"^"===i?E.substring(0,C>>=1)+o+t+E.substring(C):o+(j?t:E+t))+n}}}(t),timeFormat:function(t){var e=t.dateTime,n=t.date,r=t.time,o=t.periods,u=t.days,i=t.shortDays,s=t.months,l=t.shortMonths;function c(t){var e=t.length;function n(n){for(var r,o,a,u=[],i=-1,s=0;++i<e;)37===t.charCodeAt(i)&&(u.push(t.slice(s,i)),null!=(o=He[r=t.charAt(++i)])&&(r=t.charAt(++i)),(a=x[r])&&(r=a(n,null==o?"e"===r?" ":"0":o)),u.push(r),s=i+1);return u.push(t.slice(s,i)),u.join("")}return n.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(f(n,t,e,0)!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var r=null!=n.Z&&Fe!==Ue,o=new(r?Ue:Fe);return"j"in n?o.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),o.setFullYear(n.y,0,1),o.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(o.getDay()+5)%7:n.w+7*n.U-(o.getDay()+6)%7)):o.setFullYear(n.y,n.m,n.d),o.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),r?o._:o},n.toString=function(){return t},n}function f(t,e,n,r){for(var o,a,u,i=0,s=e.length,l=n.length;i<s;){if(r>=l)return-1;if(37===(o=e.charCodeAt(i++))){if(u=e.charAt(i++),!(a=b[u in He?e.charAt(i++):u])||(r=a(t,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}c.utc=function(t){var e=c(t);function n(t){try{var n=new(Fe=Ue);return n._=t,e(n)}finally{Fe=Date}}return n.parse=function(t){try{Fe=Ue;var n=e.parse(t);return n&&n._}finally{Fe=Date}},n.toString=e.toString,n},c.multi=c.utc.multi=fn;var d=a.map(),h=We(u),p=Ge(u),m=We(i),g=Ge(i),v=We(s),y=Ge(s),_=We(l),j=Ge(l);o.forEach(function(t,e){d.set(t.toLowerCase(),e)});var x={a:function(t){return i[t.getDay()]},A:function(t){return u[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:c(e),d:function(t,e){return $e(t.getDate(),e,2)},e:function(t,e){return $e(t.getDate(),e,2)},H:function(t,e){return $e(t.getHours(),e,2)},I:function(t,e){return $e(t.getHours()%12||12,e,2)},j:function(t,e){return $e(1+ze.dayOfYear(t),e,3)},L:function(t,e){return $e(t.getMilliseconds(),e,3)},m:function(t,e){return $e(t.getMonth()+1,e,2)},M:function(t,e){return $e(t.getMinutes(),e,2)},p:function(t){return o[+(t.getHours()>=12)]},S:function(t,e){return $e(t.getSeconds(),e,2)},U:function(t,e){return $e(ze.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return $e(ze.mondayOfYear(t),e,2)},x:c(n),X:c(r),y:function(t,e){return $e(t.getFullYear()%100,e,2)},Y:function(t,e){return $e(t.getFullYear()%1e4,e,4)},Z:ln,"%":function(){return"%"}},b={a:function(t,e,n){m.lastIndex=0;var r=m.exec(e.slice(n));return r?(t.w=g.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){h.lastIndex=0;var r=h.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){_.lastIndex=0;var r=_.exec(e.slice(n));return r?(t.m=j.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){v.lastIndex=0;var r=v.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,e,n){return f(t,x.c.toString(),e,n)},d:nn,e:nn,H:on,I:on,j:rn,L:sn,m:en,M:an,p:function(t,e,n){var r=d.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)},S:un,U:Be,w:Ze,W:Xe,x:function(t,e,n){return f(t,x.x.toString(),e,n)},X:function(t,e,n){return f(t,x.X.toString(),e,n)},y:Qe,Y:Ke,Z:tn,"%":cn};return c}(t)}};var dn=a.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hn(){}a.format=dn.numberFormat,a.geo={},hn.prototype={s:0,t:0,add:function(t){mn(t,this.t,pn),mn(pn.s,this.s,this),this.s?this.t+=pn.t:this.s=pn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var pn=new hn;function mn(t,e,n){var r=n.s=t+e,o=r-t,a=r-o;n.t=t-a+(e-o)}function gn(t,e){t&&yn.hasOwnProperty(t.type)&&yn[t.type](t,e)}a.geo.stream=function(t,e){t&&vn.hasOwnProperty(t.type)?vn[t.type](t,e):gn(t,e)};var vn={Feature:function(t,e){gn(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,o=n.length;++r<o;)gn(n[r].geometry,e)}},yn={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){_n(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)_n(n[r],e,0)},Polygon:function(t,e){jn(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)jn(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,o=n.length;++r<o;)gn(n[r],e)}};function _n(t,e,n){var r,o=-1,a=t.length-n;for(e.lineStart();++o<a;)r=t[o],e.point(r[0],r[1],r[2]);e.lineEnd()}function jn(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)_n(t[n],e,1);e.polygonEnd()}a.geo.area=function(t){return xn=0,a.geo.stream(t,Ln),xn};var xn,bn,Mn,wn,Cn,En,kn,Sn,Tn,Pn,An,Dn,Nn=new hn,Ln={sphere:function(){xn+=4*Tt},point:U,lineStart:U,lineEnd:U,polygonStart:function(){Nn.reset(),Ln.lineStart=On},polygonEnd:function(){var t=2*Nn;xn+=t<0?4*Tt+t:t,Ln.lineStart=Ln.lineEnd=Ln.point=U}};function On(){var t,e,n,r,o;function a(t,e){e=e*Nt/2+Tt/4;var a=(t*=Nt)-n,u=a>=0?1:-1,i=u*a,s=Math.cos(e),l=Math.sin(e),c=o*l,f=r*s+c*Math.cos(i),d=c*u*Math.sin(i);Nn.add(Math.atan2(d,f)),n=t,r=s,o=l}Ln.point=function(u,i){Ln.point=a,n=(t=u)*Nt,r=Math.cos(i=(e=i)*Nt/2+Tt/4),o=Math.sin(i)},Ln.lineEnd=function(){a(t,e)}}function Rn(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function zn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Fn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Un(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function In(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function qn(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Vn(t){return[Math.atan2(t[1],t[0]),Ft(t[2])]}function Hn(t,e){return b(t[0]-e[0])<kt&&b(t[1]-e[1])<kt}a.geo.bounds=function(){var t,e,n,r,o,u,i,s,l,c,f,d={point:h,lineStart:m,lineEnd:g,polygonStart:function(){d.point=v,d.lineStart=y,d.lineEnd=_,l=0,Ln.polygonStart()},polygonEnd:function(){Ln.polygonEnd(),d.point=h,d.lineStart=m,d.lineEnd=g,Nn<0?(t=-(n=180),e=-(r=90)):l>kt?r=90:l<-kt&&(e=-90),f[0]=t,f[1]=n}};function h(o,a){c.push(f=[t=o,n=o]),a<e&&(e=a),a>r&&(r=a)}function p(a,u){var i=Rn([a*Nt,u*Nt]);if(s){var l=Fn(s,i),c=Fn([l[1],-l[0],0],l);qn(c),c=Vn(c);var f=a-o,d=f>0?1:-1,p=c[0]*Lt*d,m=b(f)>180;if(m^(d*o<p&&p<d*a))(g=c[1]*Lt)>r&&(r=g);else if(m^(d*o<(p=(p+360)%360-180)&&p<d*a)){var g;(g=-c[1]*Lt)<e&&(e=g)}else u<e&&(e=u),u>r&&(r=u);m?a<o?j(t,a)>j(t,n)&&(n=a):j(a,n)>j(t,n)&&(t=a):n>=t?(a<t&&(t=a),a>n&&(n=a)):a>o?j(t,a)>j(t,n)&&(n=a):j(a,n)>j(t,n)&&(t=a)}else h(a,u);s=i,o=a}function m(){d.point=p}function g(){f[0]=t,f[1]=n,d.point=h,s=null}function v(t,e){if(s){var n=t-o;l+=b(n)>180?n+(n>0?360:-360):n}else u=t,i=e;Ln.point(t,e),p(t,e)}function y(){Ln.lineStart()}function _(){v(u,i),Ln.lineEnd(),b(l)>kt&&(t=-(n=180)),f[0]=t,f[1]=n,s=null}function j(t,e){return(e-=t)<0?e+360:e}function x(t,e){return t[0]-e[0]}function M(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}return function(o){if(r=n=-(t=e=1/0),c=[],a.geo.stream(o,d),l=c.length){c.sort(x);for(var u=1,i=[m=c[0]];u<l;++u)M((h=c[u])[0],m)||M(h[1],m)?(j(m[0],h[1])>j(m[0],m[1])&&(m[1]=h[1]),j(h[0],m[1])>j(m[0],m[1])&&(m[0]=h[0])):i.push(m=h);for(var s,l,h,p=-1/0,m=(u=0,i[l=i.length-1]);u<=l;m=h,++u)h=i[u],(s=j(m[1],h[0]))>p&&(p=s,t=h[0],n=m[1])}return c=f=null,t===1/0||e===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,e],[n,r]]}}(),a.geo.centroid=function(t){bn=Mn=wn=Cn=En=kn=Sn=Tn=Pn=An=Dn=0,a.geo.stream(t,Yn);var e=Pn,n=An,r=Dn,o=e*e+n*n+r*r;return o<St&&(e=kn,n=Sn,r=Tn,Mn<kt&&(e=wn,n=Cn,r=En),(o=e*e+n*n+r*r)<St)?[NaN,NaN]:[Math.atan2(n,e)*Lt,Ft(r/Math.sqrt(o))*Lt]};var Yn={sphere:U,point:Jn,lineStart:Wn,lineEnd:Gn,polygonStart:function(){Yn.lineStart=Zn},polygonEnd:function(){Yn.lineStart=Wn}};function Jn(t,e){t*=Nt;var n=Math.cos(e*=Nt);$n(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function $n(t,e,n){wn+=(t-wn)/++bn,Cn+=(e-Cn)/bn,En+=(n-En)/bn}function Wn(){var t,e,n;function r(r,o){r*=Nt;var a=Math.cos(o*=Nt),u=a*Math.cos(r),i=a*Math.sin(r),s=Math.sin(o),l=Math.atan2(Math.sqrt((l=e*s-n*i)*l+(l=n*u-t*s)*l+(l=t*i-e*u)*l),t*u+e*i+n*s);Mn+=l,kn+=l*(t+(t=u)),Sn+=l*(e+(e=i)),Tn+=l*(n+(n=s)),$n(t,e,n)}Yn.point=function(o,a){o*=Nt;var u=Math.cos(a*=Nt);t=u*Math.cos(o),e=u*Math.sin(o),n=Math.sin(a),Yn.point=r,$n(t,e,n)}}function Gn(){Yn.point=Jn}function Zn(){var t,e,n,r,o;function a(t,e){t*=Nt;var a=Math.cos(e*=Nt),u=a*Math.cos(t),i=a*Math.sin(t),s=Math.sin(e),l=r*s-o*i,c=o*u-n*s,f=n*i-r*u,d=Math.sqrt(l*l+c*c+f*f),h=n*u+r*i+o*s,p=d&&-zt(h)/d,m=Math.atan2(d,h);Pn+=p*l,An+=p*c,Dn+=p*f,Mn+=m,kn+=m*(n+(n=u)),Sn+=m*(r+(r=i)),Tn+=m*(o+(o=s)),$n(n,r,o)}Yn.point=function(u,i){t=u,e=i,Yn.point=a,u*=Nt;var s=Math.cos(i*=Nt);n=s*Math.cos(u),r=s*Math.sin(u),o=Math.sin(i),$n(n,r,o)},Yn.lineEnd=function(){a(t,e),Yn.lineEnd=Gn,Yn.point=Jn}}function Bn(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function Xn(){return!0}function Kn(t,e,n,r,o){var a=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(Hn(n,r)){o.lineStart();for(var i=0;i<e;++i)o.point((n=t[i])[0],n[1]);o.lineEnd()}else{var s=new tr(n,t,null,!0),l=new tr(n,null,s,!1);s.o=l,a.push(s),u.push(l),l=new tr(r,null,s=new tr(r,t,null,!1),!0),s.o=l,a.push(s),u.push(l)}}}),u.sort(e),Qn(a),Qn(u),a.length){for(var i=0,s=n,l=u.length;i<l;++i)u[i].e=s=!s;for(var c,f,d=a[0];;){for(var h=d,p=!0;h.v;)if((h=h.n)===d)return;c=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(i=0,l=c.length;i<l;++i)o.point((f=c[i])[0],f[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(p)for(i=(c=h.p.z).length-1;i>=0;--i)o.point((f=c[i])[0],f[1]);else r(h.x,h.p.x,-1,o);h=h.p}c=(h=h.o).z,p=!p}while(!h.v);o.lineEnd()}}}function Qn(t){if(e=t.length){for(var e,n,r=0,o=t[0];++r<e;)o.n=n=t[r],n.p=o,o=n;o.n=n=t[0],n.p=o}}function tr(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function er(t,e,n,r){return function(o,u){var i,s=e(u),l=o.invert(r[0],r[1]),c={point:f,lineStart:h,lineEnd:p,polygonStart:function(){c.point=j,c.lineStart=x,c.lineEnd=b,i=[],m=[]},polygonEnd:function(){c.point=f,c.lineStart=h,c.lineEnd=p,i=a.merge(i);var t=function(t,e){var n=t[0],r=t[1],o=[Math.sin(n),-Math.cos(n),0],a=0,u=0;Nn.reset();for(var i=0,s=e.length;i<s;++i){var l=e[i],c=l.length;if(c)for(var f=l[0],d=f[0],h=f[1]/2+Tt/4,p=Math.sin(h),m=Math.cos(h),g=1;;){g===c&&(g=0);var v=(t=l[g])[0],y=t[1]/2+Tt/4,_=Math.sin(y),j=Math.cos(y),x=v-d,b=x>=0?1:-1,M=b*x,w=M>Tt,C=p*_;if(Nn.add(Math.atan2(C*b*Math.sin(M),m*j+C*Math.cos(M))),a+=w?x+b*Pt:x,w^d>=n^v>=n){var E=Fn(Rn(f),Rn(t));qn(E);var k=Fn(o,E);qn(k);var S=(w^x>=0?-1:1)*Ft(k[2]);(r>S||r===S&&(E[0]||E[1]))&&(u+=w^x>=0?1:-1)}if(!g++)break;d=v,p=_,m=j,f=t}}return(a<-kt||a<kt&&Nn<-kt)^1&u}(l,m);i.length?(_||(u.polygonStart(),_=!0),Kn(i,or,t,n,u)):t&&(_||(u.polygonStart(),_=!0),u.lineStart(),n(null,null,1,u),u.lineEnd()),_&&(u.polygonEnd(),_=!1),i=m=null},sphere:function(){u.polygonStart(),u.lineStart(),n(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function f(e,n){var r=o(e,n);t(e=r[0],n=r[1])&&u.point(e,n)}function d(t,e){var n=o(t,e);s.point(n[0],n[1])}function h(){c.point=d,s.lineStart()}function p(){c.point=f,s.lineEnd()}var m,g,v=rr(),y=e(v),_=!1;function j(t,e){g.push([t,e]);var n=o(t,e);y.point(n[0],n[1])}function x(){y.lineStart(),g=[]}function b(){j(g[0][0],g[0][1]),y.lineEnd();var t,e=y.clean(),n=v.buffer(),r=n.length;if(g.pop(),m.push(g),g=null,r)if(1&e){var o,a=-1;if((r=(t=n[0]).length-1)>0){for(_||(u.polygonStart(),_=!0),u.lineStart();++a<r;)u.point((o=t[a])[0],o[1]);u.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),i.push(n.filter(nr))}return c}}function nr(t){return t.length>1}function rr(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:U,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function or(t,e){return((t=t.x)[0]<0?t[1]-Dt-kt:Dt-t[1])-((e=e.x)[0]<0?e[1]-Dt-kt:Dt-e[1])}var ar=er(Xn,function(t){var e,n=NaN,r=NaN,o=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(a,u){var i=a>0?Tt:-Tt,s=b(a-n);b(s-Tt)<kt?(t.point(n,r=(r+u)/2>0?Dt:-Dt),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(i,r),t.point(a,r),e=0):o!==i&&s>=Tt&&(b(n-o)<kt&&(n-=o*kt),b(a-i)<kt&&(a-=i*kt),r=function(t,e,n,r){var o,a,u=Math.sin(t-n);return b(u)>kt?Math.atan((Math.sin(e)*(a=Math.cos(r))*Math.sin(n)-Math.sin(r)*(o=Math.cos(e))*Math.sin(t))/(o*a*u)):(e+r)/2}(n,r,a,u),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(i,r),e=0),t.point(n=a,r=u),o=i},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var o;if(null==t)o=n*Dt,r.point(-Tt,o),r.point(0,o),r.point(Tt,o),r.point(Tt,0),r.point(Tt,-o),r.point(0,-o),r.point(-Tt,-o),r.point(-Tt,0),r.point(-Tt,o);else if(b(t[0]-e[0])>kt){var a=t[0]<e[0]?Tt:-Tt;o=n*a/2,r.point(-a,o),r.point(0,o),r.point(a,o)}else r.point(e[0],e[1])},[-Tt,-Tt/2]);function ur(t,e,n,r){return function(o){var a,u=o.a,i=o.b,s=u.x,l=u.y,c=0,f=1,d=i.x-s,h=i.y-l;if(a=t-s,d||!(a>0)){if(a/=d,d<0){if(a<c)return;a<f&&(f=a)}else if(d>0){if(a>f)return;a>c&&(c=a)}if(a=n-s,d||!(a<0)){if(a/=d,d<0){if(a>f)return;a>c&&(c=a)}else if(d>0){if(a<c)return;a<f&&(f=a)}if(a=e-l,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<f&&(f=a)}else if(h>0){if(a>f)return;a>c&&(c=a)}if(a=r-l,h||!(a<0)){if(a/=h,h<0){if(a>f)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<f&&(f=a)}return c>0&&(o.a={x:s+c*d,y:l+c*h}),f<1&&(o.b={x:s+f*d,y:l+f*h}),o}}}}}}var ir=1e9;function sr(t,e,n,r){return function(s){var l,c,f,d,h,p,m,g,v,y,_,j=s,x=rr(),b=ur(t,e,n,r),M={point:E,lineStart:function(){M.point=k,c&&c.push(f=[]);y=!0,v=!1,m=g=NaN},lineEnd:function(){l&&(k(d,h),p&&v&&x.rejoin(),l.push(x.buffer()));M.point=E,v&&s.lineEnd()},polygonStart:function(){s=x,l=[],c=[],_=!0},polygonEnd:function(){s=j,l=a.merge(l);var e=function(t){for(var e=0,n=c.length,r=t[1],o=0;o<n;++o)for(var a,u=1,i=c[o],s=i.length,l=i[0];u<s;++u)a=i[u],l[1]<=r?a[1]>r&&Rt(l,a,t)>0&&++e:a[1]<=r&&Rt(l,a,t)<0&&--e,l=a;return 0!==e}([t,r]),n=_&&e,o=l.length;(n||o)&&(s.polygonStart(),n&&(s.lineStart(),w(null,null,1,s),s.lineEnd()),o&&Kn(l,u,e,w,s),s.polygonEnd()),l=c=f=null}};function w(a,u,s,l){var c=0,f=0;if(null==a||(c=o(a,s))!==(f=o(u,s))||i(a,u)<0^s>0)do{l.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+s+4)%4)!==f);else l.point(u[0],u[1])}function C(o,a){return t<=o&&o<=n&&e<=a&&a<=r}function E(t,e){C(t,e)&&s.point(t,e)}function k(t,e){var n=C(t=Math.max(-ir,Math.min(ir,t)),e=Math.max(-ir,Math.min(ir,e)));if(c&&f.push([t,e]),y)d=t,h=e,p=n,y=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&v)s.point(t,e);else{var r={a:{x:m,y:g},b:{x:t,y:e}};b(r)?(v||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),_=!1):n&&(s.lineStart(),s.point(t,e),_=!1)}m=t,g=e,v=n}return M};function o(r,o){return b(r[0]-t)<kt?o>0?0:3:b(r[0]-n)<kt?o>0?2:1:b(r[1]-e)<kt?o>0?1:0:o>0?3:2}function u(t,e){return i(t.x,e.x)}function i(t,e){var n=o(t,1),r=o(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}}function lr(t){var e=0,n=Tt/3,r=Ar(t),o=r(e,n);return o.parallels=function(t){return arguments.length?r(e=t[0]*Tt/180,n=t[1]*Tt/180):[e/Tt*180,n/Tt*180]},o}function cr(t,e){var n=Math.sin(t),r=(n+Math.sin(e))/2,o=1+n*(2*r-n),a=Math.sqrt(o)/r;function u(t,e){var n=Math.sqrt(o-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),a-n*Math.cos(t)]}return u.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/r,Ft((o-(t*t+n*n)*r*r)/(2*r))]},u}a.geo.clipExtent=function(){var t,e,n,r,o,a,u={stream:function(t){return o&&(o.valid=!1),(o=a(t)).valid=!0,o},extent:function(i){return arguments.length?(a=sr(t=+i[0][0],e=+i[0][1],n=+i[1][0],r=+i[1][1]),o&&(o.valid=!1,o=null),u):[[t,e],[n,r]]}};return u.extent([[0,0],[960,500]])},(a.geo.conicEqualArea=function(){return lr(cr)}).raw=cr,a.geo.albers=function(){return a.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},a.geo.albersUsa=function(){var t,e,n,r,o=a.geo.albers(),u=a.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),i=a.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(e,n){t=[e,n]}};function l(o){var a=o[0],u=o[1];return t=null,e(a,u),t||(n(a,u),t)||r(a,u),t}return l.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,a=(t[1]-n[1])/e;return(a>=.12&&a<.234&&r>=-.425&&r<-.214?u:a>=.166&&a<.234&&r>=-.214&&r<-.115?i:o).invert(t)},l.stream=function(t){var e=o.stream(t),n=u.stream(t),r=i.stream(t);return{point:function(t,o){e.point(t,o),n.point(t,o),r.point(t,o)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},l.precision=function(t){return arguments.length?(o.precision(t),u.precision(t),i.precision(t),l):o.precision()},l.scale=function(t){return arguments.length?(o.scale(t),u.scale(.35*t),i.scale(t),l.translate(o.translate())):o.scale()},l.translate=function(t){if(!arguments.length)return o.translate();var a=o.scale(),c=+t[0],f=+t[1];return e=o.translate(t).clipExtent([[c-.455*a,f-.238*a],[c+.455*a,f+.238*a]]).stream(s).point,n=u.translate([c-.307*a,f+.201*a]).clipExtent([[c-.425*a+kt,f+.12*a+kt],[c-.214*a-kt,f+.234*a-kt]]).stream(s).point,r=i.translate([c-.205*a,f+.212*a]).clipExtent([[c-.214*a+kt,f+.166*a+kt],[c-.115*a-kt,f+.234*a-kt]]).stream(s).point,l},l.scale(1070)};var fr,dr,hr,pr,mr,gr,vr={point:U,lineStart:U,lineEnd:U,polygonStart:function(){dr=0,vr.lineStart=yr},polygonEnd:function(){vr.lineStart=vr.lineEnd=vr.point=U,fr+=b(dr/2)}};function yr(){var t,e,n,r;function o(t,e){dr+=r*t-n*e,n=t,r=e}vr.point=function(a,u){vr.point=o,t=n=a,e=r=u},vr.lineEnd=function(){o(t,e)}}var _r={point:function(t,e){t<hr&&(hr=t);t>mr&&(mr=t);e<pr&&(pr=e);e>gr&&(gr=e)},lineStart:U,lineEnd:U,polygonStart:U,polygonEnd:U};function jr(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var xr,br={point:Mr,lineStart:wr,lineEnd:Cr,polygonStart:function(){br.lineStart=Er},polygonEnd:function(){br.point=Mr,br.lineStart=wr,br.lineEnd=Cr}};function Mr(t,e){wn+=t,Cn+=e,++En}function wr(){var t,e;function n(n,r){var o=n-t,a=r-e,u=Math.sqrt(o*o+a*a);kn+=u*(t+n)/2,Sn+=u*(e+r)/2,Tn+=u,Mr(t=n,e=r)}br.point=function(r,o){br.point=n,Mr(t=r,e=o)}}function Cr(){br.point=Mr}function Er(){var t,e,n,r;function o(t,e){var o=t-n,a=e-r,u=Math.sqrt(o*o+a*a);kn+=u*(n+t)/2,Sn+=u*(r+e)/2,Tn+=u,Pn+=(u=r*t-n*e)*(n+t),An+=u*(r+e),Dn+=3*u,Mr(n=t,r=e)}br.point=function(a,u){br.point=o,Mr(t=n=a,e=r=u)},br.lineEnd=function(){o(t,e)}}function kr(t){var e=.5,n=Math.cos(30*Nt),r=16;function o(e){return(r?function(e){var n,o,u,i,s,l,c,f,d,h,p,m,g={point:v,lineStart:y,lineEnd:j,polygonStart:function(){e.polygonStart(),g.lineStart=x},polygonEnd:function(){e.polygonEnd(),g.lineStart=y}};function v(n,r){n=t(n,r),e.point(n[0],n[1])}function y(){f=NaN,g.point=_,e.lineStart()}function _(n,o){var u=Rn([n,o]),i=t(n,o);a(f,d,c,h,p,m,f=i[0],d=i[1],c=n,h=u[0],p=u[1],m=u[2],r,e),e.point(f,d)}function j(){g.point=v,e.lineEnd()}function x(){y(),g.point=b,g.lineEnd=M}function b(t,e){_(n=t,e),o=f,u=d,i=h,s=p,l=m,g.point=_}function M(){a(f,d,c,h,p,m,o,u,n,i,s,l,r,e),g.lineEnd=j,j()}return g}:function(e){return Tr(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})})(e)}function a(r,o,u,i,s,l,c,f,d,h,p,m,g,v){var y=c-r,_=f-o,j=y*y+_*_;if(j>4*e&&g--){var x=i+h,M=s+p,w=l+m,C=Math.sqrt(x*x+M*M+w*w),E=Math.asin(w/=C),k=b(b(w)-1)<kt||b(u-d)<kt?(u+d)/2:Math.atan2(M,x),S=t(k,E),T=S[0],P=S[1],A=T-r,D=P-o,N=_*A-y*D;(N*N/j>e||b((y*A+_*D)/j-.5)>.3||i*h+s*p+l*m<n)&&(a(r,o,u,i,s,l,T,P,k,x/=C,M/=C,w,g,v),v.point(T,P),a(T,P,k,x,M,w,c,f,d,h,p,m,g,v))}}return o.precision=function(t){return arguments.length?(r=(e=t*t)>0&&16,o):Math.sqrt(e)},o}function Sr(t){this.stream=t}function Tr(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Pr(t){return Ar(function(){return t})()}function Ar(t){var e,n,r,o,u,i,s=kr(function(t,n){return[(t=e(t,n))[0]*l+o,u-t[1]*l]}),l=150,c=480,f=250,d=0,h=0,p=0,m=0,g=0,v=ar,y=O,_=null,j=null;function x(t){return[(t=r(t[0]*Nt,t[1]*Nt))[0]*l+o,u-t[1]*l]}function M(t){return(t=r.invert((t[0]-o)/l,(u-t[1])/l))&&[t[0]*Lt,t[1]*Lt]}function w(){r=Bn(n=Or(p,m,g),e);var t=e(d,h);return o=c-t[0]*l,u=f+t[1]*l,C()}function C(){return i&&(i.valid=!1,i=null),x}return x.stream=function(t){return i&&(i.valid=!1),(i=Dr(v(n,s(y(t))))).valid=!0,i},x.clipAngle=function(t){return arguments.length?(v=null==t?(_=t,ar):function(t){var e=Math.cos(t),n=e>0,r=b(e)>kt;return er(o,function(t){var e,i,s,l,c;return{lineStart:function(){l=s=!1,c=1},point:function(f,d){var h,p=[f,d],m=o(f,d),g=n?m?0:u(f,d):m?u(f+(f<0?Tt:-Tt),d):0;if(!e&&(l=s=m)&&t.lineStart(),m!==s&&(h=a(e,p),(Hn(e,h)||Hn(p,h))&&(p[0]+=kt,p[1]+=kt,m=o(p[0],p[1]))),m!==s)c=0,m?(t.lineStart(),h=a(p,e),t.point(h[0],h[1])):(h=a(e,p),t.point(h[0],h[1]),t.lineEnd()),e=h;else if(r&&e&&n^m){var v;g&i||!(v=a(p,e,!0))||(c=0,n?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!m||e&&Hn(e,p)||t.point(p[0],p[1]),e=p,s=m,i=g},lineEnd:function(){s&&t.lineEnd(),e=null},clean:function(){return c|(l&&s)<<1}}},Ur(t,6*Nt),n?[0,-t]:[-Tt,t-Tt]);function o(t,n){return Math.cos(t)*Math.cos(n)>e}function a(t,n,r){var o=[1,0,0],a=Fn(Rn(t),Rn(n)),u=zn(a,a),i=a[0],s=u-i*i;if(!s)return!r&&t;var l=e*u/s,c=-e*i/s,f=Fn(o,a),d=In(o,l);Un(d,In(a,c));var h=f,p=zn(d,h),m=zn(h,h),g=p*p-m*(zn(d,d)-1);if(!(g<0)){var v=Math.sqrt(g),y=In(h,(-p-v)/m);if(Un(y,d),y=Vn(y),!r)return y;var _,j=t[0],x=n[0],M=t[1],w=n[1];x<j&&(_=j,j=x,x=_);var C=x-j,E=b(C-Tt)<kt;if(!E&&w<M&&(_=M,M=w,w=_),E||C<kt?E?M+w>0^y[1]<(b(y[0]-j)<kt?M:w):M<=y[1]&&y[1]<=w:C>Tt^(j<=y[0]&&y[0]<=x)){var k=In(h,(-p+v)/m);return Un(k,d),[y,Vn(k)]}}}function u(e,r){var o=n?t:Tt-t,a=0;return e<-o?a|=1:e>o&&(a|=2),r<-o?a|=4:r>o&&(a|=8),a}}((_=+t)*Nt),C()):_},x.clipExtent=function(t){return arguments.length?(j=t,y=t?sr(t[0][0],t[0][1],t[1][0],t[1][1]):O,C()):j},x.scale=function(t){return arguments.length?(l=+t,w()):l},x.translate=function(t){return arguments.length?(c=+t[0],f=+t[1],w()):[c,f]},x.center=function(t){return arguments.length?(d=t[0]%360*Nt,h=t[1]%360*Nt,w()):[d*Lt,h*Lt]},x.rotate=function(t){return arguments.length?(p=t[0]%360*Nt,m=t[1]%360*Nt,g=t.length>2?t[2]%360*Nt:0,w()):[p*Lt,m*Lt,g*Lt]},a.rebind(x,s,"precision"),function(){return e=t.apply(this,arguments),x.invert=e.invert&&M,w()}}function Dr(t){return Tr(t,function(e,n){t.point(e*Nt,n*Nt)})}function Nr(t,e){return[t,e]}function Lr(t,e){return[t>Tt?t-Pt:t<-Tt?t+Pt:t,e]}function Or(t,e,n){return t?e||n?Bn(zr(t),Fr(e,n)):zr(t):e||n?Fr(e,n):Lr}function Rr(t){return function(e,n){return[(e+=t)>Tt?e-Pt:e<-Tt?e+Pt:e,n]}}function zr(t){var e=Rr(t);return e.invert=Rr(-t),e}function Fr(t,e){var n=Math.cos(t),r=Math.sin(t),o=Math.cos(e),a=Math.sin(e);function u(t,e){var u=Math.cos(e),i=Math.cos(t)*u,s=Math.sin(t)*u,l=Math.sin(e),c=l*n+i*r;return[Math.atan2(s*o-c*a,i*n-l*r),Ft(c*o+s*a)]}return u.invert=function(t,e){var u=Math.cos(e),i=Math.cos(t)*u,s=Math.sin(t)*u,l=Math.sin(e),c=l*o-s*a;return[Math.atan2(s*o+l*a,i*n+c*r),Ft(c*n-i*r)]},u}function Ur(t,e){var n=Math.cos(t),r=Math.sin(t);return function(o,a,u,i){var s=u*e;null!=o?(o=Ir(n,o),a=Ir(n,a),(u>0?o<a:o>a)&&(o+=u*Pt)):(o=t+u*Pt,a=t-.5*s);for(var l,c=o;u>0?c>a:c<a;c-=s)i.point((l=Vn([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}function Ir(t,e){var n=Rn(e);n[0]-=t,qn(n);var r=zt(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-kt)%(2*Math.PI)}function qr(t,e,n){var r=a.range(t,e-kt,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function Vr(t,e,n){var r=a.range(t,e-kt,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function Hr(t){return t.source}function Yr(t){return t.target}a.geo.path=function(){var t,e,n,r,o,u=4.5;function i(t){return t&&("function"==typeof u&&r.pointRadius(+u.apply(this,arguments)),o&&o.valid||(o=n(r)),a.geo.stream(t,o)),r.result()}function s(){return o=null,i}return i.area=function(t){return fr=0,a.geo.stream(t,n(vr)),fr},i.centroid=function(t){return wn=Cn=En=kn=Sn=Tn=Pn=An=Dn=0,a.geo.stream(t,n(br)),Dn?[Pn/Dn,An/Dn]:Tn?[kn/Tn,Sn/Tn]:En?[wn/En,Cn/En]:[NaN,NaN]},i.bounds=function(t){return mr=gr=-(hr=pr=1/0),a.geo.stream(t,n(_r)),[[hr,pr],[mr,gr]]},i.projection=function(e){return arguments.length?(n=(t=e)?e.stream||(r=e,o=kr(function(t,e){return r([t*Lt,e*Lt])}),function(t){return Dr(o(t))}):O,s()):t;var r,o},i.context=function(t){return arguments.length?(r=null==(e=t)?new function(){var t=jr(4.5),e=[],n={point:r,lineStart:function(){n.point=o},lineEnd:u,polygonStart:function(){n.lineEnd=i},polygonEnd:function(){n.lineEnd=u,n.point=r},pointRadius:function(e){return t=jr(e),n},result:function(){if(e.length){var t=e.join("");return e=[],t}}};function r(n,r){e.push("M",n,",",r,t)}function o(t,r){e.push("M",t,",",r),n.point=a}function a(t,n){e.push("L",t,",",n)}function u(){n.point=r}function i(){e.push("Z")}return n}:new function(t){var e=4.5,n={point:r,lineStart:function(){n.point=o},lineEnd:u,polygonStart:function(){n.lineEnd=i},polygonEnd:function(){n.lineEnd=u,n.point=r},pointRadius:function(t){return e=t,n},result:U};function r(n,r){t.moveTo(n+e,r),t.arc(n,r,e,0,Pt)}function o(e,r){t.moveTo(e,r),n.point=a}function a(e,n){t.lineTo(e,n)}function u(){n.point=r}function i(){t.closePath()}return n}(t),"function"!=typeof u&&r.pointRadius(u),s()):e},i.pointRadius=function(t){return arguments.length?(u="function"==typeof t?t:(r.pointRadius(+t),+t),i):u},i.projection(a.geo.albersUsa()).context(null)},a.geo.transform=function(t){return{stream:function(e){var n=new Sr(e);for(var r in t)n[r]=t[r];return n}}},Sr.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},a.geo.projection=Pr,a.geo.projectionMutator=Ar,(a.geo.equirectangular=function(){return Pr(Nr)}).raw=Nr.invert=Nr,a.geo.rotation=function(t){function e(e){return(e=t(e[0]*Nt,e[1]*Nt))[0]*=Lt,e[1]*=Lt,e}return t=Or(t[0]%360*Nt,t[1]*Nt,t.length>2?t[2]*Nt:0),e.invert=function(e){return(e=t.invert(e[0]*Nt,e[1]*Nt))[0]*=Lt,e[1]*=Lt,e},e},Lr.invert=Nr,a.geo.circle=function(){var t,e,n=[0,0],r=6;function o(){var t="function"==typeof n?n.apply(this,arguments):n,r=Or(-t[0]*Nt,-t[1]*Nt,0).invert,o=[];return e(null,null,1,{point:function(t,e){o.push(t=r(t,e)),t[0]*=Lt,t[1]*=Lt}}),{type:"Polygon",coordinates:[o]}}return o.origin=function(t){return arguments.length?(n=t,o):n},o.angle=function(n){return arguments.length?(e=Ur((t=+n)*Nt,r*Nt),o):t},o.precision=function(n){return arguments.length?(e=Ur(t*Nt,(r=+n)*Nt),o):r},o.angle(90)},a.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Nt,o=t[1]*Nt,a=e[1]*Nt,u=Math.sin(r),i=Math.cos(r),s=Math.sin(o),l=Math.cos(o),c=Math.sin(a),f=Math.cos(a);return Math.atan2(Math.sqrt((n=f*u)*n+(n=l*c-s*f*i)*n),s*c+l*f*i)},a.geo.graticule=function(){var t,e,n,r,o,u,i,s,l,c,f,d,h=10,p=h,m=90,g=360,v=2.5;function y(){return{type:"MultiLineString",coordinates:_()}}function _(){return a.range(Math.ceil(r/m)*m,n,m).map(f).concat(a.range(Math.ceil(s/g)*g,i,g).map(d)).concat(a.range(Math.ceil(e/h)*h,t,h).filter(function(t){return b(t%m)>kt}).map(l)).concat(a.range(Math.ceil(u/p)*p,o,p).filter(function(t){return b(t%g)>kt}).map(c))}return y.lines=function(){return _().map(function(t){return{type:"LineString",coordinates:t}})},y.outline=function(){return{type:"Polygon",coordinates:[f(r).concat(d(i).slice(1),f(n).reverse().slice(1),d(s).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.majorExtent(t).minorExtent(t):y.minorExtent()},y.majorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],i=+t[1][1],r>n&&(t=r,r=n,n=t),s>i&&(t=s,s=i,i=t),y.precision(v)):[[r,s],[n,i]]},y.minorExtent=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],u=+n[0][1],o=+n[1][1],e>t&&(n=e,e=t,t=n),u>o&&(n=u,u=o,o=n),y.precision(v)):[[e,u],[t,o]]},y.step=function(t){return arguments.length?y.majorStep(t).minorStep(t):y.minorStep()},y.majorStep=function(t){return arguments.length?(m=+t[0],g=+t[1],y):[m,g]},y.minorStep=function(t){return arguments.length?(h=+t[0],p=+t[1],y):[h,p]},y.precision=function(a){return arguments.length?(v=+a,l=qr(u,o,90),c=Vr(e,t,v),f=qr(s,i,90),d=Vr(r,n,v),y):v},y.majorExtent([[-180,-90+kt],[180,90-kt]]).minorExtent([[-180,-80-kt],[180,80+kt]])},a.geo.greatArc=function(){var t,e,n=Hr,r=Yr;function o(){return{type:"LineString",coordinates:[t||n.apply(this,arguments),e||r.apply(this,arguments)]}}return o.distance=function(){return a.geo.distance(t||n.apply(this,arguments),e||r.apply(this,arguments))},o.source=function(e){return arguments.length?(n=e,t="function"==typeof e?null:e,o):n},o.target=function(t){return arguments.length?(r=t,e="function"==typeof t?null:t,o):r},o.precision=function(){return arguments.length?o:0},o},a.geo.interpolate=function(t,e){return n=t[0]*Nt,r=t[1]*Nt,o=e[0]*Nt,a=e[1]*Nt,u=Math.cos(r),i=Math.sin(r),s=Math.cos(a),l=Math.sin(a),c=u*Math.cos(n),f=u*Math.sin(n),d=s*Math.cos(o),h=s*Math.sin(o),p=2*Math.asin(Math.sqrt(It(a-r)+u*s*It(o-n))),m=1/Math.sin(p),(g=p?function(t){var e=Math.sin(t*=p)*m,n=Math.sin(p-t)*m,r=n*c+e*d,o=n*f+e*h,a=n*i+e*l;return[Math.atan2(o,r)*Lt,Math.atan2(a,Math.sqrt(r*r+o*o))*Lt]}:function(){return[n*Lt,r*Lt]}).distance=p,g;var n,r,o,a,u,i,s,l,c,f,d,h,p,m,g},a.geo.length=function(t){return xr=0,a.geo.stream(t,Jr),xr};var Jr={sphere:U,point:U,lineStart:function(){var t,e,n;function r(r,o){var a=Math.sin(o*=Nt),u=Math.cos(o),i=b((r*=Nt)-t),s=Math.cos(i);xr+=Math.atan2(Math.sqrt((i=u*Math.sin(i))*i+(i=n*a-e*u*s)*i),e*a+n*u*s),t=r,e=a,n=u}Jr.point=function(o,a){t=o*Nt,e=Math.sin(a*=Nt),n=Math.cos(a),Jr.point=r},Jr.lineEnd=function(){Jr.point=Jr.lineEnd=U}},lineEnd:U,polygonStart:U,polygonEnd:U};function $r(t,e){function n(e,n){var r=Math.cos(e),o=Math.cos(n),a=t(r*o);return[a*o*Math.sin(e),a*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),o=e(r),a=Math.sin(o),u=Math.cos(o);return[Math.atan2(t*a,r*u),Math.asin(r&&n*a/r)]},n}var Wr=$r(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(a.geo.azimuthalEqualArea=function(){return Pr(Wr)}).raw=Wr;var Gr=$r(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},O);function Zr(t,e){var n=Math.cos(t),r=function(t){return Math.tan(Tt/4+t/2)},o=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(r(e)/r(t)),a=n*Math.pow(r(t),o)/o;if(!o)return Kr;function u(t,e){a>0?e<-Dt+kt&&(e=-Dt+kt):e>Dt-kt&&(e=Dt-kt);var n=a/Math.pow(r(e),o);return[n*Math.sin(o*t),a-n*Math.cos(o*t)]}return u.invert=function(t,e){var n=a-e,r=Ot(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(a/r,1/o))-Dt]},u}function Br(t,e){var n=Math.cos(t),r=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),o=n/r+t;if(b(r)<kt)return Nr;function a(t,e){var n=o-e;return[n*Math.sin(r*t),o-n*Math.cos(r*t)]}return a.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,o-Ot(r)*Math.sqrt(t*t+n*n)]},a}(a.geo.azimuthalEquidistant=function(){return Pr(Gr)}).raw=Gr,(a.geo.conicConformal=function(){return lr(Zr)}).raw=Zr,(a.geo.conicEquidistant=function(){return lr(Br)}).raw=Br;var Xr=$r(function(t){return 1/t},Math.atan);function Kr(t,e){return[t,Math.log(Math.tan(Tt/4+e/2))]}function Qr(t){var e,n=Pr(t),r=n.scale,o=n.translate,a=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=o.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var u=a.apply(n,arguments);if(u===n){if(e=null==t){var i=Tt*r(),s=o();a([[s[0]-i,s[1]-i],[s[0]+i,s[1]+i]])}}else e&&(u=null);return u},n.clipExtent(null)}(a.geo.gnomonic=function(){return Pr(Xr)}).raw=Xr,Kr.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Dt]},(a.geo.mercator=function(){return Qr(Kr)}).raw=Kr;var to=$r(function(){return 1},Math.asin);(a.geo.orthographic=function(){return Pr(to)}).raw=to;var eo=$r(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});function no(t,e){return[Math.log(Math.tan(Tt/4+e/2)),-t]}function ro(t){return t[0]}function oo(t){return t[1]}function ao(t){for(var e=t.length,n=[0,1],r=2,o=2;o<e;o++){for(;r>1&&Rt(t[n[r-2]],t[n[r-1]],t[o])<=0;)--r;n[r++]=o}return n.slice(0,r)}function uo(t,e){return t[0]-e[0]||t[1]-e[1]}(a.geo.stereographic=function(){return Pr(eo)}).raw=eo,no.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Dt]},(a.geo.transverseMercator=function(){var t=Qr(no),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=no,a.geom={},a.geom.hull=function(t){var e=ro,n=oo;if(arguments.length)return r(t);function r(t){if(t.length<3)return[];var r,o=je(e),a=je(n),u=t.length,i=[],s=[];for(r=0;r<u;r++)i.push([+o.call(this,t[r],r),+a.call(this,t[r],r),r]);for(i.sort(uo),r=0;r<u;r++)s.push([i[r][0],-i[r][1]]);var l=ao(i),c=ao(s),f=c[0]===l[0],d=c[c.length-1]===l[l.length-1],h=[];for(r=l.length-1;r>=0;--r)h.push(t[i[l[r]][2]]);for(r=+f;r<c.length-d;++r)h.push(t[i[c[r]][2]]);return h}return r.x=function(t){return arguments.length?(e=t,r):e},r.y=function(t){return arguments.length?(n=t,r):n},r},a.geom.polygon=function(t){return $(t,io),t};var io=a.geom.polygon.prototype=[];function so(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function lo(t,e,n,r){var o=t[0],a=n[0],u=e[0]-o,i=r[0]-a,s=t[1],l=n[1],c=e[1]-s,f=r[1]-l,d=(i*(s-l)-f*(o-a))/(f*u-i*c);return[o+d*u,s+d*c]}function co(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}io.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],o=0;++e<n;)t=r,r=this[e],o+=t[1]*r[0]-t[0]*r[1];return.5*o},io.centroid=function(t){var e,n,r=-1,o=this.length,a=0,u=0,i=this[o-1];for(arguments.length||(t=-1/(6*this.area()));++r<o;)e=i,i=this[r],n=e[0]*i[1]-i[0]*e[1],a+=(e[0]+i[0])*n,u+=(e[1]+i[1])*n;return[a*t,u*t]},io.clip=function(t){for(var e,n,r,o,a,u,i=co(t),s=-1,l=this.length-co(this),c=this[l-1];++s<l;){for(e=t.slice(),t.length=0,o=this[s],a=e[(r=e.length-i)-1],n=-1;++n<r;)so(u=e[n],c,o)?(so(a,c,o)||t.push(lo(a,u,c,o)),t.push(u)):so(a,c,o)&&t.push(lo(a,u,c,o)),a=u;i&&t.push(t[0]),c=o}return t};var fo,ho,po,mo,go,vo=[],yo=[];function _o(t){var e=vo.pop()||new function(){Oo(this),this.edge=this.site=this.circle=null};return e.site=t,e}function jo(t){So(t),po.remove(t),vo.push(t),Oo(t)}function xo(t){var e=t.circle,n=e.x,r=e.cy,o={x:n,y:r},a=t.P,u=t.N,i=[t];jo(t);for(var s=a;s.circle&&b(n-s.circle.x)<kt&&b(r-s.circle.cy)<kt;)a=s.P,i.unshift(s),jo(s),s=a;i.unshift(s),So(s);for(var l=u;l.circle&&b(n-l.circle.x)<kt&&b(r-l.circle.cy)<kt;)u=l.N,i.push(l),jo(l),l=u;i.push(l),So(l);var c,f=i.length;for(c=1;c<f;++c)l=i[c],s=i[c-1],Do(l.edge,s.site,l.site,o);s=i[0],(l=i[f-1]).edge=Ao(s.site,l.site,null,o),ko(s),ko(l)}function bo(t){for(var e,n,r,o,a=t.x,u=t.y,i=po._;i;)if((r=Mo(i,u)-a)>kt)i=i.L;else{if(!((o=a-wo(i,u))>kt)){r>-kt?(e=i.P,n=i):o>-kt?(e=i,n=i.N):e=n=i;break}if(!i.R){e=i;break}i=i.R}var s=_o(t);if(po.insert(e,s),e||n){if(e===n)return So(e),n=_o(e.site),po.insert(s,n),s.edge=n.edge=Ao(e.site,s.site),ko(e),void ko(n);if(n){So(e),So(n);var l=e.site,c=l.x,f=l.y,d=t.x-c,h=t.y-f,p=n.site,m=p.x-c,g=p.y-f,v=2*(d*g-h*m),y=d*d+h*h,_=m*m+g*g,j={x:(g*y-h*_)/v+c,y:(d*_-m*y)/v+f};Do(n.edge,l,p,j),s.edge=Ao(l,t,null,j),n.edge=Ao(t,p,null,j),ko(e),ko(n)}else s.edge=Ao(e.site,s.site)}}function Mo(t,e){var n=t.site,r=n.x,o=n.y,a=o-e;if(!a)return r;var u=t.P;if(!u)return-1/0;var i=(n=u.site).x,s=n.y,l=s-e;if(!l)return i;var c=i-r,f=1/a-1/l,d=c/l;return f?(-d+Math.sqrt(d*d-2*f*(c*c/(-2*l)-s+l/2+o-a/2)))/f+r:(r+i)/2}function wo(t,e){var n=t.N;if(n)return Mo(n,e);var r=t.site;return r.y===e?r.x:1/0}function Co(t){this.site=t,this.edges=[]}function Eo(t,e){return e.angle-t.angle}function ko(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,o=t.site,a=n.site;if(r!==a){var u=o.x,i=o.y,s=r.x-u,l=r.y-i,c=a.x-u,f=2*(s*(g=a.y-i)-l*c);if(!(f>=-St)){var d=s*s+l*l,h=c*c+g*g,p=(g*d-l*h)/f,m=(s*h-c*d)/f,g=m+i,v=yo.pop()||new function(){Oo(this),this.x=this.y=this.arc=this.site=this.cy=null};v.arc=t,v.site=o,v.x=p+u,v.y=g+Math.sqrt(p*p+m*m),v.cy=g,t.circle=v;for(var y=null,_=go._;_;)if(v.y<_.y||v.y===_.y&&v.x<=_.x){if(!_.L){y=_.P;break}_=_.L}else{if(!_.R){y=_;break}_=_.R}go.insert(y,v),y||(mo=v)}}}}function So(t){var e=t.circle;e&&(e.P||(mo=e.N),go.remove(e),yo.push(e),Oo(e),t.circle=null)}function To(t,e){var n=t.b;if(n)return!0;var r,o,a=t.a,u=e[0][0],i=e[1][0],s=e[0][1],l=e[1][1],c=t.l,f=t.r,d=c.x,h=c.y,p=f.x,m=f.y,g=(d+p)/2,v=(h+m)/2;if(m===h){if(g<u||g>=i)return;if(d>p){if(a){if(a.y>=l)return}else a={x:g,y:s};n={x:g,y:l}}else{if(a){if(a.y<s)return}else a={x:g,y:l};n={x:g,y:s}}}else if(o=v-(r=(d-p)/(m-h))*g,r<-1||r>1)if(d>p){if(a){if(a.y>=l)return}else a={x:(s-o)/r,y:s};n={x:(l-o)/r,y:l}}else{if(a){if(a.y<s)return}else a={x:(l-o)/r,y:l};n={x:(s-o)/r,y:s}}else if(h<m){if(a){if(a.x>=i)return}else a={x:u,y:r*u+o};n={x:i,y:r*i+o}}else{if(a){if(a.x<u)return}else a={x:i,y:r*i+o};n={x:u,y:r*u+o}}return t.a=a,t.b=n,!0}function Po(t,e){this.l=t,this.r=e,this.a=this.b=null}function Ao(t,e,n,r){var o=new Po(t,e);return fo.push(o),n&&Do(o,t,e,n),r&&Do(o,e,t,r),ho[t.i].edges.push(new No(o,t,e)),ho[e.i].edges.push(new No(o,e,t)),o}function Do(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function No(t,e,n){var r=t.a,o=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(o.x-r.x,r.y-o.y):Math.atan2(r.x-o.x,o.y-r.y)}function Lo(){this._=null}function Oo(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Ro(t,e){var n=e,r=e.R,o=n.U;o?o.L===n?o.L=r:o.R=r:t._=r,r.U=o,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function zo(t,e){var n=e,r=e.L,o=n.U;o?o.L===n?o.L=r:o.R=r:t._=r,r.U=o,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Fo(t){for(;t.L;)t=t.L;return t}function Uo(t,e){var n,r,o,a=t.sort(Io).pop();for(fo=[],ho=new Array(t.length),po=new Lo,go=new Lo;;)if(o=mo,a&&(!o||a.y<o.y||a.y===o.y&&a.x<o.x))a.x===n&&a.y===r||(ho[a.i]=new Co(a),bo(a),n=a.x,r=a.y),a=t.pop();else{if(!o)break;xo(o.arc)}e&&(function(t){for(var e,n=fo,r=ur(t[0][0],t[0][1],t[1][0],t[1][1]),o=n.length;o--;)(!To(e=n[o],t)||!r(e)||b(e.a.x-e.b.x)<kt&&b(e.a.y-e.b.y)<kt)&&(e.a=e.b=null,n.splice(o,1))}(e),function(t){for(var e,n,r,o,a,u,i,s,l,c,f=t[0][0],d=t[1][0],h=t[0][1],p=t[1][1],m=ho,g=m.length;g--;)if((a=m[g])&&a.prepare())for(s=(i=a.edges).length,u=0;u<s;)r=(c=i[u].end()).x,o=c.y,e=(l=i[++u%s].start()).x,n=l.y,(b(r-e)>kt||b(o-n)>kt)&&(i.splice(u,0,new No((v=a.site,y=c,_=b(r-f)<kt&&p-o>kt?{x:f,y:b(e-f)<kt?n:p}:b(o-p)<kt&&d-r>kt?{x:b(n-p)<kt?e:d,y:p}:b(r-d)<kt&&o-h>kt?{x:d,y:b(e-d)<kt?n:h}:b(o-h)<kt&&r-f>kt?{x:b(n-h)<kt?e:f,y:h}:null,j=void 0,j=new Po(v,null),j.a=y,j.b=_,fo.push(j),j),a.site,null)),++s);var v,y,_,j}(e));var u={cells:ho,edges:fo};return po=go=fo=ho=null,u}function Io(t,e){return e.y-t.y||e.x-t.x}Co.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Eo),e.length},No.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Lo.prototype={insert:function(t,e){var n,r,o;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Fo(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(o=r.R)&&o.C?(n.C=o.C=!1,r.C=!0,t=r):(t===n.R&&(Ro(this,n),n=(t=n).U),n.C=!1,r.C=!0,zo(this,r)):(o=r.L)&&o.C?(n.C=o.C=!1,r.C=!0,t=r):(t===n.L&&(zo(this,n),n=(t=n).U),n.C=!1,r.C=!0,Ro(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,o=t.U,a=t.L,u=t.R;if(n=a?u?Fo(u):a:u,o?o.L===t?o.L=n:o.R=n:this._=n,a&&u?(r=n.C,n.C=t.C,n.L=a,a.U=n,n!==u?(o=n.U,n.U=t.U,t=n.R,o.L=t,n.R=u,u.U=n):(n.U=o,o=n,t=n.R)):(r=t.C,t=n),t&&(t.U=o),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===o.L){if((e=o.R).C&&(e.C=!1,o.C=!0,Ro(this,o),e=o.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,zo(this,e),e=o.R),e.C=o.C,o.C=e.R.C=!1,Ro(this,o),t=this._;break}}else if((e=o.L).C&&(e.C=!1,o.C=!0,zo(this,o),e=o.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Ro(this,e),e=o.L),e.C=o.C,o.C=e.L.C=!1,zo(this,o),t=this._;break}e.C=!0,t=o,o=o.U}while(!t.C);t&&(t.C=!1)}}},a.geom.voronoi=function(t){var e=ro,n=oo,r=e,o=n,a=qo;if(t)return u(t);function u(t){var e=new Array(t.length),n=a[0][0],r=a[0][1],o=a[1][0],u=a[1][1];return Uo(i(t),a).cells.forEach(function(a,i){var s=a.edges,l=a.site;(e[i]=s.length?s.map(function(t){var e=t.start();return[e.x,e.y]}):l.x>=n&&l.x<=o&&l.y>=r&&l.y<=u?[[n,u],[o,u],[o,r],[n,r]]:[]).point=t[i]}),e}function i(t){return t.map(function(t,e){return{x:Math.round(r(t,e)/kt)*kt,y:Math.round(o(t,e)/kt)*kt,i:e}})}return u.links=function(t){return Uo(i(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},u.triangles=function(t){var e=[];return Uo(i(t)).cells.forEach(function(n,r){for(var o,a,u,i,s=n.site,l=n.edges.sort(Eo),c=-1,f=l.length,d=l[f-1].edge,h=d.l===s?d.r:d.l;++c<f;)d,o=h,h=(d=l[c].edge).l===s?d.r:d.l,r<o.i&&r<h.i&&(u=o,i=h,((a=s).x-i.x)*(u.y-a.y)-(a.x-u.x)*(i.y-a.y)<0)&&e.push([t[r],t[o.i],t[h.i]])}),e},u.x=function(t){return arguments.length?(r=je(e=t),u):e},u.y=function(t){return arguments.length?(o=je(n=t),u):n},u.clipExtent=function(t){return arguments.length?(a=null==t?qo:t,u):a===qo?null:a},u.size=function(t){return arguments.length?u.clipExtent(t&&[[0,0],t]):a===qo?null:a&&a[1]},u};var qo=[[-1e6,-1e6],[1e6,1e6]];function Vo(t){return t.x}function Ho(t){return t.y}function Yo(t,e){t=a.rgb(t),e=a.rgb(e);var n=t.r,r=t.g,o=t.b,u=e.r-n,i=e.g-r,s=e.b-o;return function(t){return"#"+he(Math.round(n+u*t))+he(Math.round(r+i*t))+he(Math.round(o+s*t))}}function Jo(t,e){var n,r={},o={};for(n in t)n in e?r[n]=Bo(t[n],e[n]):o[n]=t[n];for(n in e)n in t||(o[n]=e[n]);return function(t){for(n in r)o[n]=r[n](t);return o}}function $o(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Wo(t,e){var n,r,o,a=Go.lastIndex=Zo.lastIndex=0,u=-1,i=[],s=[];for(t+="",e+="";(n=Go.exec(t))&&(r=Zo.exec(e));)(o=r.index)>a&&(o=e.slice(a,o),i[u]?i[u]+=o:i[++u]=o),(n=n[0])===(r=r[0])?i[u]?i[u]+=r:i[++u]=r:(i[++u]=null,s.push({i:u,x:$o(n,r)})),a=Zo.lastIndex;return a<e.length&&(o=e.slice(a),i[u]?i[u]+=o:i[++u]=o),i.length<2?s[0]?(e=s[0].x,function(t){return e(t)+""}):function(){return e}:(e=s.length,function(t){for(var n,r=0;r<e;++r)i[(n=s[r]).i]=n.x(t);return i.join("")})}a.geom.delaunay=function(t){return a.geom.voronoi().triangles(t)},a.geom.quadtree=function(t,e,n,r,o){var a,u=ro,i=oo;if(a=arguments.length)return u=Vo,i=Ho,3===a&&(o=n,r=e,n=e=0),s(t);function s(t){var s,l,c,f,d,h,p,m,g,v=je(u),y=je(i);if(null!=e)h=e,p=n,m=r,g=o;else if(m=g=-(h=p=1/0),l=[],c=[],d=t.length,a)for(f=0;f<d;++f)(s=t[f]).x<h&&(h=s.x),s.y<p&&(p=s.y),s.x>m&&(m=s.x),s.y>g&&(g=s.y),l.push(s.x),c.push(s.y);else for(f=0;f<d;++f){var _=+v(s=t[f],f),j=+y(s,f);_<h&&(h=_),j<p&&(p=j),_>m&&(m=_),j>g&&(g=j),l.push(_),c.push(j)}var x=m-h,M=g-p;function w(t,e,n,r,o,a,u,i){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var s=t.x,l=t.y;if(null!=s)if(b(s-n)+b(l-r)<.01)C(t,e,n,r,o,a,u,i);else{var c=t.point;t.x=t.y=t.point=null,C(t,c,s,l,o,a,u,i),C(t,e,n,r,o,a,u,i)}else t.x=n,t.y=r,t.point=e}else C(t,e,n,r,o,a,u,i)}function C(t,e,n,r,o,a,u,i){var s=.5*(o+u),l=.5*(a+i),c=n>=s,f=r>=l,d=f<<1|c;t.leaf=!1,t=t.nodes[d]||(t.nodes[d]={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){w(E,t,+v(t,++f),+y(t,f),h,p,m,g)}}),c?o=s:u=s,f?a=l:i=l,w(t,e,n,r,o,a,u,i)}x>M?g=p+x:m=h+M;var E={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){w(E,t,+v(t,++f),+y(t,f),h,p,m,g)}};if(E.visit=function(t){!function t(e,n,r,o,a,u){if(!e(n,r,o,a,u)){var i=.5*(r+a),s=.5*(o+u),l=n.nodes;l[0]&&t(e,l[0],r,o,i,s),l[1]&&t(e,l[1],i,o,a,s),l[2]&&t(e,l[2],r,s,i,u),l[3]&&t(e,l[3],i,s,a,u)}}(t,E,h,p,m,g)},E.find=function(t){return function(t,e,n,r,o,a,u){var i,s=1/0;return function t(l,c,f,d,h){if(!(c>a||f>u||d<r||h<o)){if(p=l.point){var p,m=e-l.x,g=n-l.y,v=m*m+g*g;if(v<s){var y=Math.sqrt(s=v);r=e-y,o=n-y,a=e+y,u=n+y,i=p}}for(var _=l.nodes,j=.5*(c+d),x=.5*(f+h),b=(n>=x)<<1|e>=j,M=b+4;b<M;++b)if(l=_[3&b])switch(3&b){case 0:t(l,c,f,j,x);break;case 1:t(l,j,f,d,x);break;case 2:t(l,c,x,j,h);break;case 3:t(l,j,x,d,h)}}}(t,r,o,a,u),i}(E,t[0],t[1],h,p,m,g)},f=-1,null==e){for(;++f<d;)w(E,t[f],l[f],c[f],h,p,m,g);--f}else t.forEach(E.add);return l=c=t=s=null,E}return s.x=function(t){return arguments.length?(u=t,s):u},s.y=function(t){return arguments.length?(i=t,s):i},s.extent=function(t){return arguments.length?(null==t?e=n=r=o=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],o=+t[1][1]),s):null==e?null:[[e,n],[r,o]]},s.size=function(t){return arguments.length?(null==t?e=n=r=o=null:(e=n=0,r=+t[0],o=+t[1]),s):null==e?null:[r-e,o-n]},s},a.interpolateRgb=Yo,a.interpolateObject=Jo,a.interpolateNumber=$o,a.interpolateString=Wo;var Go=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zo=new RegExp(Go.source,"g");function Bo(t,e){for(var n,r=a.interpolators.length;--r>=0&&!(n=a.interpolators[r](t,e)););return n}function Xo(t,e){var n,r=[],o=[],a=t.length,u=e.length,i=Math.min(t.length,e.length);for(n=0;n<i;++n)r.push(Bo(t[n],e[n]));for(;n<a;++n)o[n]=t[n];for(;n<u;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=r[n](t);return o}}a.interpolate=Bo,a.interpolators=[function(t,e){var n=typeof e;return("string"===n?_e.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?Yo:Wo:e instanceof Jt?Yo:Array.isArray(e)?Xo:"object"===n&&isNaN(e)?Jo:$o)(t,e)}],a.interpolateArray=Xo;var Ko=function(){return O},Qo=a.map({linear:Ko,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return ra},cubic:function(){return oa},sin:function(){return ua},exp:function(){return ia},circle:function(){return sa},elastic:function(t,e){var n;arguments.length<2&&(e=.45);arguments.length?n=e/Pt*Math.asin(1/t):(t=1,n=e/4);return function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Pt/e)}},back:function(t){t||(t=1.70158);return function(e){return e*e*((t+1)*e-t)}},bounce:function(){return la}}),ta=a.map({in:O,out:ea,"in-out":na,"out-in":function(t){return na(ea(t))}});function ea(t){return function(e){return 1-t(1-e)}}function na(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function ra(t){return t*t}function oa(t){return t*t*t}function aa(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function ua(t){return 1-Math.cos(t*Dt)}function ia(t){return Math.pow(2,10*(t-1))}function sa(t){return 1-Math.sqrt(1-t*t)}function la(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function ca(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function fa(t){var e,n,r,o=[t.a,t.b],a=[t.c,t.d],u=ha(o),i=da(o,a),s=ha(((e=a)[0]+=(r=-i)*(n=o)[0],e[1]+=r*n[1],e))||0;o[0]*a[1]<a[0]*o[1]&&(o[0]*=-1,o[1]*=-1,u*=-1,i*=-1),this.rotate=(u?Math.atan2(o[1],o[0]):Math.atan2(-a[0],a[1]))*Lt,this.translate=[t.e,t.f],this.scale=[u,s],this.skew=s?Math.atan2(i,s)*Lt:0}function da(t,e){return t[0]*e[0]+t[1]*e[1]}function ha(t){var e=Math.sqrt(da(t,t));return e&&(t[0]/=e,t[1]/=e),e}a.ease=function(t){var e,n=t.indexOf("-"),r=n>=0?t.slice(0,n):t,o=n>=0?t.slice(n+1):"in";return r=Qo.get(r)||Ko,o=ta.get(o)||O,e=o(r.apply(null,u.call(arguments,1))),function(t){return t<=0?0:t>=1?1:e(t)}},a.interpolateHcl=function(t,e){t=a.hcl(t),e=a.hcl(e);var n=t.h,r=t.c,o=t.l,u=e.h-n,i=e.c-r,s=e.l-o;isNaN(i)&&(i=0,r=isNaN(r)?e.c:r);isNaN(u)?(u=0,n=isNaN(n)?e.h:n):u>180?u-=360:u<-180&&(u+=360);return function(t){return Xt(n+u*t,r+i*t,o+s*t)+""}},a.interpolateHsl=function(t,e){t=a.hsl(t),e=a.hsl(e);var n=t.h,r=t.s,o=t.l,u=e.h-n,i=e.s-r,s=e.l-o;isNaN(i)&&(i=0,r=isNaN(r)?e.s:r);isNaN(u)?(u=0,n=isNaN(n)?e.h:n):u>180?u-=360:u<-180&&(u+=360);return function(t){return Gt(n+u*t,r+i*t,o+s*t)+""}},a.interpolateLab=function(t,e){t=a.lab(t),e=a.lab(e);var n=t.l,r=t.a,o=t.b,u=e.l-n,i=e.a-r,s=e.b-o;return function(t){return oe(n+u*t,r+i*t,o+s*t)+""}},a.interpolateRound=ca,a.transform=function(t){var e=s.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new fa(n?n.matrix:pa)})(t)},fa.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var pa={a:1,b:0,c:0,d:1,e:0,f:0};function ma(t){return t.length?t.pop()+",":""}function ga(t,e){var n=[],r=[];return t=a.transform(t),e=a.transform(e),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var o=n.push("translate(",null,",",null,")");r.push({i:o-4,x:$o(t[0],e[0])},{i:o-2,x:$o(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}(t.translate,e.translate,n,r),function(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(ma(n)+"rotate(",null,")")-2,x:$o(t,e)})):e&&n.push(ma(n)+"rotate("+e+")")}(t.rotate,e.rotate,n,r),function(t,e,n,r){t!==e?r.push({i:n.push(ma(n)+"skewX(",null,")")-2,x:$o(t,e)}):e&&n.push(ma(n)+"skewX("+e+")")}(t.skew,e.skew,n,r),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var o=n.push(ma(n)+"scale(",null,",",null,")");r.push({i:o-4,x:$o(t[0],e[0])},{i:o-2,x:$o(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(ma(n)+"scale("+e+")")}(t.scale,e.scale,n,r),t=e=null,function(t){for(var e,o=-1,a=r.length;++o<a;)n[(e=r[o]).i]=e.x(t);return n.join("")}}function va(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function ya(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function _a(t){for(var e=t.source,n=t.target,r=function(t,e){if(t===e)return t;var n=ja(t),r=ja(e),o=n.pop(),a=r.pop(),u=null;for(;o===a;)u=o,o=n.pop(),a=r.pop();return u}(e,n),o=[e];e!==r;)e=e.parent,o.push(e);for(var a=o.length;n!==r;)o.splice(a,0,n),n=n.parent;return o}function ja(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function xa(t){t.fixed|=2}function ba(t){t.fixed&=-7}function Ma(t){t.fixed|=4,t.px=t.x,t.py=t.y}function wa(t){t.fixed&=-5}a.interpolateTransform=ga,a.layout={},a.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(_a(t[n]));return e}},a.layout.chord=function(){var t,e,n,r,o,u,i,s={},l=0;function c(){var s,c,d,h,p,m={},g=[],v=a.range(r),y=[];for(t=[],e=[],s=0,h=-1;++h<r;){for(c=0,p=-1;++p<r;)c+=n[h][p];g.push(c),y.push(a.range(r)),s+=c}for(o&&v.sort(function(t,e){return o(g[t],g[e])}),u&&y.forEach(function(t,e){t.sort(function(t,r){return u(n[e][t],n[e][r])})}),s=(Pt-l*r)/s,c=0,h=-1;++h<r;){for(d=c,p=-1;++p<r;){var _=v[h],j=y[_][p],x=n[_][j],b=c,M=c+=x*s;m[_+"-"+j]={index:_,subindex:j,startAngle:b,endAngle:M,value:x}}e[_]={index:_,startAngle:d,endAngle:c,value:g[_]},c+=l}for(h=-1;++h<r;)for(p=h-1;++p<r;){var w=m[h+"-"+p],C=m[p+"-"+h];(w.value||C.value)&&t.push(w.value<C.value?{source:C,target:w}:{source:w,target:C})}i&&f()}function f(){t.sort(function(t,e){return i((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}return s.matrix=function(o){return arguments.length?(r=(n=o)&&n.length,t=e=null,s):n},s.padding=function(n){return arguments.length?(l=n,t=e=null,s):l},s.sortGroups=function(n){return arguments.length?(o=n,t=e=null,s):o},s.sortSubgroups=function(e){return arguments.length?(u=e,t=null,s):u},s.sortChords=function(e){return arguments.length?(i=e,t&&f(),s):i},s.chords=function(){return t||c(),t},s.groups=function(){return e||c(),e},s},a.layout.force=function(){var t,e,n,r,o,u,i={},s=a.dispatch("start","tick","end"),l=[1,1],c=.9,f=Ca,d=Ea,h=-30,p=ka,m=.1,g=.64,v=[],y=[];function _(t){return function(e,n,r,o){if(e.point!==t){var a=e.cx-t.x,u=e.cy-t.y,i=o-n,s=a*a+u*u;if(i*i/g<s){if(s<p){var l=e.charge/s;t.px-=a*l,t.py-=u*l}return!0}if(e.point&&s&&s<p){l=e.pointCharge/s;t.px-=a*l,t.py-=u*l}}return!e.charge}}function j(t){t.px=a.event.x,t.py=a.event.y,i.resume()}return i.tick=function(){if((n*=.99)<.005)return t=null,s.end({type:"end",alpha:n=0}),!0;var e,i,f,d,p,g,j,x,b,M=v.length,w=y.length;for(i=0;i<w;++i)d=(f=y[i]).source,(g=(x=(p=f.target).x-d.x)*x+(b=p.y-d.y)*b)&&(x*=g=n*o[i]*((g=Math.sqrt(g))-r[i])/g,b*=g,p.x-=x*(j=d.weight+p.weight?d.weight/(d.weight+p.weight):.5),p.y-=b*j,d.x+=x*(j=1-j),d.y+=b*j);if((j=n*m)&&(x=l[0]/2,b=l[1]/2,i=-1,j))for(;++i<M;)(f=v[i]).x+=(x-f.x)*j,f.y+=(b-f.y)*j;if(h)for(!function t(e,n,r){var o=0,a=0;e.charge=0;if(!e.leaf)for(var u,i=e.nodes,s=i.length,l=-1;++l<s;)null!=(u=i[l])&&(t(u,n,r),e.charge+=u.charge,o+=u.charge*u.cx,a+=u.charge*u.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=n*r[e.point.index];e.charge+=e.pointCharge=c,o+=c*e.point.x,a+=c*e.point.y}e.cx=o/e.charge;e.cy=a/e.charge}(e=a.geom.quadtree(v),n,u),i=-1;++i<M;)(f=v[i]).fixed||e.visit(_(f));for(i=-1;++i<M;)(f=v[i]).fixed?(f.x=f.px,f.y=f.py):(f.x-=(f.px-(f.px=f.x))*c,f.y-=(f.py-(f.py=f.y))*c);s.tick({type:"tick",alpha:n})},i.nodes=function(t){return arguments.length?(v=t,i):v},i.links=function(t){return arguments.length?(y=t,i):y},i.size=function(t){return arguments.length?(l=t,i):l},i.linkDistance=function(t){return arguments.length?(f="function"==typeof t?t:+t,i):f},i.distance=i.linkDistance,i.linkStrength=function(t){return arguments.length?(d="function"==typeof t?t:+t,i):d},i.friction=function(t){return arguments.length?(c=+t,i):c},i.charge=function(t){return arguments.length?(h="function"==typeof t?t:+t,i):h},i.chargeDistance=function(t){return arguments.length?(p=t*t,i):Math.sqrt(p)},i.gravity=function(t){return arguments.length?(m=+t,i):m},i.theta=function(t){return arguments.length?(g=t*t,i):Math.sqrt(g)},i.alpha=function(e){return arguments.length?(e=+e,n?e>0?n=e:(t.c=null,t.t=NaN,t=null,s.end({type:"end",alpha:n=0})):e>0&&(s.start({type:"start",alpha:n=e}),t=Se(i.tick)),i):n},i.start=function(){var t,e,n,a=v.length,s=y.length,c=l[0],p=l[1];for(t=0;t<a;++t)(n=v[t]).index=t,n.weight=0;for(t=0;t<s;++t)"number"==typeof(n=y[t]).source&&(n.source=v[n.source]),"number"==typeof n.target&&(n.target=v[n.target]),++n.source.weight,++n.target.weight;for(t=0;t<a;++t)n=v[t],isNaN(n.x)&&(n.x=m("x",c)),isNaN(n.y)&&(n.y=m("y",p)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(r=[],"function"==typeof f)for(t=0;t<s;++t)r[t]=+f.call(this,y[t],t);else for(t=0;t<s;++t)r[t]=f;if(o=[],"function"==typeof d)for(t=0;t<s;++t)o[t]=+d.call(this,y[t],t);else for(t=0;t<s;++t)o[t]=d;if(u=[],"function"==typeof h)for(t=0;t<a;++t)u[t]=+h.call(this,v[t],t);else for(t=0;t<a;++t)u[t]=h;function m(n,r){if(!e){for(e=new Array(a),l=0;l<a;++l)e[l]=[];for(l=0;l<s;++l){var o=y[l];e[o.source.index].push(o.target),e[o.target.index].push(o.source)}}for(var u,i=e[t],l=-1,c=i.length;++l<c;)if(!isNaN(u=i[l][n]))return u;return Math.random()*r}return i.resume()},i.resume=function(){return i.alpha(.1)},i.stop=function(){return i.alpha(0)},i.drag=function(){if(e||(e=a.behavior.drag().origin(O).on("dragstart.force",xa).on("drag.force",j).on("dragend.force",ba)),!arguments.length)return e;this.on("mouseover.force",Ma).on("mouseout.force",wa).call(e)},a.rebind(i,s,"on")};var Ca=20,Ea=1,ka=1/0;function Sa(t,e){return a.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=La,t}function Ta(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(o=t.children)&&(r=o.length))for(var r,o;--r>=0;)n.push(o[r])}function Pa(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(a=t.children)&&(o=a.length))for(var o,a,u=-1;++u<o;)n.push(a[u]);for(;null!=(t=r.pop());)e(t)}function Aa(t){return t.children}function Da(t){return t.value}function Na(t,e){return e.value-t.value}function La(t){return a.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}a.layout.hierarchy=function(){var t=Na,e=Aa,n=Da;function r(o){var a,u=[o],i=[];for(o.depth=0;null!=(a=u.pop());)if(i.push(a),(l=e.call(r,a,a.depth))&&(s=l.length)){for(var s,l,c;--s>=0;)u.push(c=l[s]),c.parent=a,c.depth=a.depth+1;n&&(a.value=0),a.children=l}else n&&(a.value=+n.call(r,a,a.depth)||0),delete a.children;return Pa(o,function(e){var r,o;t&&(r=e.children)&&r.sort(t),n&&(o=e.parent)&&(o.value+=e.value)}),i}return r.sort=function(e){return arguments.length?(t=e,r):t},r.children=function(t){return arguments.length?(e=t,r):e},r.value=function(t){return arguments.length?(n=t,r):n},r.revalue=function(t){return n&&(Ta(t,function(t){t.children&&(t.value=0)}),Pa(t,function(t){var e;t.children||(t.value=+n.call(r,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},r},a.layout.partition=function(){var t=a.layout.hierarchy(),e=[1,1];function n(n,r){var o=t.call(this,n,r);return function t(e,n,r,o){var a=e.children;if(e.x=n,e.y=e.depth*o,e.dx=r,e.dy=o,a&&(u=a.length)){var u,i,s,l=-1;for(r=e.value?r/e.value:0;++l<u;)t(i=a[l],n,s=i.value*r,o),n+=s}}(o[0],0,e[0],e[1]/function t(e){var n=e.children,r=0;if(n&&(o=n.length))for(var o,a=-1;++a<o;)r=Math.max(r,t(n[a]));return 1+r}(o[0])),o}return n.size=function(t){return arguments.length?(e=t,n):e},Sa(n,t)},a.layout.pie=function(){var t=Number,e=Oa,n=0,r=Pt,o=0;function u(i){var s,l=i.length,c=i.map(function(e,n){return+t.call(u,e,n)}),f=+("function"==typeof n?n.apply(this,arguments):n),d=("function"==typeof r?r.apply(this,arguments):r)-f,h=Math.min(Math.abs(d)/l,+("function"==typeof o?o.apply(this,arguments):o)),p=h*(d<0?-1:1),m=a.sum(c),g=m?(d-l*p)/m:0,v=a.range(l),y=[];return null!=e&&v.sort(e===Oa?function(t,e){return c[e]-c[t]}:function(t,n){return e(i[t],i[n])}),v.forEach(function(t){y[t]={data:i[t],value:s=c[t],startAngle:f,endAngle:f+=s*g+p,padAngle:h}}),y}return u.value=function(e){return arguments.length?(t=e,u):t},u.sort=function(t){return arguments.length?(e=t,u):e},u.startAngle=function(t){return arguments.length?(n=t,u):n},u.endAngle=function(t){return arguments.length?(r=t,u):r},u.padAngle=function(t){return arguments.length?(o=t,u):o},u};var Oa={};function Ra(t){return t.x}function za(t){return t.y}function Fa(t,e,n){t.y0=e,t.y=n}a.layout.stack=function(){var t=O,e=qa,n=Va,r=Fa,o=Ra,u=za;function i(s,l){if(!(h=s.length))return s;var c=s.map(function(e,n){return t.call(i,e,n)}),f=c.map(function(t){return t.map(function(t,e){return[o.call(i,t,e),u.call(i,t,e)]})}),d=e.call(i,f,l);c=a.permute(c,d),f=a.permute(f,d);var h,p,m,g,v=n.call(i,f,l),y=c[0].length;for(m=0;m<y;++m)for(r.call(i,c[0][m],g=v[m],f[0][m][1]),p=1;p<h;++p)r.call(i,c[p][m],g+=f[p-1][m][1],f[p][m][1]);return s}return i.values=function(e){return arguments.length?(t=e,i):t},i.order=function(t){return arguments.length?(e="function"==typeof t?t:Ua.get(t)||qa,i):e},i.offset=function(t){return arguments.length?(n="function"==typeof t?t:Ia.get(t)||Va,i):n},i.x=function(t){return arguments.length?(o=t,i):o},i.y=function(t){return arguments.length?(u=t,i):u},i.out=function(t){return arguments.length?(r=t,i):r},i};var Ua=a.map({"inside-out":function(t){var e,n,r=t.length,o=t.map(Ha),u=t.map(Ya),i=a.range(r).sort(function(t,e){return o[t]-o[e]}),s=0,l=0,c=[],f=[];for(e=0;e<r;++e)n=i[e],s<l?(s+=u[n],c.push(n)):(l+=u[n],f.push(n));return f.reverse().concat(c)},reverse:function(t){return a.range(t.length).reverse()},default:qa}),Ia=a.map({silhouette:function(t){var e,n,r,o=t.length,a=t[0].length,u=[],i=0,s=[];for(n=0;n<a;++n){for(e=0,r=0;e<o;e++)r+=t[e][n][1];r>i&&(i=r),u.push(r)}for(n=0;n<a;++n)s[n]=(i-u[n])/2;return s},wiggle:function(t){var e,n,r,o,a,u,i,s,l,c=t.length,f=t[0],d=f.length,h=[];for(h[0]=s=l=0,n=1;n<d;++n){for(e=0,o=0;e<c;++e)o+=t[e][n][1];for(e=0,a=0,i=f[n][0]-f[n-1][0];e<c;++e){for(r=0,u=(t[e][n][1]-t[e][n-1][1])/(2*i);r<e;++r)u+=(t[r][n][1]-t[r][n-1][1])/i;a+=u*t[e][n][1]}h[n]=s-=o?a/o*i:0,s<l&&(l=s)}for(n=0;n<d;++n)h[n]-=l;return h},expand:function(t){var e,n,r,o=t.length,a=t[0].length,u=1/o,i=[];for(n=0;n<a;++n){for(e=0,r=0;e<o;e++)r+=t[e][n][1];if(r)for(e=0;e<o;e++)t[e][n][1]/=r;else for(e=0;e<o;e++)t[e][n][1]=u}for(n=0;n<a;++n)i[n]=0;return i},zero:Va});function qa(t){return a.range(t.length)}function Va(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function Ha(t){for(var e,n=1,r=0,o=t[0][1],a=t.length;n<a;++n)(e=t[n][1])>o&&(r=n,o=e);return r}function Ya(t){return t.reduce(Ja,0)}function Ja(t,e){return t+e[1]}function $a(t,e){return Wa(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Wa(t,e){for(var n=-1,r=+t[0],o=(t[1]-r)/e,a=[];++n<=e;)a[n]=o*n+r;return a}function Ga(t){return[a.min(t),a.max(t)]}function Za(t,e){return t.value-e.value}function Ba(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function Xa(t,e){t._pack_next=e,e._pack_prev=t}function Ka(t,e){var n=e.x-t.x,r=e.y-t.y,o=t.r+e.r;return.999*o*o>n*n+r*r}function Qa(t){if((e=t.children)&&(s=e.length)){var e,n,r,o,a,u,i,s,l=1/0,c=-1/0,f=1/0,d=-1/0;if(e.forEach(tu),(n=e[0]).x=-n.r,n.y=0,_(n),s>1&&((r=e[1]).x=r.r,r.y=0,_(r),s>2))for(nu(n,r,o=e[2]),_(o),Ba(n,o),n._pack_prev=o,Ba(o,r),r=n._pack_next,a=3;a<s;a++){nu(n,r,o=e[a]);var h=0,p=1,m=1;for(u=r._pack_next;u!==r;u=u._pack_next,p++)if(Ka(u,o)){h=1;break}if(1==h)for(i=n._pack_prev;i!==u._pack_prev&&!Ka(i,o);i=i._pack_prev,m++);h?(p<m||p==m&&r.r<n.r?Xa(n,r=u):Xa(n=i,r),a--):(Ba(n,o),r=o,_(o))}var g=(l+c)/2,v=(f+d)/2,y=0;for(a=0;a<s;a++)(o=e[a]).x-=g,o.y-=v,y=Math.max(y,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=y,e.forEach(eu)}function _(t){l=Math.min(t.x-t.r,l),c=Math.max(t.x+t.r,c),f=Math.min(t.y-t.r,f),d=Math.max(t.y+t.r,d)}}function tu(t){t._pack_next=t._pack_prev=t}function eu(t){delete t._pack_next,delete t._pack_prev}function nu(t,e,n){var r=t.r+n.r,o=e.x-t.x,a=e.y-t.y;if(r&&(o||a)){var u=e.r+n.r,i=o*o+a*a,s=.5+((r*=r)-(u*=u))/(2*i),l=Math.sqrt(Math.max(0,2*u*(r+i)-(r-=i)*r-u*u))/(2*i);n.x=t.x+s*o+l*a,n.y=t.y+s*a-l*o}else n.x=t.x+r,n.y=t.y}function ru(t,e){return t.parent==e.parent?1:2}function ou(t){var e=t.children;return e.length?e[0]:t.t}function au(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function uu(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function iu(t,e,n){return t.a.parent===e.parent?t.a:n}function su(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function lu(t,e){var n=t.x+e[3],r=t.y+e[0],o=t.dx-e[1]-e[3],a=t.dy-e[0]-e[2];return o<0&&(n+=o/2,o=0),a<0&&(r+=a/2,a=0),{x:n,y:r,dx:o,dy:a}}function cu(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function fu(t){return t.rangeExtent?t.rangeExtent():cu(t.range())}function du(t,e,n,r){var o=n(t[0],t[1]),a=r(e[0],e[1]);return function(t){return a(o(t))}}function hu(t,e){var n,r=0,o=t.length-1,a=t[r],u=t[o];return u<a&&(n=r,r=o,o=n,n=a,a=u,u=n),t[r]=e.floor(a),t[o]=e.ceil(u),t}function pu(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:mu}a.layout.histogram=function(){var t=!0,e=Number,n=Ga,r=$a;function o(o,u){for(var i,s,l=[],c=o.map(e,this),f=n.call(this,c,u),d=r.call(this,f,c,u),h=(u=-1,c.length),p=d.length-1,m=t?1:1/h;++u<p;)(i=l[u]=[]).dx=d[u+1]-(i.x=d[u]),i.y=0;if(p>0)for(u=-1;++u<h;)(s=c[u])>=f[0]&&s<=f[1]&&((i=l[a.bisect(d,s,1,p)-1]).y+=m,i.push(o[u]));return l}return o.value=function(t){return arguments.length?(e=t,o):e},o.range=function(t){return arguments.length?(n=je(t),o):n},o.bins=function(t){return arguments.length?(r="number"==typeof t?function(e){return Wa(e,t)}:je(t),o):r},o.frequency=function(e){return arguments.length?(t=!!e,o):t},o},a.layout.pack=function(){var t,e=a.layout.hierarchy().sort(Za),n=0,r=[1,1];function o(o,a){var u=e.call(this,o,a),i=u[0],s=r[0],l=r[1],c=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(i.x=i.y=0,Pa(i,function(t){t.r=+c(t.value)}),Pa(i,Qa),n){var f=n*(t?1:Math.max(2*i.r/s,2*i.r/l))/2;Pa(i,function(t){t.r+=f}),Pa(i,Qa),Pa(i,function(t){t.r-=f})}return function t(e,n,r,o){var a=e.children;e.x=n+=o*e.x;e.y=r+=o*e.y;e.r*=o;if(a)for(var u=-1,i=a.length;++u<i;)t(a[u],n,r,o)}(i,s/2,l/2,t?1:1/Math.max(2*i.r/s,2*i.r/l)),u}return o.size=function(t){return arguments.length?(r=t,o):r},o.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,o):t},o.padding=function(t){return arguments.length?(n=+t,o):n},Sa(o,e)},a.layout.tree=function(){var t=a.layout.hierarchy().sort(null).value(null),e=ru,n=[1,1],r=null;function o(o,a){var l=t.call(this,o,a),c=l[0],f=function(t){var e,n={A:null,children:[t]},r=[n];for(;null!=(e=r.pop());)for(var o,a=e.children,u=0,i=a.length;u<i;++u)r.push((a[u]=o={_:a[u],parent:e,children:(o=a[u].children)&&o.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:u}).a=o);return n.children[0]}(c);if(Pa(f,u),f.parent.m=-f.z,Ta(f,i),r)Ta(c,s);else{var d=c,h=c,p=c;Ta(c,function(t){t.x<d.x&&(d=t),t.x>h.x&&(h=t),t.depth>p.depth&&(p=t)});var m=e(d,h)/2-d.x,g=n[0]/(h.x+e(h,d)/2+m),v=n[1]/(p.depth||1);Ta(c,function(t){t.x=(t.x+m)*g,t.y=t.depth*v})}return l}function u(t){var n=t.children,r=t.parent.children,o=t.i?r[t.i-1]:null;if(n.length){!function(t){var e,n=0,r=0,o=t.children,a=o.length;for(;--a>=0;)(e=o[a]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(t);var a=(n[0].z+n[n.length-1].z)/2;o?(t.z=o.z+e(t._,o._),t.m=t.z-a):t.z=a}else o&&(t.z=o.z+e(t._,o._));t.parent.A=function(t,n,r){if(n){for(var o,a=t,u=t,i=n,s=a.parent.children[0],l=a.m,c=u.m,f=i.m,d=s.m;i=au(i),a=ou(a),i&&a;)s=ou(s),(u=au(u)).a=t,(o=i.z+f-a.z-l+e(i._,a._))>0&&(uu(iu(i,t,r),t,o),l+=o,c+=o),f+=i.m,l+=a.m,d+=s.m,c+=u.m;i&&!au(u)&&(u.t=i,u.m+=f-c),a&&!ou(s)&&(s.t=a,s.m+=l-d,r=t)}return r}(t,o,t.parent.A||r[0])}function i(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(t){t.x*=n[0],t.y=t.depth*n[1]}return o.separation=function(t){return arguments.length?(e=t,o):e},o.size=function(t){return arguments.length?(r=null==(n=t)?s:null,o):r?null:n},o.nodeSize=function(t){return arguments.length?(r=null==(n=t)?null:s,o):r?n:null},Sa(o,t)},a.layout.cluster=function(){var t=a.layout.hierarchy().sort(null).value(null),e=ru,n=[1,1],r=!1;function o(o,u){var i,s=t.call(this,o,u),l=s[0],c=0;Pa(l,function(t){var n=t.children;n&&n.length?(t.x=function(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}(n),t.y=function(t){return 1+a.max(t,function(t){return t.y})}(n)):(t.x=i?c+=e(t,i):0,t.y=0,i=t)});var f=function t(e){var n=e.children;return n&&n.length?t(n[0]):e}(l),d=function t(e){var n,r=e.children;return r&&(n=r.length)?t(r[n-1]):e}(l),h=f.x-e(f,d)/2,p=d.x+e(d,f)/2;return Pa(l,r?function(t){t.x=(t.x-l.x)*n[0],t.y=(l.y-t.y)*n[1]}:function(t){t.x=(t.x-h)/(p-h)*n[0],t.y=(1-(l.y?t.y/l.y:1))*n[1]}),s}return o.separation=function(t){return arguments.length?(e=t,o):e},o.size=function(t){return arguments.length?(r=null==(n=t),o):r?null:n},o.nodeSize=function(t){return arguments.length?(r=null!=(n=t),o):r?n:null},Sa(o,t)},a.layout.treemap=function(){var t,e=a.layout.hierarchy(),n=Math.round,r=[1,1],o=null,u=su,i=!1,s="squarify",l=.5*(1+Math.sqrt(5));function c(t,e){for(var n,r,o=-1,a=t.length;++o<a;)r=(n=t[o]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function f(t){var e=t.children;if(e&&e.length){var n,r,o,a=u(t),i=[],l=e.slice(),d=1/0,m="slice"===s?a.dx:"dice"===s?a.dy:"slice-dice"===s?1&t.depth?a.dy:a.dx:Math.min(a.dx,a.dy);for(c(l,a.dx*a.dy/t.value),i.area=0;(o=l.length)>0;)i.push(n=l[o-1]),i.area+=n.area,"squarify"!==s||(r=h(i,m))<=d?(l.pop(),d=r):(i.area-=i.pop().area,p(i,m,a,!1),m=Math.min(a.dx,a.dy),i.length=i.area=0,d=1/0);i.length&&(p(i,m,a,!0),i.length=i.area=0),e.forEach(f)}}function d(t){var e=t.children;if(e&&e.length){var n,r=u(t),o=e.slice(),a=[];for(c(o,r.dx*r.dy/t.value),a.area=0;n=o.pop();)a.push(n),a.area+=n.area,null!=n.z&&(p(a,n.z?r.dx:r.dy,r,!o.length),a.length=a.area=0);e.forEach(d)}}function h(t,e){for(var n,r=t.area,o=0,a=1/0,u=-1,i=t.length;++u<i;)(n=t[u].area)&&(n<a&&(a=n),n>o&&(o=n));return e*=e,(r*=r)?Math.max(e*o*l/r,r/(e*a*l)):1/0}function p(t,e,r,o){var a,u=-1,i=t.length,s=r.x,l=r.y,c=e?n(t.area/e):0;if(e==r.dx){for((o||c>r.dy)&&(c=r.dy);++u<i;)(a=t[u]).x=s,a.y=l,a.dy=c,s+=a.dx=Math.min(r.x+r.dx-s,c?n(a.area/c):0);a.z=!0,a.dx+=r.x+r.dx-s,r.y+=c,r.dy-=c}else{for((o||c>r.dx)&&(c=r.dx);++u<i;)(a=t[u]).x=s,a.y=l,a.dx=c,l+=a.dy=Math.min(r.y+r.dy-l,c?n(a.area/c):0);a.z=!1,a.dy+=r.y+r.dy-l,r.x+=c,r.dx-=c}}function m(n){var o=t||e(n),a=o[0];return a.x=a.y=0,a.value?(a.dx=r[0],a.dy=r[1]):a.dx=a.dy=0,t&&e.revalue(a),c([a],a.dx*a.dy/a.value),(t?d:f)(a),i&&(t=o),o}return m.size=function(t){return arguments.length?(r=t,m):r},m.padding=function(t){if(!arguments.length)return o;function e(e){return lu(e,t)}var n;return u=null==(o=t)?su:"function"==(n=typeof t)?function(e){var n=t.call(m,e,e.depth);return null==n?su(e):lu(e,"number"==typeof n?[n,n,n,n]:n)}:"number"===n?(t=[t,t,t,t],e):e,m},m.round=function(t){return arguments.length?(n=t?Math.round:Number,m):n!=Number},m.sticky=function(e){return arguments.length?(i=e,t=null,m):i},m.ratio=function(t){return arguments.length?(l=t,m):l},m.mode=function(t){return arguments.length?(s=t+"",m):s},Sa(m,e)},a.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,r,o;do{o=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!o||o>1);return t+e*n*Math.sqrt(-2*Math.log(o)/o)}},logNormal:function(){var t=a.random.normal.apply(a,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=a.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},a.scale={};var mu={floor:O,ceil:O};function gu(t,e,n,r){var o=[],u=[],i=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++i<=s;)o.push(n(t[i-1],t[i])),u.push(r(e[i-1],e[i]));return function(e){var n=a.bisect(t,e,1,s)-1;return u[n](o[n](e))}}function vu(t,e){return a.rebind(t,e,"range","rangeRound","interpolate","clamp")}function yu(t,e){return hu(t,pu(_u(t,e)[2])),hu(t,pu(_u(t,e)[2])),t}function _u(t,e){null==e&&(e=10);var n=cu(t),r=n[1]-n[0],o=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),a=e/r*o;return a<=.15?o*=10:a<=.35?o*=5:a<=.75&&(o*=2),n[0]=Math.ceil(n[0]/o)*o,n[1]=Math.floor(n[1]/o)*o+.5*o,n[2]=o,n}function ju(t,e){return a.range.apply(a,_u(t,e))}function xu(t,e,n){var r=_u(t,e);if(n){var o=Le.exec(n);if(o.shift(),"s"===o[8]){var u=a.formatPrefix(Math.max(b(r[0]),b(r[1])));return o[7]||(o[7]="."+Mu(u.scale(r[2]))),o[8]="f",n=a.format(o.join("")),function(t){return n(u.scale(t))+u.symbol}}o[7]||(o[7]="."+function(t,e){var n=Mu(e[2]);return t in bu?Math.abs(n-Mu(Math.max(b(e[0]),b(e[1]))))+ +("e"!==t):n-2*("%"===t)}(o[8],r)),n=o.join("")}else n=",."+Mu(r[2])+"f";return a.format(n)}a.scale.linear=function(){return function t(e,n,r,o){var a,u;function i(){var t=Math.min(e.length,n.length)>2?gu:du,i=o?ya:va;return a=t(e,n,i,r),u=t(n,e,i,Bo),s}function s(t){return a(t)}s.invert=function(t){return u(t)};s.domain=function(t){return arguments.length?(e=t.map(Number),i()):e};s.range=function(t){return arguments.length?(n=t,i()):n};s.rangeRound=function(t){return s.range(t).interpolate(ca)};s.clamp=function(t){return arguments.length?(o=t,i()):o};s.interpolate=function(t){return arguments.length?(r=t,i()):r};s.ticks=function(t){return ju(e,t)};s.tickFormat=function(t,n){return xu(e,t,n)};s.nice=function(t){return yu(e,t),i()};s.copy=function(){return t(e,n,r,o)};return i()}([0,1],[0,1],Bo,!1)};var bu={s:1,g:1,p:1,r:1,e:1};function Mu(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}a.scale.log=function(){return function t(e,n,r,o){function u(t){return(r?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(n)}function i(t){return r?Math.pow(n,t):-Math.pow(n,-t)}function s(t){return e(u(t))}s.invert=function(t){return i(e.invert(t))};s.domain=function(t){return arguments.length?(r=t[0]>=0,e.domain((o=t.map(Number)).map(u)),s):o};s.base=function(t){return arguments.length?(n=+t,e.domain(o.map(u)),s):n};s.nice=function(){var t=hu(o.map(u),r?Math:Cu);return e.domain(t),o=t.map(i),s};s.ticks=function(){var t=cu(o),e=[],a=t[0],s=t[1],l=Math.floor(u(a)),c=Math.ceil(u(s)),f=n%1?2:n;if(isFinite(c-l)){if(r){for(;l<c;l++)for(var d=1;d<f;d++)e.push(i(l)*d);e.push(i(l))}else for(e.push(i(l));l++<c;)for(var d=f-1;d>0;d--)e.push(i(l)*d);for(l=0;e[l]<a;l++);for(c=e.length;e[c-1]>s;c--);e=e.slice(l,c)}return e};s.tickFormat=function(t,e){if(!arguments.length)return wu;arguments.length<2?e=wu:"function"!=typeof e&&(e=a.format(e));var r=Math.max(1,n*t/s.ticks().length);return function(t){var o=t/i(Math.round(u(t)));return o*n<n-.5&&(o*=n),o<=r?e(t):""}};s.copy=function(){return t(e.copy(),n,r,o)};return vu(s,e)}(a.scale.linear().domain([0,1]),10,!0,[1,10])};var wu=a.format(".0e"),Cu={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function Eu(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}a.scale.pow=function(){return function t(e,n,r){var o=Eu(n),a=Eu(1/n);function u(t){return e(o(t))}u.invert=function(t){return a(e.invert(t))};u.domain=function(t){return arguments.length?(e.domain((r=t.map(Number)).map(o)),u):r};u.ticks=function(t){return ju(r,t)};u.tickFormat=function(t,e){return xu(r,t,e)};u.nice=function(t){return u.domain(yu(r,t))};u.exponent=function(t){return arguments.length?(o=Eu(n=t),a=Eu(1/n),e.domain(r.map(o)),u):n};u.copy=function(){return t(e.copy(),n,r)};return vu(u,e)}(a.scale.linear(),1,[0,1])},a.scale.sqrt=function(){return a.scale.pow().exponent(.5)},a.scale.ordinal=function(){return function t(e,n){var r,o,u;function i(t){return o[((r.get(t)||("range"===n.t?r.set(t,e.push(t)):NaN))-1)%o.length]}function s(t,n){return a.range(e.length).map(function(e){return t+n*e})}i.domain=function(t){if(!arguments.length)return e;e=[],r=new w;for(var o,a=-1,u=t.length;++a<u;)r.has(o=t[a])||r.set(o,e.push(o));return i[n.t].apply(i,n.a)};i.range=function(t){return arguments.length?(o=t,u=0,n={t:"range",a:arguments},i):o};i.rangePoints=function(t,r){arguments.length<2&&(r=0);var a=t[0],l=t[1],c=e.length<2?(a=(a+l)/2,0):(l-a)/(e.length-1+r);return o=s(a+c*r/2,c),u=0,n={t:"rangePoints",a:arguments},i};i.rangeRoundPoints=function(t,r){arguments.length<2&&(r=0);var a=t[0],l=t[1],c=e.length<2?(a=l=Math.round((a+l)/2),0):(l-a)/(e.length-1+r)|0;return o=s(a+Math.round(c*r/2+(l-a-(e.length-1+r)*c)/2),c),u=0,n={t:"rangeRoundPoints",a:arguments},i};i.rangeBands=function(t,r,a){arguments.length<2&&(r=0),arguments.length<3&&(a=r);var l=t[1]<t[0],c=t[l-0],f=t[1-l],d=(f-c)/(e.length-r+2*a);return o=s(c+d*a,d),l&&o.reverse(),u=d*(1-r),n={t:"rangeBands",a:arguments},i};i.rangeRoundBands=function(t,r,a){arguments.length<2&&(r=0),arguments.length<3&&(a=r);var l=t[1]<t[0],c=t[l-0],f=t[1-l],d=Math.floor((f-c)/(e.length-r+2*a));return o=s(c+Math.round((f-c-(e.length-r)*d)/2),d),l&&o.reverse(),u=Math.round(d*(1-r)),n={t:"rangeRoundBands",a:arguments},i};i.rangeBand=function(){return u};i.rangeExtent=function(){return cu(n.a[0])};i.copy=function(){return t(e,n)};return i.domain(e)}([],{t:"range",a:[[]]})},a.scale.category10=function(){return a.scale.ordinal().range(ku)},a.scale.category20=function(){return a.scale.ordinal().range(Su)},a.scale.category20b=function(){return a.scale.ordinal().range(Tu)},a.scale.category20c=function(){return a.scale.ordinal().range(Pu)};var ku=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(fe),Su=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(fe),Tu=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(fe),Pu=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(fe);function Au(){return 0}a.scale.quantile=function(){return function t(e,n){var r;function o(){var t=0,o=n.length;for(r=[];++t<o;)r[t-1]=a.quantile(e,t/o);return u}function u(t){if(!isNaN(t=+t))return n[a.bisect(r,t)]}u.domain=function(t){return arguments.length?(e=t.map(v).filter(y).sort(g),o()):e};u.range=function(t){return arguments.length?(n=t,o()):n};u.quantiles=function(){return r};u.invertExtent=function(t){return(t=n.indexOf(t))<0?[NaN,NaN]:[t>0?r[t-1]:e[0],t<r.length?r[t]:e[e.length-1]]};u.copy=function(){return t(e,n)};return o()}([],[])},a.scale.quantize=function(){return function t(e,n,r){var o,a;function u(t){return r[Math.max(0,Math.min(a,Math.floor(o*(t-e))))]}function i(){return o=r.length/(n-e),a=r.length-1,u}u.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],i()):[e,n]};u.range=function(t){return arguments.length?(r=t,i()):r};u.invertExtent=function(t){return[t=(t=r.indexOf(t))<0?NaN:t/o+e,t+1/o]};u.copy=function(){return t(e,n,r)};return i()}(0,1,[0,1])},a.scale.threshold=function(){return function t(e,n){function r(t){if(t<=t)return n[a.bisect(e,t)]}r.domain=function(t){return arguments.length?(e=t,r):e};r.range=function(t){return arguments.length?(n=t,r):n};r.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]};r.copy=function(){return t(e,n)};return r}([.5],[0,1])},a.scale.identity=function(){return function t(e){function n(t){return+t}n.invert=n;n.domain=n.range=function(t){return arguments.length?(e=t.map(n),n):e};n.ticks=function(t){return ju(e,t)};n.tickFormat=function(t,n){return xu(e,t,n)};n.copy=function(){return t(e)};return n}([0,1])},a.svg={},a.svg.arc=function(){var t=Nu,e=Lu,n=Au,r=Du,o=Ou,a=Ru,u=zu;function i(){var i=Math.max(0,+t.apply(this,arguments)),l=Math.max(0,+e.apply(this,arguments)),c=o.apply(this,arguments)-Dt,f=a.apply(this,arguments)-Dt,d=Math.abs(f-c),h=c>f?0:1;if(l<i&&(p=l,l=i,i=p),d>=At)return s(l,h)+(i?s(i,1-h):"")+"Z";var p,m,g,v,y,_,j,x,b,M,w,C,E=0,k=0,S=[];if((v=(+u.apply(this,arguments)||0)/2)&&(g=r===Du?Math.sqrt(i*i+l*l):+r.apply(this,arguments),h||(k*=-1),l&&(k=Ft(g/l*Math.sin(v))),i&&(E=Ft(g/i*Math.sin(v)))),l){y=l*Math.cos(c+k),_=l*Math.sin(c+k),j=l*Math.cos(f-k),x=l*Math.sin(f-k);var T=Math.abs(f-c-2*k)<=Tt?0:1;if(k&&Fu(y,_,j,x)===h^T){var P=(c+f)/2;y=l*Math.cos(P),_=l*Math.sin(P),j=x=null}}else y=_=0;if(i){b=i*Math.cos(f-E),M=i*Math.sin(f-E),w=i*Math.cos(c+E),C=i*Math.sin(c+E);var A=Math.abs(c-f+2*E)<=Tt?0:1;if(E&&Fu(b,M,w,C)===1-h^A){var D=(c+f)/2;b=i*Math.cos(D),M=i*Math.sin(D),w=C=null}}else b=M=0;if(d>kt&&(p=Math.min(Math.abs(l-i)/2,+n.apply(this,arguments)))>.001){m=i<l^h?0:1;var N=p,L=p;if(d<Tt){var O=null==w?[b,M]:null==j?[y,_]:lo([y,_],[w,C],[j,x],[b,M]),R=y-O[0],z=_-O[1],F=j-O[0],U=x-O[1],I=1/Math.sin(Math.acos((R*F+z*U)/(Math.sqrt(R*R+z*z)*Math.sqrt(F*F+U*U)))/2),q=Math.sqrt(O[0]*O[0]+O[1]*O[1]);L=Math.min(p,(i-q)/(I-1)),N=Math.min(p,(l-q)/(I+1))}if(null!=j){var V=Uu(null==w?[b,M]:[w,C],[y,_],l,N,h),H=Uu([j,x],[b,M],l,N,h);p===N?S.push("M",V[0],"A",N,",",N," 0 0,",m," ",V[1],"A",l,",",l," 0 ",1-h^Fu(V[1][0],V[1][1],H[1][0],H[1][1]),",",h," ",H[1],"A",N,",",N," 0 0,",m," ",H[0]):S.push("M",V[0],"A",N,",",N," 0 1,",m," ",H[0])}else S.push("M",y,",",_);if(null!=w){var Y=Uu([y,_],[w,C],i,-L,h),J=Uu([b,M],null==j?[y,_]:[j,x],i,-L,h);p===L?S.push("L",J[0],"A",L,",",L," 0 0,",m," ",J[1],"A",i,",",i," 0 ",h^Fu(J[1][0],J[1][1],Y[1][0],Y[1][1]),",",1-h," ",Y[1],"A",L,",",L," 0 0,",m," ",Y[0]):S.push("L",J[0],"A",L,",",L," 0 0,",m," ",Y[0])}else S.push("L",b,",",M)}else S.push("M",y,",",_),null!=j&&S.push("A",l,",",l," 0 ",T,",",h," ",j,",",x),S.push("L",b,",",M),null!=w&&S.push("A",i,",",i," 0 ",A,",",1-h," ",w,",",C);return S.push("Z"),S.join("")}function s(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}return i.innerRadius=function(e){return arguments.length?(t=je(e),i):t},i.outerRadius=function(t){return arguments.length?(e=je(t),i):e},i.cornerRadius=function(t){return arguments.length?(n=je(t),i):n},i.padRadius=function(t){return arguments.length?(r=t==Du?Du:je(t),i):r},i.startAngle=function(t){return arguments.length?(o=je(t),i):o},i.endAngle=function(t){return arguments.length?(a=je(t),i):a},i.padAngle=function(t){return arguments.length?(u=je(t),i):u},i.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+o.apply(this,arguments)+ +a.apply(this,arguments))/2-Dt;return[Math.cos(r)*n,Math.sin(r)*n]},i};var Du="auto";function Nu(t){return t.innerRadius}function Lu(t){return t.outerRadius}function Ou(t){return t.startAngle}function Ru(t){return t.endAngle}function zu(t){return t&&t.padAngle}function Fu(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function Uu(t,e,n,r,o){var a=t[0]-e[0],u=t[1]-e[1],i=(o?r:-r)/Math.sqrt(a*a+u*u),s=i*u,l=-i*a,c=t[0]+s,f=t[1]+l,d=e[0]+s,h=e[1]+l,p=(c+d)/2,m=(f+h)/2,g=d-c,v=h-f,y=g*g+v*v,_=n-r,j=c*h-d*f,x=(v<0?-1:1)*Math.sqrt(Math.max(0,_*_*y-j*j)),b=(j*v-g*x)/y,M=(-j*g-v*x)/y,w=(j*v+g*x)/y,C=(-j*g+v*x)/y,E=b-p,k=M-m,S=w-p,T=C-m;return E*E+k*k>S*S+T*T&&(b=w,M=C),[[b-s,M-l],[b*n/_,M*n/_]]}function Iu(t){var e=ro,n=oo,r=Xn,o=Vu,a=o.key,u=.7;function i(a){var i,s=[],l=[],c=-1,f=a.length,d=je(e),h=je(n);function p(){s.push("M",o(t(l),u))}for(;++c<f;)r.call(this,i=a[c],c)?l.push([+d.call(this,i,c),+h.call(this,i,c)]):l.length&&(p(),l=[]);return l.length&&p(),s.length?s.join(""):null}return i.x=function(t){return arguments.length?(e=t,i):e},i.y=function(t){return arguments.length?(n=t,i):n},i.defined=function(t){return arguments.length?(r=t,i):r},i.interpolate=function(t){return arguments.length?(a="function"==typeof t?o=t:(o=qu.get(t)||Vu).key,i):a},i.tension=function(t){return arguments.length?(u=t,i):u},i}a.svg.line=function(){return Iu(O)};var qu=a.map({linear:Vu,"linear-closed":Hu,step:function(t){var e=0,n=t.length,r=t[0],o=[r[0],",",r[1]];for(;++e<n;)o.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);n>1&&o.push("H",r[0]);return o.join("")},"step-before":Yu,"step-after":Ju,basis:Gu,"basis-open":function(t){if(t.length<4)return Vu(t);var e,n=[],r=-1,o=t.length,a=[0],u=[0];for(;++r<3;)e=t[r],a.push(e[0]),u.push(e[1]);n.push(Zu(Ku,a)+","+Zu(Ku,u)),--r;for(;++r<o;)e=t[r],a.shift(),a.push(e[0]),u.shift(),u.push(e[1]),Qu(n,a,u);return n.join("")},"basis-closed":function(t){var e,n,r=-1,o=t.length,a=o+4,u=[],i=[];for(;++r<4;)n=t[r%o],u.push(n[0]),i.push(n[1]);e=[Zu(Ku,u),",",Zu(Ku,i)],--r;for(;++r<a;)n=t[r%o],u.shift(),u.push(n[0]),i.shift(),i.push(n[1]),Qu(e,u,i);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var r,o,a=t[0][0],u=t[0][1],i=t[n][0]-a,s=t[n][1]-u,l=-1;++l<=n;)r=t[l],o=l/n,r[0]=e*r[0]+(1-e)*(a+o*i),r[1]=e*r[1]+(1-e)*(u+o*s);return Gu(t)},cardinal:function(t,e){return t.length<3?Vu(t):t[0]+$u(t,Wu(t,e))},"cardinal-open":function(t,e){return t.length<4?Vu(t):t[1]+$u(t.slice(1,-1),Wu(t,e))},"cardinal-closed":function(t,e){return t.length<3?Hu(t):t[0]+$u((t.push(t[0]),t),Wu([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?Vu(t):t[0]+$u(t,function(t){var e,n,r,o,a=[],u=function(t){var e=0,n=t.length-1,r=[],o=t[0],a=t[1],u=r[0]=ti(o,a);for(;++e<n;)r[e]=(u+(u=ti(o=a,a=t[e+1])))/2;return r[e]=u,r}(t),i=-1,s=t.length-1;for(;++i<s;)e=ti(t[i],t[i+1]),b(e)<kt?u[i]=u[i+1]=0:(n=u[i]/e,r=u[i+1]/e,(o=n*n+r*r)>9&&(o=3*e/Math.sqrt(o),u[i]=o*n,u[i+1]=o*r));i=-1;for(;++i<=s;)o=(t[Math.min(s,i+1)][0]-t[Math.max(0,i-1)][0])/(6*(1+u[i]*u[i])),a.push([o||0,u[i]*o||0]);return a}(t))}});function Vu(t){return t.length>1?t.join("L"):t+"Z"}function Hu(t){return t.join("L")+"Z"}function Yu(t){for(var e=0,n=t.length,r=t[0],o=[r[0],",",r[1]];++e<n;)o.push("V",(r=t[e])[1],"H",r[0]);return o.join("")}function Ju(t){for(var e=0,n=t.length,r=t[0],o=[r[0],",",r[1]];++e<n;)o.push("H",(r=t[e])[0],"V",r[1]);return o.join("")}function $u(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Vu(t);var n=t.length!=e.length,r="",o=t[0],a=t[1],u=e[0],i=u,s=1;if(n&&(r+="Q"+(a[0]-2*u[0]/3)+","+(a[1]-2*u[1]/3)+","+a[0]+","+a[1],o=t[1],s=2),e.length>1){i=e[1],a=t[s],s++,r+="C"+(o[0]+u[0])+","+(o[1]+u[1])+","+(a[0]-i[0])+","+(a[1]-i[1])+","+a[0]+","+a[1];for(var l=2;l<e.length;l++,s++)a=t[s],i=e[l],r+="S"+(a[0]-i[0])+","+(a[1]-i[1])+","+a[0]+","+a[1]}if(n){var c=t[s];r+="Q"+(a[0]+2*i[0]/3)+","+(a[1]+2*i[1]/3)+","+c[0]+","+c[1]}return r}function Wu(t,e){for(var n,r=[],o=(1-e)/2,a=t[0],u=t[1],i=1,s=t.length;++i<s;)n=a,a=u,u=t[i],r.push([o*(u[0]-n[0]),o*(u[1]-n[1])]);return r}function Gu(t){if(t.length<3)return Vu(t);var e=1,n=t.length,r=t[0],o=r[0],a=r[1],u=[o,o,o,(r=t[1])[0]],i=[a,a,a,r[1]],s=[o,",",a,"L",Zu(Ku,u),",",Zu(Ku,i)];for(t.push(t[n-1]);++e<=n;)r=t[e],u.shift(),u.push(r[0]),i.shift(),i.push(r[1]),Qu(s,u,i);return t.pop(),s.push("L",r),s.join("")}function Zu(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}qu.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Bu=[0,2/3,1/3,0],Xu=[0,1/3,2/3,0],Ku=[0,1/6,2/3,1/6];function Qu(t,e,n){t.push("C",Zu(Bu,e),",",Zu(Bu,n),",",Zu(Xu,e),",",Zu(Xu,n),",",Zu(Ku,e),",",Zu(Ku,n))}function ti(t,e){return(e[1]-t[1])/(e[0]-t[0])}function ei(t){for(var e,n,r,o=-1,a=t.length;++o<a;)n=(e=t[o])[0],r=e[1]-Dt,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function ni(t){var e=ro,n=ro,r=0,o=oo,a=Xn,u=Vu,i=u.key,s=u,l="L",c=.7;function f(i){var f,d,h,p=[],m=[],g=[],v=-1,y=i.length,_=je(e),j=je(r),x=e===n?function(){return d}:je(n),b=r===o?function(){return h}:je(o);function M(){p.push("M",u(t(g),c),l,s(t(m.reverse()),c),"Z")}for(;++v<y;)a.call(this,f=i[v],v)?(m.push([d=+_.call(this,f,v),h=+j.call(this,f,v)]),g.push([+x.call(this,f,v),+b.call(this,f,v)])):m.length&&(M(),m=[],g=[]);return m.length&&M(),p.length?p.join(""):null}return f.x=function(t){return arguments.length?(e=n=t,f):n},f.x0=function(t){return arguments.length?(e=t,f):e},f.x1=function(t){return arguments.length?(n=t,f):n},f.y=function(t){return arguments.length?(r=o=t,f):o},f.y0=function(t){return arguments.length?(r=t,f):r},f.y1=function(t){return arguments.length?(o=t,f):o},f.defined=function(t){return arguments.length?(a=t,f):a},f.interpolate=function(t){return arguments.length?(i="function"==typeof t?u=t:(u=qu.get(t)||Vu).key,s=u.reverse||u,l=u.closed?"M":"L",f):i},f.tension=function(t){return arguments.length?(c=t,f):c},f}function ri(t){return t.radius}function oi(t){return[t.x,t.y]}function ai(){return 64}function ui(){return"circle"}function ii(t){var e=Math.sqrt(t/Tt);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}a.svg.line.radial=function(){var t=Iu(ei);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Yu.reverse=Ju,Ju.reverse=Yu,a.svg.area=function(){return ni(O)},a.svg.area.radial=function(){var t=ni(ei);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},a.svg.chord=function(){var t=Hr,e=Yr,n=ri,r=Ou,o=Ru;function a(n,r){var o,a,l=u(this,t,n,r),c=u(this,e,n,r);return"M"+l.p0+i(l.r,l.p1,l.a1-l.a0)+(a=c,(o=l).a0==a.a0&&o.a1==a.a1?s(l.r,l.p1,l.r,l.p0):s(l.r,l.p1,c.r,c.p0)+i(c.r,c.p1,c.a1-c.a0)+s(c.r,c.p1,l.r,l.p0))+"Z"}function u(t,e,a,u){var i=e.call(t,a,u),s=n.call(t,i,u),l=r.call(t,i,u)-Dt,c=o.call(t,i,u)-Dt;return{r:s,a0:l,a1:c,p0:[s*Math.cos(l),s*Math.sin(l)],p1:[s*Math.cos(c),s*Math.sin(c)]}}function i(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Tt)+",1 "+e}function s(t,e,n,r){return"Q 0,0 "+r}return a.radius=function(t){return arguments.length?(n=je(t),a):n},a.source=function(e){return arguments.length?(t=je(e),a):t},a.target=function(t){return arguments.length?(e=je(t),a):e},a.startAngle=function(t){return arguments.length?(r=je(t),a):r},a.endAngle=function(t){return arguments.length?(o=je(t),a):o},a},a.svg.diagonal=function(){var t=Hr,e=Yr,n=oi;function r(r,o){var a=t.call(this,r,o),u=e.call(this,r,o),i=(a.y+u.y)/2,s=[a,{x:a.x,y:i},{x:u.x,y:i},u];return"M"+(s=s.map(n))[0]+"C"+s[1]+" "+s[2]+" "+s[3]}return r.source=function(e){return arguments.length?(t=je(e),r):t},r.target=function(t){return arguments.length?(e=je(t),r):e},r.projection=function(t){return arguments.length?(n=t,r):n},r},a.svg.diagonal.radial=function(){var t=a.svg.diagonal(),e=oi,n=t.projection;return t.projection=function(t){return arguments.length?n(function(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-Dt;return[n*Math.cos(r),n*Math.sin(r)]}}(e=t)):e},t},a.svg.symbol=function(){var t=ui,e=ai;function n(n,r){return(si.get(t.call(this,n,r))||ii)(e.call(this,n,r))}return n.type=function(e){return arguments.length?(t=je(e),n):t},n.size=function(t){return arguments.length?(e=je(t),n):e},n};var si=a.map({circle:ii,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*ci)),n=e*ci;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/li),n=e*li/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/li),n=e*li/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});a.svg.symbolTypes=si.keys();var li=Math.sqrt(3),ci=Math.tan(30*Nt);X.transition=function(t){for(var e,n,r=pi||++vi,o=ji(t),a=[],u=mi||{time:Date.now(),ease:aa,delay:0,duration:250},i=-1,s=this.length;++i<s;){a.push(e=[]);for(var l=this[i],c=-1,f=l.length;++c<f;)(n=l[c])&&xi(n,c,o,r,u),e.push(n)}return hi(a,o,r)},X.interrupt=function(t){return this.each(null==t?fi:di(ji(t)))};var fi=di(ji());function di(t){return function(){var e,n,r;(e=this[t])&&(r=e[n=e.active])&&(r.timer.c=null,r.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function hi(t,e,n){return $(t,gi),t.namespace=e,t.id=n,t}var pi,mi,gi=[],vi=0;function yi(t,e,n,r){var o=t.id,a=t.namespace;return pt(t,"function"==typeof n?function(t,u,i){t[a][o].tween.set(e,r(n.call(t,t.__data__,u,i)))}:(n=r(n),function(t){t[a][o].tween.set(e,n)}))}function _i(t){return null==t&&(t=""),function(){this.textContent=t}}function ji(t){return null==t?"__transition__":"__transition_"+t+"__"}function xi(t,e,n,r,o){var a,u,i,s,l,c=t[n]||(t[n]={active:0,count:0}),f=c[r];function d(n){var o=c.active,d=c[o];for(var p in d&&(d.timer.c=null,d.timer.t=NaN,--c.count,delete c[o],d.event&&d.event.interrupt.call(t,t.__data__,d.index)),c)if(+p<r){var m=c[p];m.timer.c=null,m.timer.t=NaN,--c.count,delete c[p]}u.c=h,Se(function(){return u.c&&h(n||1)&&(u.c=null,u.t=NaN),1},0,a),c.active=r,f.event&&f.event.start.call(t,t.__data__,e),l=[],f.tween.forEach(function(n,r){(r=r.call(t,t.__data__,e))&&l.push(r)}),s=f.ease,i=f.duration}function h(o){for(var a=o/i,u=s(a),d=l.length;d>0;)l[--d].call(t,u);if(a>=1)return f.event&&f.event.end.call(t,t.__data__,e),--c.count?delete c[r]:delete t[n],1}f||(a=o.time,u=Se(function(t){var e=f.delay;if(u.t=e+a,e<=t)return d(t-e);u.c=d},0,a),f=c[r]={tween:new w,time:a,timer:u,delay:o.delay,duration:o.duration,ease:o.ease,index:e},o=null,++c.count)}gi.call=X.call,gi.empty=X.empty,gi.node=X.node,gi.size=X.size,a.transition=function(t,e){return t&&t.transition?pi?t.transition(e):t:a.selection().transition(t)},a.transition.prototype=gi,gi.select=function(t){var e,n,r,o=this.id,a=this.namespace,u=[];t=K(t);for(var i=-1,s=this.length;++i<s;){u.push(e=[]);for(var l=this[i],c=-1,f=l.length;++c<f;)(r=l[c])&&(n=t.call(r,r.__data__,c,i))?("__data__"in r&&(n.__data__=r.__data__),xi(n,c,a,o,r[a][o]),e.push(n)):e.push(null)}return hi(u,a,o)},gi.selectAll=function(t){var e,n,r,o,a,u=this.id,i=this.namespace,s=[];t=Q(t);for(var l=-1,c=this.length;++l<c;)for(var f=this[l],d=-1,h=f.length;++d<h;)if(r=f[d]){a=r[i][u],n=t.call(r,r.__data__,d,l),s.push(e=[]);for(var p=-1,m=n.length;++p<m;)(o=n[p])&&xi(o,p,i,u,a),e.push(o)}return hi(s,i,u)},gi.filter=function(t){var e,n,r=[];"function"!=typeof t&&(t=ht(t));for(var o=0,a=this.length;o<a;o++){r.push(e=[]);for(var u,i=0,s=(u=this[o]).length;i<s;i++)(n=u[i])&&t.call(n,n.__data__,i,o)&&e.push(n)}return hi(r,this.namespace,this.id)},gi.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):pt(this,null==e?function(e){e[r][n].tween.remove(t)}:function(o){o[r][n].tween.set(t,e)})},gi.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var n="transform"==t?ga:Bo,r=a.ns.qualify(t);function o(){this.removeAttribute(r)}function u(){this.removeAttributeNS(r.space,r.local)}return yi(this,"attr."+t,e,r.local?function(t){return null==t?u:(t+="",function(){var e,o=this.getAttributeNS(r.space,r.local);return o!==t&&(e=n(o,t),function(t){this.setAttributeNS(r.space,r.local,e(t))})})}:function(t){return null==t?o:(t+="",function(){var e,o=this.getAttribute(r);return o!==t&&(e=n(o,t),function(t){this.setAttribute(r,e(t))})})})},gi.attrTween=function(t,e){var n=a.ns.qualify(t);return this.tween("attr."+t,n.local?function(t,r){var o=e.call(this,t,r,this.getAttributeNS(n.space,n.local));return o&&function(t){this.setAttributeNS(n.space,n.local,o(t))}}:function(t,r){var o=e.call(this,t,r,this.getAttribute(n));return o&&function(t){this.setAttribute(n,o(t))}})},gi.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.style(n,t[n],e);return this}n=""}function o(){this.style.removeProperty(t)}return yi(this,"style."+t,e,function(e){return null==e?o:(e+="",function(){var r,o=c(this).getComputedStyle(this,null).getPropertyValue(t);return o!==e&&(r=Bo(o,e),function(e){this.style.setProperty(t,r(e),n)})})})},gi.styleTween=function(t,e,n){return arguments.length<3&&(n=""),this.tween("style."+t,function(r,o){var a=e.call(this,r,o,c(this).getComputedStyle(this,null).getPropertyValue(t));return a&&function(e){this.style.setProperty(t,a(e),n)}})},gi.text=function(t){return yi(this,"text",t,_i)},gi.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},gi.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=a.ease.apply(a,arguments)),pt(this,function(r){r[n][e].ease=t}))},gi.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:pt(this,"function"==typeof t?function(r,o,a){r[n][e].delay=+t.call(r,r.__data__,o,a)}:(t=+t,function(r){r[n][e].delay=t}))},gi.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:pt(this,"function"==typeof t?function(r,o,a){r[n][e].duration=Math.max(1,t.call(r,r.__data__,o,a))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},gi.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var o=mi,u=pi;try{pi=n,pt(this,function(e,o,a){mi=e[r][n],t.call(e,e.__data__,o,a)})}finally{mi=o,pi=u}}else pt(this,function(o){var u=o[r][n];(u.event||(u.event=a.dispatch("start","end","interrupt"))).on(t,e)});return this},gi.transition=function(){for(var t,e,n,r=this.id,o=++vi,a=this.namespace,u=[],i=0,s=this.length;i<s;i++){u.push(t=[]);for(var l,c=0,f=(l=this[i]).length;c<f;c++)(e=l[c])&&xi(e,c,a,o,{time:(n=e[a][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return hi(u,a,o)},a.svg.axis=function(){var t,e=a.scale.linear(),n=bi,r=6,o=6,u=3,s=[10],l=null;function c(i){i.each(function(){var i,c=a.select(this),f=this.__chart__||e,d=this.__chart__=e.copy(),h=null==l?d.ticks?d.ticks.apply(d,s):d.domain():l,p=null==t?d.tickFormat?d.tickFormat.apply(d,s):O:t,m=c.selectAll(".tick").data(h,d),g=m.enter().insert("g",".domain").attr("class","tick").style("opacity",kt),v=a.transition(m.exit()).style("opacity",kt).remove(),y=a.transition(m.order()).style("opacity",1),_=Math.max(r,0)+u,j=fu(d),x=c.selectAll(".domain").data([0]),b=(x.enter().append("path").attr("class","domain"),a.transition(x));g.append("line"),g.append("text");var M,w,C,E,k=g.select("line"),S=y.select("line"),T=m.select("text").text(p),P=g.select("text"),A=y.select("text"),D="top"===n||"left"===n?-1:1;if("bottom"===n||"top"===n?(i=wi,M="x",C="y",w="x2",E="y2",T.attr("dy",D<0?"0em":".71em").style("text-anchor","middle"),b.attr("d","M"+j[0]+","+D*o+"V0H"+j[1]+"V"+D*o)):(i=Ci,M="y",C="x",w="y2",E="x2",T.attr("dy",".32em").style("text-anchor",D<0?"end":"start"),b.attr("d","M"+D*o+","+j[0]+"H0V"+j[1]+"H"+D*o)),k.attr(E,D*r),P.attr(C,D*_),S.attr(w,0).attr(E,D*r),A.attr(M,0).attr(C,D*_),d.rangeBand){var N=d,L=N.rangeBand()/2;f=d=function(t){return N(t)+L}}else f.rangeBand?f=d:v.call(i,d,f);g.call(i,f,d),y.call(i,d,d)})}return c.scale=function(t){return arguments.length?(e=t,c):e},c.orient=function(t){return arguments.length?(n=t in Mi?t+"":bi,c):n},c.ticks=function(){return arguments.length?(s=i(arguments),c):s},c.tickValues=function(t){return arguments.length?(l=t,c):l},c.tickFormat=function(e){return arguments.length?(t=e,c):t},c.tickSize=function(t){var e=arguments.length;return e?(r=+t,o=+arguments[e-1],c):r},c.innerTickSize=function(t){return arguments.length?(r=+t,c):r},c.outerTickSize=function(t){return arguments.length?(o=+t,c):o},c.tickPadding=function(t){return arguments.length?(u=+t,c):u},c.tickSubdivide=function(){return arguments.length&&c},c};var bi="bottom",Mi={top:1,right:1,bottom:1,left:1};function wi(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"})}function Ci(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"})}a.svg.brush=function(){var t,e,n=Y(d,"brushstart","brush","brushend"),r=null,o=null,u=[0,0],i=[0,0],s=!0,l=!0,f=ki[0];function d(t){t.each(function(){var t=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",g).on("touchstart.brush",g),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(f,O);n.exit().remove(),n.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Ei[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",d.empty()?"none":null);var u,i=a.transition(t),s=a.transition(e);r&&(u=fu(r),s.attr("x",u[0]).attr("width",u[1]-u[0]),p(i)),o&&(u=fu(o),s.attr("y",u[0]).attr("height",u[1]-u[0]),m(i)),h(i)})}function h(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+u[+/e$/.test(t)]+","+i[+/^s/.test(t)]+")"})}function p(t){t.select(".extent").attr("x",u[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",u[1]-u[0])}function m(t){t.select(".extent").attr("y",i[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",i[1]-i[0])}function g(){var f,g,v=this,y=a.select(a.event.target),_=n.of(v,arguments),j=a.select(v),x=y.datum(),b=!/^(n|s)$/.test(x)&&r,M=!/^(e|w)$/.test(x)&&o,w=y.classed("extent"),C=Mt(v),E=a.mouse(v),k=a.select(c(v)).on("keydown.brush",function(){32==a.event.keyCode&&(w||(f=null,E[0]-=u[1],E[1]-=i[1],w=2),V())}).on("keyup.brush",function(){32==a.event.keyCode&&2==w&&(E[0]+=u[1],E[1]+=i[1],w=0,V())});if(a.event.changedTouches?k.on("touchmove.brush",P).on("touchend.brush",D):k.on("mousemove.brush",P).on("mouseup.brush",D),j.interrupt().selectAll("*").interrupt(),w)E[0]=u[0]-E[0],E[1]=i[0]-E[1];else if(x){var S=+/w$/.test(x),T=+/^n/.test(x);g=[u[1-S]-E[0],i[1-T]-E[1]],E[0]=u[S],E[1]=i[T]}else a.event.altKey&&(f=E.slice());function P(){var t=a.mouse(v),e=!1;g&&(t[0]+=g[0],t[1]+=g[1]),w||(a.event.altKey?(f||(f=[(u[0]+u[1])/2,(i[0]+i[1])/2]),E[0]=u[+(t[0]<f[0])],E[1]=i[+(t[1]<f[1])]):f=null),b&&A(t,r,0)&&(p(j),e=!0),M&&A(t,o,1)&&(m(j),e=!0),e&&(h(j),_({type:"brush",mode:w?"move":"resize"}))}function A(n,r,o){var a,c,d=fu(r),h=d[0],p=d[1],m=E[o],g=o?i:u,v=g[1]-g[0];if(w&&(h-=m,p-=v+m),a=(o?l:s)?Math.max(h,Math.min(p,n[o])):n[o],w?c=(a+=m)+v:(f&&(m=Math.max(h,Math.min(p,2*f[o]-a))),m<a?(c=a,a=m):c=m),g[0]!=a||g[1]!=c)return o?e=null:t=null,g[0]=a,g[1]=c,!0}function D(){P(),j.style("pointer-events","all").selectAll(".resize").style("display",d.empty()?"none":null),a.select("body").style("cursor",null),k.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),C(),_({type:"brushend"})}j.style("pointer-events","none").selectAll(".resize").style("display",null),a.select("body").style("cursor",y.style("cursor")),_({type:"brushstart"}),P()}return d.event=function(r){r.each(function(){var r=n.of(this,arguments),o={x:u,y:i,i:t,j:e},s=this.__chart__||o;this.__chart__=o,pi?a.select(this).transition().each("start.brush",function(){t=s.i,e=s.j,u=s.x,i=s.y,r({type:"brushstart"})}).tween("brush:brush",function(){var n=Xo(u,o.x),a=Xo(i,o.y);return t=e=null,function(t){u=o.x=n(t),i=o.y=a(t),r({type:"brush",mode:"resize"})}}).each("end.brush",function(){t=o.i,e=o.j,r({type:"brush",mode:"resize"}),r({type:"brushend"})}):(r({type:"brushstart"}),r({type:"brush",mode:"resize"}),r({type:"brushend"}))})},d.x=function(t){return arguments.length?(f=ki[!(r=t)<<1|!o],d):r},d.y=function(t){return arguments.length?(f=ki[!r<<1|!(o=t)],d):o},d.clamp=function(t){return arguments.length?(r&&o?(s=!!t[0],l=!!t[1]):r?s=!!t:o&&(l=!!t),d):r&&o?[s,l]:r?s:o?l:null},d.extent=function(n){var a,s,l,c,f;return arguments.length?(r&&(a=n[0],s=n[1],o&&(a=a[0],s=s[0]),t=[a,s],r.invert&&(a=r(a),s=r(s)),s<a&&(f=a,a=s,s=f),a==u[0]&&s==u[1]||(u=[a,s])),o&&(l=n[0],c=n[1],r&&(l=l[1],c=c[1]),e=[l,c],o.invert&&(l=o(l),c=o(c)),c<l&&(f=l,l=c,c=f),l==i[0]&&c==i[1]||(i=[l,c])),d):(r&&(t?(a=t[0],s=t[1]):(a=u[0],s=u[1],r.invert&&(a=r.invert(a),s=r.invert(s)),s<a&&(f=a,a=s,s=f))),o&&(e?(l=e[0],c=e[1]):(l=i[0],c=i[1],o.invert&&(l=o.invert(l),c=o.invert(c)),c<l&&(f=l,l=c,c=f))),r&&o?[[a,l],[s,c]]:r?[a,s]:o&&[l,c])},d.clear=function(){return d.empty()||(u=[0,0],i=[0,0],t=e=null),d},d.empty=function(){return!!r&&u[0]==u[1]||!!o&&i[0]==i[1]},a.rebind(d,n,"on")};var Ei={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ki=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Si=ze.format=dn.timeFormat,Ti=Si.utc,Pi=Ti("%Y-%m-%dT%H:%M:%S.%LZ");function Ai(t){return t.toISOString()}function Di(t,e,n){function r(e){return t(e)}function o(t,n){var r=(t[1]-t[0])/n,o=a.bisect(Li,r);return o==Li.length?[e.year,_u(t.map(function(t){return t/31536e6}),n)[2]]:o?e[r/Li[o-1]<Li[o]/r?o-1:o]:[zi,_u(t,n)[2]]}return r.invert=function(e){return Ni(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(Ni)},r.nice=function(t,e){var n=r.domain(),a=cu(n),u=null==t?o(a,10):"number"==typeof t&&o(a,t);function i(n){return!isNaN(n)&&!t.range(n,Ni(+n+1),e).length}return u&&(t=u[0],e=u[1]),r.domain(hu(n,e>1?{floor:function(e){for(;i(e=t.floor(e));)e=Ni(e-1);return e},ceil:function(e){for(;i(e=t.ceil(e));)e=Ni(+e+1);return e}}:t))},r.ticks=function(t,e){var n=cu(r.domain()),a=null==t?o(n,10):"number"==typeof t?o(n,t):!t.range&&[{range:t},e];return a&&(t=a[0],e=a[1]),t.range(n[0],Ni(+n[1]+1),e<1?1:e)},r.tickFormat=function(){return n},r.copy=function(){return Di(t.copy(),e,n)},vu(r,t)}function Ni(t){return new Date(t)}Si.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ai:Pi,Ai.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Ai.toString=Pi.toString,ze.second=qe(function(t){return new Fe(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),ze.seconds=ze.second.range,ze.seconds.utc=ze.second.utc.range,ze.minute=qe(function(t){return new Fe(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),ze.minutes=ze.minute.range,ze.minutes.utc=ze.minute.utc.range,ze.hour=qe(function(t){var e=t.getTimezoneOffset()/60;return new Fe(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),ze.hours=ze.hour.range,ze.hours.utc=ze.hour.utc.range,ze.month=qe(function(t){return(t=ze.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),ze.months=ze.month.range,ze.months.utc=ze.month.utc.range;var Li=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Oi=[[ze.second,1],[ze.second,5],[ze.second,15],[ze.second,30],[ze.minute,1],[ze.minute,5],[ze.minute,15],[ze.minute,30],[ze.hour,1],[ze.hour,3],[ze.hour,6],[ze.hour,12],[ze.day,1],[ze.day,2],[ze.week,1],[ze.month,1],[ze.month,3],[ze.year,1]],Ri=Si.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Xn]]),zi={range:function(t,e,n){return a.range(Math.ceil(t/n)*n,+e,n).map(Ni)},floor:O,ceil:O};Oi.year=ze.year,ze.scale=function(){return Di(a.scale.linear(),Oi,Ri)};var Fi=Oi.map(function(t){return[t[0].utc,t[1]]}),Ui=Ti.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Xn]]);function Ii(t){return JSON.parse(t.responseText)}function qi(t){var e=s.createRange();return e.selectNode(s.body),e.createContextualFragment(t.responseText)}Fi.year=ze.year.utc,ze.scale.utc=function(){return Di(a.scale.linear(),Fi,Ui)},a.text=xe(function(t){return t.responseText}),a.json=function(t,e){return be(t,"application/json",Ii,e)},a.html=function(t,e){return be(t,"text/html",qi,e)},a.xml=xe(function(t){return t.responseXML}),this.d3=a,void 0===(o="function"==typeof(r=a)?r.call(e,n,e,t):r)||(t.exports=o)}()},"./node_modules/deep-equal/index.js":function(t,e,n){var r=Array.prototype.slice,o=n("./node_modules/deep-equal/lib/keys.js"),a=n("./node_modules/deep-equal/lib/is_arguments.js"),u=t.exports=function(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?n.strict?t===e:t==e:function(t,e,n){var l,c;if(i(t)||i(e))return!1;if(t.prototype!==e.prototype)return!1;if(a(t))return!!a(e)&&(t=r.call(t),e=r.call(e),u(t,e,n));if(s(t)){if(!s(e))return!1;if(t.length!==e.length)return!1;for(l=0;l<t.length;l++)if(t[l]!==e[l])return!1;return!0}try{var f=o(t),d=o(e)}catch(t){return!1}if(f.length!=d.length)return!1;for(f.sort(),d.sort(),l=f.length-1;l>=0;l--)if(f[l]!=d[l])return!1;for(l=f.length-1;l>=0;l--)if(c=f[l],!u(t[c],e[c],n))return!1;return typeof t==typeof e}(t,e,n))};function i(t){return null===t||void 0===t}function s(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0]))}},"./node_modules/deep-equal/lib/is_arguments.js":function(t,e){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function o(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}(e=t.exports=n?r:o).supported=r,e.unsupported=o},"./node_modules/deep-equal/lib/keys.js":function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n},"./node_modules/moment/locale sync recursive ^\\.\\/.*$":function(t,e,n){var r={"./af":"./node_modules/moment/locale/af.js","./af.js":"./node_modules/moment/locale/af.js","./ar":"./node_modules/moment/locale/ar.js","./ar-dz":"./node_modules/moment/locale/ar-dz.js","./ar-dz.js":"./node_modules/moment/locale/ar-dz.js","./ar-kw":"./node_modules/moment/locale/ar-kw.js","./ar-kw.js":"./node_modules/moment/locale/ar-kw.js","./ar-ly":"./node_modules/moment/locale/ar-ly.js","./ar-ly.js":"./node_modules/moment/locale/ar-ly.js","./ar-ma":"./node_modules/moment/locale/ar-ma.js","./ar-ma.js":"./node_modules/moment/locale/ar-ma.js","./ar-sa":"./node_modules/moment/locale/ar-sa.js","./ar-sa.js":"./node_modules/moment/locale/ar-sa.js","./ar-tn":"./node_modules/moment/locale/ar-tn.js","./ar-tn.js":"./node_modules/moment/locale/ar-tn.js","./ar.js":"./node_modules/moment/locale/ar.js","./az":"./node_modules/moment/locale/az.js","./az.js":"./node_modules/moment/locale/az.js","./be":"./node_modules/moment/locale/be.js","./be.js":"./node_modules/moment/locale/be.js","./bg":"./node_modules/moment/locale/bg.js","./bg.js":"./node_modules/moment/locale/bg.js","./bm":"./node_modules/moment/locale/bm.js","./bm.js":"./node_modules/moment/locale/bm.js","./bn":"./node_modules/moment/locale/bn.js","./bn.js":"./node_modules/moment/locale/bn.js","./bo":"./node_modules/moment/locale/bo.js","./bo.js":"./node_modules/moment/locale/bo.js","./br":"./node_modules/moment/locale/br.js","./br.js":"./node_modules/moment/locale/br.js","./bs":"./node_modules/moment/locale/bs.js","./bs.js":"./node_modules/moment/locale/bs.js","./ca":"./node_modules/moment/locale/ca.js","./ca.js":"./node_modules/moment/locale/ca.js","./cs":"./node_modules/moment/locale/cs.js","./cs.js":"./node_modules/moment/locale/cs.js","./cv":"./node_modules/moment/locale/cv.js","./cv.js":"./node_modules/moment/locale/cv.js","./cy":"./node_modules/moment/locale/cy.js","./cy.js":"./node_modules/moment/locale/cy.js","./da":"./node_modules/moment/locale/da.js","./da.js":"./node_modules/moment/locale/da.js","./de":"./node_modules/moment/locale/de.js","./de-at":"./node_modules/moment/locale/de-at.js","./de-at.js":"./node_modules/moment/locale/de-at.js","./de-ch":"./node_modules/moment/locale/de-ch.js","./de-ch.js":"./node_modules/moment/locale/de-ch.js","./de.js":"./node_modules/moment/locale/de.js","./dv":"./node_modules/moment/locale/dv.js","./dv.js":"./node_modules/moment/locale/dv.js","./el":"./node_modules/moment/locale/el.js","./el.js":"./node_modules/moment/locale/el.js","./en-au":"./node_modules/moment/locale/en-au.js","./en-au.js":"./node_modules/moment/locale/en-au.js","./en-ca":"./node_modules/moment/locale/en-ca.js","./en-ca.js":"./node_modules/moment/locale/en-ca.js","./en-gb":"./node_modules/moment/locale/en-gb.js","./en-gb.js":"./node_modules/moment/locale/en-gb.js","./en-ie":"./node_modules/moment/locale/en-ie.js","./en-ie.js":"./node_modules/moment/locale/en-ie.js","./en-il":"./node_modules/moment/locale/en-il.js","./en-il.js":"./node_modules/moment/locale/en-il.js","./en-nz":"./node_modules/moment/locale/en-nz.js","./en-nz.js":"./node_modules/moment/locale/en-nz.js","./eo":"./node_modules/moment/locale/eo.js","./eo.js":"./node_modules/moment/locale/eo.js","./es":"./node_modules/moment/locale/es.js","./es-do":"./node_modules/moment/locale/es-do.js","./es-do.js":"./node_modules/moment/locale/es-do.js","./es-us":"./node_modules/moment/locale/es-us.js","./es-us.js":"./node_modules/moment/locale/es-us.js","./es.js":"./node_modules/moment/locale/es.js","./et":"./node_modules/moment/locale/et.js","./et.js":"./node_modules/moment/locale/et.js","./eu":"./node_modules/moment/locale/eu.js","./eu.js":"./node_modules/moment/locale/eu.js","./fa":"./node_modules/moment/locale/fa.js","./fa.js":"./node_modules/moment/locale/fa.js","./fi":"./node_modules/moment/locale/fi.js","./fi.js":"./node_modules/moment/locale/fi.js","./fo":"./node_modules/moment/locale/fo.js","./fo.js":"./node_modules/moment/locale/fo.js","./fr":"./node_modules/moment/locale/fr.js","./fr-ca":"./node_modules/moment/locale/fr-ca.js","./fr-ca.js":"./node_modules/moment/locale/fr-ca.js","./fr-ch":"./node_modules/moment/locale/fr-ch.js","./fr-ch.js":"./node_modules/moment/locale/fr-ch.js","./fr.js":"./node_modules/moment/locale/fr.js","./fy":"./node_modules/moment/locale/fy.js","./fy.js":"./node_modules/moment/locale/fy.js","./gd":"./node_modules/moment/locale/gd.js","./gd.js":"./node_modules/moment/locale/gd.js","./gl":"./node_modules/moment/locale/gl.js","./gl.js":"./node_modules/moment/locale/gl.js","./gom-latn":"./node_modules/moment/locale/gom-latn.js","./gom-latn.js":"./node_modules/moment/locale/gom-latn.js","./gu":"./node_modules/moment/locale/gu.js","./gu.js":"./node_modules/moment/locale/gu.js","./he":"./node_modules/moment/locale/he.js","./he.js":"./node_modules/moment/locale/he.js","./hi":"./node_modules/moment/locale/hi.js","./hi.js":"./node_modules/moment/locale/hi.js","./hr":"./node_modules/moment/locale/hr.js","./hr.js":"./node_modules/moment/locale/hr.js","./hu":"./node_modules/moment/locale/hu.js","./hu.js":"./node_modules/moment/locale/hu.js","./hy-am":"./node_modules/moment/locale/hy-am.js","./hy-am.js":"./node_modules/moment/locale/hy-am.js","./id":"./node_modules/moment/locale/id.js","./id.js":"./node_modules/moment/locale/id.js","./is":"./node_modules/moment/locale/is.js","./is.js":"./node_modules/moment/locale/is.js","./it":"./node_modules/moment/locale/it.js","./it.js":"./node_modules/moment/locale/it.js","./ja":"./node_modules/moment/locale/ja.js","./ja.js":"./node_modules/moment/locale/ja.js","./jv":"./node_modules/moment/locale/jv.js","./jv.js":"./node_modules/moment/locale/jv.js","./ka":"./node_modules/moment/locale/ka.js","./ka.js":"./node_modules/moment/locale/ka.js","./kk":"./node_modules/moment/locale/kk.js","./kk.js":"./node_modules/moment/locale/kk.js","./km":"./node_modules/moment/locale/km.js","./km.js":"./node_modules/moment/locale/km.js","./kn":"./node_modules/moment/locale/kn.js","./kn.js":"./node_modules/moment/locale/kn.js","./ko":"./node_modules/moment/locale/ko.js","./ko.js":"./node_modules/moment/locale/ko.js","./ky":"./node_modules/moment/locale/ky.js","./ky.js":"./node_modules/moment/locale/ky.js","./lb":"./node_modules/moment/locale/lb.js","./lb.js":"./node_modules/moment/locale/lb.js","./lo":"./node_modules/moment/locale/lo.js","./lo.js":"./node_modules/moment/locale/lo.js","./lt":"./node_modules/moment/locale/lt.js","./lt.js":"./node_modules/moment/locale/lt.js","./lv":"./node_modules/moment/locale/lv.js","./lv.js":"./node_modules/moment/locale/lv.js","./me":"./node_modules/moment/locale/me.js","./me.js":"./node_modules/moment/locale/me.js","./mi":"./node_modules/moment/locale/mi.js","./mi.js":"./node_modules/moment/locale/mi.js","./mk":"./node_modules/moment/locale/mk.js","./mk.js":"./node_modules/moment/locale/mk.js","./ml":"./node_modules/moment/locale/ml.js","./ml.js":"./node_modules/moment/locale/ml.js","./mn":"./node_modules/moment/locale/mn.js","./mn.js":"./node_modules/moment/locale/mn.js","./mr":"./node_modules/moment/locale/mr.js","./mr.js":"./node_modules/moment/locale/mr.js","./ms":"./node_modules/moment/locale/ms.js","./ms-my":"./node_modules/moment/locale/ms-my.js","./ms-my.js":"./node_modules/moment/locale/ms-my.js","./ms.js":"./node_modules/moment/locale/ms.js","./mt":"./node_modules/moment/locale/mt.js","./mt.js":"./node_modules/moment/locale/mt.js","./my":"./node_modules/moment/locale/my.js","./my.js":"./node_modules/moment/locale/my.js","./nb":"./node_modules/moment/locale/nb.js","./nb.js":"./node_modules/moment/locale/nb.js","./ne":"./node_modules/moment/locale/ne.js","./ne.js":"./node_modules/moment/locale/ne.js","./nl":"./node_modules/moment/locale/nl.js","./nl-be":"./node_modules/moment/locale/nl-be.js","./nl-be.js":"./node_modules/moment/locale/nl-be.js","./nl.js":"./node_modules/moment/locale/nl.js","./nn":"./node_modules/moment/locale/nn.js","./nn.js":"./node_modules/moment/locale/nn.js","./pa-in":"./node_modules/moment/locale/pa-in.js","./pa-in.js":"./node_modules/moment/locale/pa-in.js","./pl":"./node_modules/moment/locale/pl.js","./pl.js":"./node_modules/moment/locale/pl.js","./pt":"./node_modules/moment/locale/pt.js","./pt-br":"./node_modules/moment/locale/pt-br.js","./pt-br.js":"./node_modules/moment/locale/pt-br.js","./pt.js":"./node_modules/moment/locale/pt.js","./ro":"./node_modules/moment/locale/ro.js","./ro.js":"./node_modules/moment/locale/ro.js","./ru":"./node_modules/moment/locale/ru.js","./ru.js":"./node_modules/moment/locale/ru.js","./sd":"./node_modules/moment/locale/sd.js","./sd.js":"./node_modules/moment/locale/sd.js","./se":"./node_modules/moment/locale/se.js","./se.js":"./node_modules/moment/locale/se.js","./si":"./node_modules/moment/locale/si.js","./si.js":"./node_modules/moment/locale/si.js","./sk":"./node_modules/moment/locale/sk.js","./sk.js":"./node_modules/moment/locale/sk.js","./sl":"./node_modules/moment/locale/sl.js","./sl.js":"./node_modules/moment/locale/sl.js","./sq":"./node_modules/moment/locale/sq.js","./sq.js":"./node_modules/moment/locale/sq.js","./sr":"./node_modules/moment/locale/sr.js","./sr-cyrl":"./node_modules/moment/locale/sr-cyrl.js","./sr-cyrl.js":"./node_modules/moment/locale/sr-cyrl.js","./sr.js":"./node_modules/moment/locale/sr.js","./ss":"./node_modules/moment/locale/ss.js","./ss.js":"./node_modules/moment/locale/ss.js","./sv":"./node_modules/moment/locale/sv.js","./sv.js":"./node_modules/moment/locale/sv.js","./sw":"./node_modules/moment/locale/sw.js","./sw.js":"./node_modules/moment/locale/sw.js","./ta":"./node_modules/moment/locale/ta.js","./ta.js":"./node_modules/moment/locale/ta.js","./te":"./node_modules/moment/locale/te.js","./te.js":"./node_modules/moment/locale/te.js","./tet":"./node_modules/moment/locale/tet.js","./tet.js":"./node_modules/moment/locale/tet.js","./tg":"./node_modules/moment/locale/tg.js","./tg.js":"./node_modules/moment/locale/tg.js","./th":"./node_modules/moment/locale/th.js","./th.js":"./node_modules/moment/locale/th.js","./tl-ph":"./node_modules/moment/locale/tl-ph.js","./tl-ph.js":"./node_modules/moment/locale/tl-ph.js","./tlh":"./node_modules/moment/locale/tlh.js","./tlh.js":"./node_modules/moment/locale/tlh.js","./tr":"./node_modules/moment/locale/tr.js","./tr.js":"./node_modules/moment/locale/tr.js","./tzl":"./node_modules/moment/locale/tzl.js","./tzl.js":"./node_modules/moment/locale/tzl.js","./tzm":"./node_modules/moment/locale/tzm.js","./tzm-latn":"./node_modules/moment/locale/tzm-latn.js","./tzm-latn.js":"./node_modules/moment/locale/tzm-latn.js","./tzm.js":"./node_modules/moment/locale/tzm.js","./ug-cn":"./node_modules/moment/locale/ug-cn.js","./ug-cn.js":"./node_modules/moment/locale/ug-cn.js","./uk":"./node_modules/moment/locale/uk.js","./uk.js":"./node_modules/moment/locale/uk.js","./ur":"./node_modules/moment/locale/ur.js","./ur.js":"./node_modules/moment/locale/ur.js","./uz":"./node_modules/moment/locale/uz.js","./uz-latn":"./node_modules/moment/locale/uz-latn.js","./uz-latn.js":"./node_modules/moment/locale/uz-latn.js","./uz.js":"./node_modules/moment/locale/uz.js","./vi":"./node_modules/moment/locale/vi.js","./vi.js":"./node_modules/moment/locale/vi.js","./x-pseudo":"./node_modules/moment/locale/x-pseudo.js","./x-pseudo.js":"./node_modules/moment/locale/x-pseudo.js","./yo":"./node_modules/moment/locale/yo.js","./yo.js":"./node_modules/moment/locale/yo.js","./zh-cn":"./node_modules/moment/locale/zh-cn.js","./zh-cn.js":"./node_modules/moment/locale/zh-cn.js","./zh-hk":"./node_modules/moment/locale/zh-hk.js","./zh-hk.js":"./node_modules/moment/locale/zh-hk.js","./zh-tw":"./node_modules/moment/locale/zh-tw.js","./zh-tw.js":"./node_modules/moment/locale/zh-tw.js"};function o(t){var e=a(t);return n(e)}function a(t){var e=r[t];if(!(e+1)){var n=new Error('Cannot find module "'+t+'".');throw n.code="MODULE_NOT_FOUND",n}return e}o.keys=function(){return Object.keys(r)},o.resolve=a,t.exports=o,o.id="./node_modules/moment/locale sync recursive ^\\.\\/.*$"},"./src/Assessment/Linechart/Linechart.scss":function(t,e,n){},"./src/Assessment/Linechart/LinechartController.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=l(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),o=l(n("./node_modules/babel-runtime/helpers/createClass.js")),a=l(n("./node_modules/lodash/cloneDeep.js")),u=l(n("./node_modules/lodash/forOwn.js")),i=l(n("./node_modules/deep-equal/index.js")),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n("./src/store/modules/projects.js"));function l(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(e,n,o,a,u){(0,r.default)(this,t),this.scope=e,this.EE=window.EE,this.$ngRedux=a,this.el=n,this.timeout=o,this.gettextCatalog=u,this.$onInit=this.onInit.bind(this),this.$onDestroy=this.onDestroy.bind(this),this.draw=this.draw.bind(this),this.watchers=this.watchers.bind(this),this.processDataForDomainChart=this.processDataForDomainChart.bind(this),this.processDataForAxisChart=this.processDataForAxisChart.bind(this),this.processDataForCoverageChart=this.processDataForCoverageChart.bind(this),this.monitorGraphData=this.monitorGraphData.bind(this)}return(0,o.default)(t,[{key:"onInit",value:function(){this.resizeCount=0,this.dataBit=0,this.unsubscribe=this.$ngRedux.connect(this.mapData.bind(this),s)(this),this.watchers(),this.EE.on("dashResized",this.resizeTick,this)}},{key:"onDestroy",value:function(){this.EE.removeListener("dashResized",this.resizeTick),this.unsubscribe&&this.unsubscribe()}},{key:"mapData",value:function(t){return{chartConfig:this.datachooser?this.processDataForDomainChart(s.getMapsDomainData(t)):this.notpercentage?this.processDataForCoverageChart(s.getCoverageData(t)):this.processDataForAxisChart(s.getMapsAxisData(t))}}},{key:"processDataForDomainChart",value:function(t){var e={},n=t.labels[0];return e.data=t,e.labels=t.labels,e.activeAxis=n,e.chosenData=t[n].data,e.chosenLabels=t[n].labels,e}},{key:"processDataForAxisChart",value:function(t){var e={};return e.data=t.data,e.labels=t.labels,e.chosenLabels=t.labels,e}},{key:"processDataForCoverageChart",value:function(t){var e=this.gettextCatalog,n=[e.getString("Clients"),e.getString("Health Workers"),e.getString("Facilities")],r={};return r.data=t.data,r.maxValue=this.calculateMaxData(t),r.labels=n,r.chosenLabels=n,r}},{key:"watchers",value:function(){var t=this;this.scope.$watch(function(t){return t.vm.chartConfig},this.monitorGraphData,!0),this.scope.$watchGroup([function(t){return t.vm.dataBit},function(t){return t.vm.resizeCount}],function(){var e=(0,a.default)(t.chartConfig);t.draw(e)})}},{key:"monitorGraphData",value:function(t,e){var n=(0,i.default)(t.data,e.data);n&&0===this.dataBit?this.dataBit+=1:n||(this.dataBit+=1)}},{key:"calculateMaxData",value:function(t){return t.data.reduce(function(t,e){return(0,u.default)(e,function(e,n){"date"===n&&"x"===n||(t=e>t?e:t)}),t},0)}},{key:"resizeTick",value:function(){this.resizeCount+=1}},{key:"draw",value:function(t){var e=this,n=t.data,r=t.chosenData,o=t.chosenLabels,a=t.labels,u=t.maxValue;d3.select(this.el[0]).select(".linechartcontainer").remove(),n=this.datachooser&&r?r:n,a=this.datachooser&&o?o:a;var i=d3.select(this.el[0]).append("div").attr("class","linechartcontainer").classed("secondary-colors",this.notpercentage),s=i[0][0].offsetWidth,l=i[0][0].offsetHeight;n.forEach(function(t,e){t.x=e+1});var c=0,f=0,d=40,h=45,p=s-h-f,m=l-c-d,g=i.append("svg").attr("class","visualization");g.attr("width",s).attr("height",l);var v=void 0;v=d3.select(".chart-tooltip")[0][0]?d3.select(".chart-tooltip"):d3.select("body").append("div").attr("class","chart-tooltip");var y=d3.scale.linear().range([h,p-f]).domain([.8,(this.showdotted?n.length:n.length-1)+.2]),_=d3.scale.linear().range([m-c,d]).domain([0,1]),j=d3.scale.linear().range([m-c,d]).domain([0,u]),x=this.notpercentage?j:_,b=d3.svg.axis().scale(y).ticks(this.showdotted?n.length:n.length-1).tickFormat(function(t){return(p-h-f)/(80*(n.length-1))>=1.2?t+". "+n[t-1].date:t}).orient("bottom"),M=d3.svg.axis().scale(x).orient("left").tickFormat(this.notpercentage?d3.format("d"):d3.format(".0%"));g.append("svg:g").attr("class","axis x-axis").attr("transform","translate(0,"+(m-d)+")").call(b),g.append("svg:g").attr("class","axis y-axis").attr("transform","translate("+h+",0)").call(M);for(var w=0;w<=10;w+=1)g.append("svg:line").attr("class","linechart-ruler").attr("x1",h).attr("y1",_(w/10)).attr("x2",p-f).attr("y2",_(w/10));for(var C=function(t){var r=d3.svg.line().x(function(t){return y(t.x)}).y(function(e){return x(e["axis"+t]||0)});g.append("svg:path").attr("class","line-axis line-axis"+t).attr("d",r(n.slice(0,-1))),e.showdotted&&g.append("svg:path").attr("class","line-axis line-axis-dashed line-axis"+t).attr("d",r(n.slice(-2)))},E=1;E<=a.length;E+=1)C(E);function k(){for(var t=this,e=function(e){d3.select(t.el[0]).select(".labelhov"+e).on("mouseover",function(){g.classed("activelabel"+e,!0)}).on("mouseout",function(){g.classed("activelabel"+e,!1)})},n=1;n<=a.length;n+=1)e(n)}(this.showdotted?n:n.slice(0,-1)).forEach(function(t){for(var n=function(n){g.append("circle").attr("class","dot-axis dot-axis"+n).attr("r",5).attr("cx",y(t.x)).attr("cy",x(t["axis"+n]||0)).on("mouseover",function(){var r=["Score: "+Math.round(100*t["axis"+n])+"%","<br>","Date: "+t.date];r[0]=e.notpercentage?t["axis"+n]:r[0],v.html(r.join("")).style("top",d3.event.pageY-15+"px").style("left",d3.event.pageX+15+"px").style("opacity",1)}).on("mouseout",function(){v.style("opacity",0)})},r=1;r<=a.length;r+=1)n(r)}),d3.select(this.el[0]).select(".labelhov"+a.length).empty()?this.timeout(k.bind(this),250):k.bind(this)()}},{key:"axisChange",value:function(t){this.chartConfig.chosenData=this.chartConfig.data[t].data,this.chartConfig.chosenLabels=this.chartConfig.data[t].labels,this.draw(this.chartConfig)}}],[{key:"linechartFactory",value:function(){function e(e,n,r,o,a){return new t(e,n,r,o,a)}return n("./src/Assessment/Linechart/Linechart.scss"),n("./node_modules/d3/d3.js"),e.$inject=["$scope","$element","$timeout","$ngRedux","gettextCatalog"],e}}]),t}();e.default=c},"./src/Storage.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=u(n("./node_modules/babel-runtime/core-js/json/stringify.js")),o=u(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),a=u(n("./node_modules/babel-runtime/helpers/createClass.js"));function u(t){return t&&t.__esModule?t:{default:t}}var i=function(){function t(){(0,o.default)(this,t),this.storage=window.localStorage}return(0,a.default)(t,[{key:"set",value:function(t,e){if("string"!=typeof t)throw new TypeError("this.storage key should be a string!");var n="string"==typeof e?e:(0,r.default)(e);this.storage.setItem(t,n)}},{key:"get",value:function(t){try{return JSON.parse(this.storage.getItem(t))}catch(e){return this.storage.getItem(t)}}},{key:"remove",value:function(t){this.storage.removeItem(t)}},{key:"clear",value:function(){this.storage.clear()}},{key:"check",value:function(){console.log("this.storage contains:\n");var t={};for(var e in this.storage)console.log(e+": "+this.storage.getItem(e)),t[e]=this.storage.getItem(e);return t}}]),t}();e.default=i},"./src/plugins/axios.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n("./node_modules/babel-runtime/core-js/promise.js"));function o(t){return t&&t.__esModule?t:{default:t}}var a=o(n("./node_modules/axios/index.js")).default.create();a.setAuthToken=function(t){a.defaults.headers.common.Authorization="Token "+t},a.unSetAuthToken=function(){a.defaults.headers.common.Authorization=null},a.setLanguageHeader=function(t){a.defaults.headers.common["Accept-Language"]=t},a.setShowPopUp=function(t){a.popUpFunction=t},a.setHandleAuthProblem=function(t){a.authProblemFunction=t},a.interceptors.request.use(function(t){return t},function(t){return console.error(t),a.popUpFunction(),r.default.reject(t)}),a.interceptors.response.use(function(t){return t},function(t){return t&&t.response&&(401===t.response.status||403===t.response.status?a.authProblemFunction():a.popUpFunction()),r.default.reject(t)}),e.default=a},"./src/plugins/language.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCurrentLanguage=e.setLanguage=e.getLanguage=e.configureDates=e.setDateLocaleProvider=e.setScope=e.setCatalog=e.config=void 0;var r=i(n("./node_modules/babel-runtime/regenerator/index.js")),o=i(n("./node_modules/babel-runtime/helpers/asyncToGenerator.js")),a=i(n("./src/plugins/axios.js")),u=i(n("./node_modules/moment/moment.js"));function i(t){return t&&t.__esModule?t:{default:t}}n("./node_modules/moment/locale/fr.js"),n("./node_modules/moment/locale/pt.js"),n("./node_modules/moment/locale/es.js");var s,l,c=window.navigator,f=c.languages&&c.languages[0]||c.language||c.userLanguage,d=e.config={gettextCatalog:{},language:f,scope:{},mdDateLocaleProvider:{}};e.setCatalog=function(t){d.gettextCatalog=t},e.setScope=function(t){d.scope=t},e.setDateLocaleProvider=function(t){d.mdDateLocaleProvider=t},e.configureDates=(s=(0,o.default)(r.default.mark(function t(e){var n;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u.default.locale(e),n=(0,u.default)(),d.mdDateLocaleProvider.months=n.localeData().months(),d.mdDateLocaleProvider.shortMonths=n.localeData().monthsShort(),d.mdDateLocaleProvider.days=n.localeData().weekdays(),d.mdDateLocaleProvider.shortDays=n.localeData().weekdaysShort(),window.moment=n;case 7:case"end":return t.stop()}},t,void 0)})),function(t){return s.apply(this,arguments)}),e.getLanguage=(l=(0,o.default)(r.default.mark(function t(){var n,o;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.default.setLanguageHeader(d.language),t.next=3,a.default.get("/translation/json/");case 3:n=t.sent,o=n.data,d.gettextCatalog.setCurrentLanguage(d.language),d.gettextCatalog.setStrings(d.language,o.catalog),e.configureDates(d.language),d.scope.$digest();case 9:case"end":return t.stop()}},t,void 0)})),function(){return l.apply(this,arguments)}),e.setLanguage=function(t){return d.language=t,e.getLanguage()},e.getCurrentLanguage=function(){return d.language}},"./src/store/modules/countries.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.csvExport=e.getCurrentCountryProjects=e.getCurrentCountryDistrictProjects=e.getCurrentCountryMapData=e.getCurrentCountryFacilityList=e.getCurrentCountrySecondSubLevel=e.getCurrentCountryFirstSubLevel=e.getCurrentCountrySubLevelNames=e.getCountriesLib=e.getCountryCoverPicture=e.getCountryCoverPage=e.getCurrentCountry=e.getCountryFields=e.getCountriesList=e.getCountry=e.mapData=void 0;var r,o=g(n("./node_modules/babel-runtime/core-js/promise.js")),a=g(n("./node_modules/babel-runtime/core-js/object/freeze.js")),u=g(n("./node_modules/babel-runtime/regenerator/index.js")),i=g(n("./node_modules/babel-runtime/helpers/asyncToGenerator.js")),s=g(n("./node_modules/babel-runtime/helpers/extends.js"));e.csvExport=(r=(0,i.default)(u.default.mark(function t(e){var n,r;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.default.post("/api/projects/csv-export/",e);case 2:return n=t.sent,r=n.data,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)})),function(t){return r.apply(this,arguments)});e.loadCountries=function(){var t=this;return e=(0,i.default)(u.default.mark(function e(n,r){var o,a;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==r().countries.list.length){t.next=8;break}return t.next=4,l.default.get("/api/countries/");case 4:o=t.sent,(a=o.data).sort(function(t,e){return t.name.localeCompare(e.name)}),n({type:"SET_COUNTRIES_LIST",countries:a});case 8:case"end":return t.stop()}},e,t)})),function(t,n){return e.apply(this,arguments)};var e},e.loadCountryFields=function(t){var e=this;return n=(0,i.default)(u.default.mark(function n(r,o){var a,i,s;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((a=o().countries.countryFields.filter(function(e){return e.country===t}))&&0!==a.length){e.next=8;break}return e.next=4,l.default.get("/api/country-fields/"+t+"/");case 4:i=e.sent,(s=i.data).sort(function(t,e){return t.id-e.id}),r({type:"UPDATE_COUNTRY_FIELDS_LIST",fields:s});case 8:case"end":return e.stop()}},n,e)})),function(t,e){return n.apply(this,arguments)};var n},e.loadCountryMapData=function(){var t=this;return n=(0,i.default)(u.default.mark(function n(r,o){var i,s,c,f;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=o(),!(s=e.getCurrentCountry(i))||!s.code){t.next=10;break}if(y[s.code]){t.next=10;break}return t.next=7,l.default.get("/static/country-geodata/"+s.code+".json");case 7:c=t.sent,f=c.data,y[s.code]=(0,a.default)(f);case 10:case"end":return t.stop()}},n,t)})),function(t,e){return n.apply(this,arguments)};var n},e.loadCountryLandingPageInfo=function(){var t=this;return n=(0,i.default)(u.default.mark(function n(r,o){var a,i,s;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a=e.getCurrentCountry(o()))||!a.code){t.next=7;break}return t.next=4,l.default.get("/api/landing/"+a.code.toUpperCase()+"/");case 4:i=t.sent,s=i.data,r({type:"SET_COUNTRY_COVER_DATA",cover:s});case 7:case"end":return t.stop()}},n,t)})),function(t,e){return n.apply(this,arguments)};var n},e.loadCurrentCountryDistrictsProject=function(){var t=this;return n=(0,i.default)(u.default.mark(function n(r,o){var a,i,s;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a=e.getCurrentCountry(o()))||!a.id){t.next=7;break}return t.next=4,l.default.get("/api/projects/by-view/map/"+a.id+"/");case 4:i=t.sent,s=i.data,r({type:"SET_CURRENT_COUNTRY_DISTRICT_PROJECTS",projects:s});case 7:case"end":return t.stop()}},n,t)})),function(t,e){return n.apply(this,arguments)};var n},e.loadCountryProjectsOrAll=function(t){var e=this;return n=(0,i.default)(u.default.mark(function n(r){var o,a,i;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=["/api/projects/by-view/list/"],t&&o.push(t+"/"),e.next=4,l.default.get(o.join(""));case 4:a=e.sent,i=a.data,r({type:"SET_CURRENT_COUNTRY_PROJECTS",projects:i});case 7:case"end":return e.stop()}},n,e)})),function(t){return n.apply(this,arguments)};var n},e.loadCurrentCountryProjects=function(){var t=this;return n=(0,i.default)(u.default.mark(function n(r,o){var a;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(a=e.getCurrentCountry(o()))&&r(e.loadCountryProjectsOrAll(a.id));case 2:case"end":return t.stop()}},n,t)})),function(t,e){return n.apply(this,arguments)};var n},e.setCurrentCountry=function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return a=(0,i.default)(u.default.mark(function a(i,s){var l,c;return u.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(l=s().countries.currentCountry,!t||t===l){n.next=9;break}return i({type:"SET_CURRENT_COUNTRY",country:t}),(c={}).countryFields=i(e.loadCountryFields(t)),c.mapData=i(e.loadCountryMapData()),c.landingPage=i(e.loadCountryLandingPageInfo()),c.districts=i(e.loadCurrentCountryDistrictsProject()),n.abrupt("return",o.default.all(r.map(function(t){return c[t]})));case 9:return n.abrupt("return",o.default.resolve());case 10:case"end":return n.stop()}},a,n)})),function(t,e){return a.apply(this,arguments)};var a},e.setCurrentCountryFromCode=function(t){var n=this;return r=(0,i.default)(u.default.mark(function r(o,a){var i;return u.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:(i=a().countries.list.find(function(e){return e.code.toLocaleLowerCase()===t.toLocaleLowerCase()}))&&i.id?o(e.setCurrentCountry(i.id,["landingPage"])):o({type:"UNSET_CURRENT_COUNTRY"});case 2:case"end":return n.stop()}},r,n)})),function(t,e){return r.apply(this,arguments)};var r},e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,e=arguments[1];switch(e.type){case"SET_COUNTRIES_LIST":return(0,s.default)({},t,{list:e.countries});case"SET_CURRENT_COUNTRY":return(0,s.default)({},t,{currentCountry:e.country});case"UNSET_CURRENT_COUNTRY":return(0,s.default)({},t,{currentCountry:null,currentCountryCoverPage:{}});case"SET_COUNTRY_COVER_DATA":return(0,s.default)({},t,{currentCountryCoverPage:e.cover});case"UPDATE_COUNTRY_FIELDS_LIST":return(0,s.default)({},t,{countryFields:(0,c.default)(e.fields,t.countryFields,"id")});case"SET_CURRENT_COUNTRY_PROJECTS":return(0,s.default)({},t,{currentCountryProjects:e.projects});case"SET_CURRENT_COUNTRY_DISTRICT_PROJECTS":return(0,s.default)({},t,{currentCountryDistrictsProjects:e.projects});default:return t}};var l=g(n("./src/plugins/axios.js")),c=g(n("./node_modules/lodash/unionBy.js")),f=g(n("./node_modules/lodash/forEach.js")),d=n("./node_modules/reselect/lib/index.js"),h=n("./src/store/modules/projects.js"),p=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n("./src/store/modules/system.js")),m=n("./src/plugins/language.js");function g(t){return t&&t.__esModule?t:{default:t}}var v={list:[],countryFields:[],currentCountryDistricts:[],currentCountry:null,currentCountryCoverPage:{},currentCountryProjects:[],currentCountryDistrictsProjects:[]},y=e.mapData={},_=(e.getCountry=function(t,e){return t.countries.list.find(function(t){return t.id===e})},e.getCountriesList=(0,d.createSelector)(function(t){return t.countries.list},function(t){return t?t.map(function(t){var e=t.code.toLocaleLowerCase();return(0,s.default)({},t,{code:e,flag:"/static/flags/"+e+".png",prettyName:t.name.split("-").join(" ")})}):[]}));e.getCountryFields=function(t){return t.countries.countryFields.filter(function(e){return e.country===t.countries.currentCountry}).map(function(t){return(0,s.default)({},t)})},e.getCurrentCountry=function(t){return(0,s.default)({},_(t).find(function(e){return e.id===t.countries.currentCountry}))},e.getCountryCoverPage=function(t){var e=(0,s.default)({},t.countries.currentCountryCoverPage),n=p.getLandingPageDefaults(t);return(0,f.default)(n,function(t,n){var r=e[n];null!==r&&void 0!==r&&""!==r||(e[n]=t)}),e.partners=e.default_partners.concat(e.partner_logos),e},e.getCountryCoverPicture=function(t){var n=e.getCountryCoverPage(t);return n.cover?{background:"url("+n.cover+") 0 0","background-size":"cover","background-repeat":"no-repeat"}:null},e.getCountriesLib=function(t){var e={};return t.countries.list&&t.countries.list.forEach(function(t){e[t.id]=t.name}),e},e.getCurrentCountrySubLevelNames=function(t){var n=e.getCurrentCountry(t),r=p.getSubLevelTypes(t);try{var o=r.find(function(t){return t.name===n.map_data.first_sub_level.name}),a=r.find(function(t){return t.name===n.map_data.second_sub_level.name});return[o=o?o.displayName:n.map_data.first_sub_level.name,a=a?a.displayName:n.map_data.second_sub_level.name]}catch(t){return["",""]}},e.getCurrentCountryFirstSubLevel=function(t){var n=(0,m.getCurrentLanguage)(),r=e.getCurrentCountry(t);return r&&r.map_data&&r.map_data.first_sub_level?r.map_data.first_sub_level.elements.map(function(t){return{id:t.name,name:t["name:"+n]||t["name:en"]||t.name}}):[]},e.getCurrentCountrySecondSubLevel=function(t){var n=(0,m.getCurrentLanguage)(),r=e.getCurrentCountry(t);return r&&r.map_data&&r.map_data.second_sub_level?r.map_data.second_sub_level.elements.map(function(t){return{id:t.name,name:t["name:"+n]||t["name:en"]||t.name}}):[]},e.getCurrentCountryFacilityList=function(t){var n=e.getCurrentCountry(t);return n&&n.map_data&&n.map_data.facilities?n.map_data.facilities:[]},e.getCurrentCountryMapData=function(t){var n=e.getCurrentCountry(t);return n.mapData=y[n.code],n.districts=e.getCurrentCountryFirstSubLevel(t),n},e.getCurrentCountryDistrictProjects=function(t){var e={},n=t.countries.currentCountryDistrictsProjects;for(var r in n)e[r]=n[r].map(function(e){return e=(0,s.default)({},e,(0,h.isMemberOrViewer)(t,e))});return e},e.getCurrentCountryProjects=function(t){return t.countries.currentCountryProjects.map(function(e){return e=(0,s.default)({},e,(0,h.isMemberOrViewer)(t,e))})}},"./src/store/modules/projects.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.searchProjects=e.postProjectSaveActions=e.saveCountryFields=e.saveTeamViewers=e.checkCurrentProjectValidity=e.getSimilarProject=e.getCoverageData=e.getMapsDomainData=e.getMapsAxisData=e.getCurrentVersionDate=e.getCurrentVersion=e.getCoverageVersion=e.getToolkitVersion=e.getViewers=e.getTeam=e.getNewProjectForEditing=e.getCurrentDraftProjectForEditing=e.getCurrentEdits=e.getCurrentPublishedProjectForEditing=e.getCurrentProjectForEditing=e.getProjectCountryFields=e.getStoredCountryFields=e.getCurrentDraftInViewMode=e.getCurrentDraft=e.getCurrentPublished=e.parseProjectForViewMode=e.convertCountryFieldsAnswer=e.getCurrentPublicProjectDetails=e.getCurrentPublicProject=e.getCurrentProject=e.getCurrentProjectIfExist=e.getVanillaProject=e.getEmptyProject=e.getUserDefaultProject=e.getUserProjects=e.getProjectStructure=e.getFlatProjectStructure=e.getDraftedProjects=e.getPublishedProjects=e.getSavedProjectList=e.getCurrentProjectId=e.isMemberOrViewer=void 0;var r,o,a,u,i=T(n("./node_modules/babel-runtime/core-js/object/keys.js")),s=T(n("./node_modules/babel-runtime/core-js/json/stringify.js")),l=T(n("./node_modules/babel-runtime/helpers/slicedToArray.js")),c=T(n("./node_modules/babel-runtime/regenerator/index.js")),f=T(n("./node_modules/babel-runtime/core-js/promise.js")),d=T(n("./node_modules/babel-runtime/helpers/asyncToGenerator.js")),h=T(n("./node_modules/babel-runtime/core-js/object/assign.js")),p=T(n("./node_modules/babel-runtime/helpers/typeof.js")),m=T(n("./node_modules/babel-runtime/helpers/toConsumableArray.js")),g=T(n("./node_modules/babel-runtime/helpers/extends.js"));e.saveTeamViewers=(r=(0,d.default)(c.default.mark(function t(e){var n,r=e.id,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={team:o.map(function(t){return t.id}),viewers:a.map(function(t){return t.id})},t.next=3,v.default.put("/api/projects/"+r+"/groups/",n);case 3:return t.abrupt("return",n);case 4:case"end":return t.stop()}},t,this)})),function(t){return r.apply(this,arguments)}),e.saveCountryFields=(o=(0,d.default)(c.default.mark(function t(){var e,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments[1],a=arguments[2],u=arguments[3];return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=r.map(function(t){var e=t.country,n=t.question,r=t.type;return{country:e,answer:t.answer,type:r,question:n,project:a}}),u="published"===u?"publish":"draft",t.prev=2,t.next=5,v.default.post("/api/country-fields/"+o+"/"+a+"/"+u+"/",{fields:r});case 5:return e=t.sent,n=e.data,t.abrupt("return",n.fields);case 10:return t.prev=10,t.t0=t.catch(2),console.log(t.t0),t.abrupt("return",!1);case 14:case"end":return t.stop()}},t,this,[[2,10]])})),function(){return o.apply(this,arguments)}),e.postProjectSaveActions=(a=(0,d.default)(c.default.mark(function t(n,r,o,a,u,i){var s,d,h,p,m,g,v,y,_,j,x;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=M.getProfile(u).id,d=e.getStoredCountryFields(u)(!0),h=e.saveCountryFields(d,n.draft.country,n.id,i),p=e.saveTeamViewers(n,r,o),t.next=6,f.default.all([p,h]);case 6:if(m=t.sent,g=(0,l.default)(m,2),v=g[0],y=g[1],_=v.team.some(function(t){return t===s})?[n.id]:[],j=v.viewers.some(function(t){return t===s})?[n.id]:[],!1!==y){t.next=16;break}return(x=new Error).response={custom:!0,message:"Failed to save country fields"},t.abrupt("return",f.default.reject(x));case 16:return"published"===i&&(n.published.fields=y),n.draft.fields=y,a({type:"UPDATE_SAVE_PROJECT",project:n}),a({type:"SET_PROJECT_TEAM_VIEWERS",teamViewers:v}),a(M.updateTeamViewers(_,j)),a(b.loadCurrentCountryProjects()),a(b.loadCurrentCountryDistrictsProject()),t.abrupt("return",f.default.resolve(n));case 24:case"end":return t.stop()}},t,this)})),function(t,e,n,r,o,u){return a.apply(this,arguments)}),e.searchProjects=(u=(0,d.default)(c.default.mark(function t(e){var n,r,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.default.post("/api/search/projects/",{health_topic:o,location:a,organisation:u,project_name:i,query:e,technology_platform:s});case 2:return n=t.sent,r=n.data,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)})),function(t){return u.apply(this,arguments)});e.loadUserProjects=function(){var t=this;return n=(0,d.default)(c.default.mark(function n(r,o){var a,u,i;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(a=o()).user.profile||e.getSavedProjectList(a)){t.next=9;break}return t.next=5,v.default.get("/api/projects/member-of/");case 5:u=t.sent,(i=u.data).sort(function(t,e){return e.id-t.id}),r({type:"SET_PROJECT_LIST",projects:i});case 9:return t.abrupt("return",f.default.resolve());case 12:return t.prev=12,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",f.default.reject(t.t0));case 16:case"end":return t.stop()}},n,t,[[0,12]])})),function(t,e){return n.apply(this,arguments)};var n},e.loadProjectDetails=function(){var t=this;return e=(0,d.default)(c.default.mark(function e(n,r){var o,a,u,i,s,d,h,p,m;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(o=r().projects.currentProject)||-1===o){t.next=15;break}return a=v.default.get("/api/projects/"+o+"/toolkit/versions/"),u=v.default.get("/api/projects/"+o+"/coverage/versions/"),i=v.default.get("/api/projects/"+o+"/groups/"),t.next=8,f.default.all([a,u,i]);case 8:s=t.sent,d=(0,l.default)(s,3),h=d[0],p=d[1],m=d[2],n({type:"SET_PROJECT_INFO",info:{toolkitVersions:h.data,coverageVersions:p.data}}),n({type:"SET_PROJECT_TEAM_VIEWERS",teamViewers:m.data});case 15:return t.abrupt("return",f.default.resolve());case 18:return t.prev=18,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",f.default.reject(t.t0));case 22:case"end":return t.stop()}},e,t,[[0,18]])})),function(t,n){return e.apply(this,arguments)};var e},e.setCurrentProject=function(t){var n=this;return r=(0,d.default)(c.default.mark(function r(o,a){var u,i,s,l,d,h,p,m;return c.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t=parseInt(t,10))||-1===t||t===a().projects.currentProject){n.next=22;break}if(o({type:"SET_CURRENT_PROJECT",id:t}),!(u=e.getCurrentProjectIfExist(a()))){n.next=9;break}return i=o(b.setCurrentCountry(u.country,["mapData"])),s=o(e.loadProjectDetails()),l=o(w.loadToolkitData()),n.abrupt("return",f.default.all([i,s,l]));case 9:return n.next=11,v.default.get("/api/projects/"+t+"/");case 11:if(d=n.sent,h=d.data,!M.getProfile(a())){n.next=19;break}return n.next=17,v.default.get("/api/projects/"+t+"/groups/");case 17:p=n.sent,o({type:"SET_PROJECT_TEAM_VIEWERS",teamViewers:p.data});case 19:o({type:"SET_CURRENT_PUBLIC_PROJECT_DETAIL",project:h}),n.next=23;break;case 22:-1===t&&(o({type:"SET_CURRENT_PROJECT",id:t}),m={id:-1,draft:{fields:[]},public:{}},o({type:"SET_PROJECT_TEAM_VIEWERS",teamViewers:{team:[],viewers:[]}}),o({type:"UPDATE_SAVE_PROJECT",project:m}));case 23:return n.abrupt("return",f.default.resolve());case 24:case"end":return n.stop()}},r,n)})),function(t,e){return r.apply(this,arguments)};var r},e.snapShotProject=function(){var t=this;return n=(0,d.default)(c.default.mark(function n(r,o){var a;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=o().projects.currentProject,t.next=3,v.default.post("/api/projects/"+a+"/version/");case 3:return t.next=5,r(e.loadProjectDetails());case 5:case"end":return t.stop()}},n,t)})),function(t,e){return n.apply(this,arguments)};var n},e.loadProjectStructure=function(t){var n=this;return r=(0,d.default)(c.default.mark(function r(o,a){var u,i,s,l;return c.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(u=a(),i=e.getProjectStructure(u),!(0,_.default)(i)&&!t){n.next=9;break}return n.next=5,v.default.get("/api/projects/structure/");case 5:return s=n.sent,l=s.data,n.next=9,o({type:"SET_PROJECT_STRUCTURE",structure:l});case 9:case"end":return n.stop()}},r,n)})),function(t,e){return r.apply(this,arguments)};var r},e.processForm=function(t){var e=t.organisation?t.organisation.name:"",n=t.organisation?t.organisation.id:null;return t=(0,g.default)({},t,(0,E.retainNationalOrDistrictCoverage)(t)),t=(0,g.default)({},t,{organisation_name:e,organisation:n},(0,E.createDateFields)(t),(0,E.convertObjectArrayToStringArray)(t),(0,E.parseOutInteroperabilityLinks)(t),{coverageType:void 0,platforms:(0,E.parsePlatformCollection)(t)},(0,E.extractIdFromObjects)(t),(0,E.handleNationalLevelCoverage)(t),{coverage:(0,E.handleCoverage)(t.coverage),coverage_second_level:(0,E.handleCoverage)(t.coverage_second_level)}),t=(0,g.default)({},t,(0,E.retainOnlyIds)(t)),t=(0,g.default)({},t,(0,E.removeEmptyChildObjects)(t)),(0,E.removeKeysWithoutValues)(t)},e.saveDraft=function(t,n,r){var o=this;return a=(0,d.default)(c.default.mark(function a(u,i){var s,l,d,h;return c.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.processForm(t),s=t.id?"put":"post",l=t.id?"/api/projects/draft/"+t.id+"/":"/api/projects/draft/",o.prev=3,o.next=6,v.default[s](l,t);case 6:return d=o.sent,h=d.data,o.abrupt("return",e.postProjectSaveActions(h,n,r,u,i(),"draft"));case 11:return o.prev=11,o.t0=o.catch(3),console.log(o.t0),o.abrupt("return",f.default.reject(o.t0));case 15:case"end":return o.stop()}},a,o,[[3,11]])})),function(t,e){return a.apply(this,arguments)};var a},e.discardDraft=function(){var t=this;return n=(0,d.default)(c.default.mark(function n(r,o){var a,u,i,s,l;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.getCurrentPublishedProjectForEditing(o()),u=e.processForm(a),i=e.getStoredCountryFields(o())(!1),t.next=5,v.default.put("/api/projects/draft/"+a.id+"/",u);case 5:return s=t.sent,l=s.data,t.next=9,e.saveCountryFields(i,l.draft.country,l.id,"published");case 9:return l.draft.fields=t.sent,r({type:"UPDATE_SAVE_PROJECT",project:l}),t.abrupt("return",f.default.resolve(l));case 12:case"end":return t.stop()}},n,t)})),function(t,e){return n.apply(this,arguments)};var n},e.publish=function(t,n,r){var o=this;return a=(0,d.default)(c.default.mark(function a(u,i){var s,l;return c.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.processForm(t),o.prev=1,o.next=4,v.default.put("/api/projects/publish/"+t.id+"/",t);case 4:return s=o.sent,l=s.data,o.abrupt("return",e.postProjectSaveActions(l,n,r,u,i(),"published"));case 9:return o.prev=9,o.t0=o.catch(1),console.log(o.t0),o.abrupt("return",f.default.reject(o.t0));case 13:case"end":return o.stop()}},a,o,[[1,9]])})),function(t,e){return a.apply(this,arguments)};var a},e.searchDuplicateProjectName=function(t){var n=this;return r=(0,d.default)(c.default.mark(function r(o){var a;return c.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.searchProjects(t);case 2:a=n.sent,o({type:"SET_SIMILAR_NAME_LIST",list:a});case 4:case"end":return n.stop()}},r,n)})),function(t){return r.apply(this,arguments)};var r},e.clearSimilarNameList=function(){var t=this;return e=(0,d.default)(c.default.mark(function e(n){return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"SET_SIMILAR_NAME_LIST",list:[]});case 1:case"end":return t.stop()}},e,t)})),function(t){return e.apply(this,arguments)};var e},e.updateProjectCountryFields=function(t){var n=t.id,r=t.answer,o=t.question,a=t.type,u=t.country,i=t.schema_id;return function(t,l){var c=e.getCurrentProjectId(l());switch(a){case 3:r=!0===r?"true":"false";break;case 5:r=(0,s.default)(r)}var f={id:n,answer:r,question:o,type:a,country:u,schema_id:i=i||n};t({type:"UPDATE_COUNTRY_FIELD_ANSWER",projectId:c,countryField:f})}},e.updateEditedProject=function(t){return function(e,n){var r={},o=n().projects.editedProject;(0,i.default)(t).forEach(function(e){var n=(0,j.default)(o[e],t[e]);n||(r[e]=t[e])}),(0,i.default)(r).length>0&&e({type:"EDITED_PROJECT_UPDATE",update:r})}},e.resetEditedProject=function(){return function(t){t({type:"EDITED_PROJECT_RESET"})}},e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{editedProject:{}},e=arguments[1];switch(e.type){case"SET_PROJECT_LIST":var n=e.projects.slice();return(0,g.default)({},t,{list:n});case"SET_SIMILAR_NAME_LIST":var r=e.list.slice();return(0,g.default)({},t,{similarProjectNames:r});case"UPDATE_SAVE_PROJECT":var o=[].concat((0,m.default)(t.list)),a=o.findIndex(function(t){return t.id===e.project.id});return-1!==a?o.splice(a,1,(0,g.default)({},e.project)):o.push((0,g.default)({},e.project)),(0,g.default)({},t,{list:o});case"UPDATE_COUNTRY_FIELD_ANSWER":var u=[].concat((0,m.default)(t.list)),i=u.findIndex(function(t){return t.id===e.projectId}),s=[].concat((0,m.default)(u[i].draft.fields)),l=s.findIndex(function(t){return t.schema_id===e.countryField.schema_id});return-1!==l?s.splice(l,1,(0,g.default)({},e.countryField)):s.push((0,g.default)({},e.countryField)),u[i].draft.fields=s,(0,g.default)({},t,{list:u});case"SET_CURRENT_PROJECT":var c=e.id;return(0,g.default)({},t,{currentProject:c});case"SET_CURRENT_PUBLIC_PROJECT_DETAIL":var f=e.project;return(0,g.default)({},t,{currentPublicProject:f});case"SET_PROJECT_STRUCTURE":var d=e.structure;return(0,g.default)({},t,{structure:d});case"SET_PROJECT_INFO":var h=e.info.toolkitVersions,p=e.info.coverageVersions,v=e.info.teamViewers;return(0,g.default)({},t,{toolkitVersions:h,coverageVersions:p,teamViewers:v});case"SET_PROJECT_TEAM_VIEWERS":var y=e.teamViewers;return(0,g.default)({},t,{teamViewers:y});case"CLEAR_USER_PROJECTS":return{structure:t.structure};case"EDITED_PROJECT_UPDATE":return(0,g.default)({},t,{editedProject:(0,g.default)({},t.editedProject,e.update)});case"EDITED_PROJECT_RESET":return(0,g.default)({},t,{editedProject:{}});default:return t}};var v=T(n("./src/plugins/axios.js")),y=T(n("./node_modules/lodash/forOwn.js")),_=T(n("./node_modules/lodash/isEmpty.js")),j=T(n("./node_modules/lodash/isEqual.js")),x=n("./src/store/static_data/project_definition.js"),b=S(n("./src/store/modules/countries.js")),M=S(n("./src/store/modules/user.js")),w=S(n("./src/store/modules/toolkit.js")),C=n("./node_modules/reselect/lib/index.js"),E=n("./src/store/project_utils.js"),k=S(n("./src/store/modules/system.js"));function S(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function T(t){return t&&t.__esModule?t:{default:t}}e.isMemberOrViewer=function(t,e){var n=M.getProfile(t);if(n&&n.member&&n.viewer){var r=n.member.indexOf(e.id)>-1,o=!r&&n.viewer.indexOf(e.id)>-1;return{isMember:r,isViewer:o,isTeam:r||o}}return{isMember:!1,isViewer:!1,isTeam:!1}},e.getCurrentProjectId=function(t){return t.projects.currentProject},e.getSavedProjectList=(0,C.createSelector)(function(t){return t.projects.list},function(t){return e.getVanillaProject(t)},function(t,e){if(t)return t.filter(function(t){return-1!==t.id}).map(function(t){return(0,g.default)({},t,{draft:(0,g.default)({},e,{donors:[],implementing_partners:[]},t.draft)})})}),e.getPublishedProjects=function(t){return t.projects.list?e.getSavedProjectList(t).map(function(n){return n=(0,g.default)({},n.published,e.isMemberOrViewer(t,n))}):[]},e.getDraftedProjects=function(t){return t.projects.list?e.getSavedProjectList(t).map(function(n){return n=(0,g.default)({},n.draft,e.isMemberOrViewer(t,n))}):[]},e.getFlatProjectStructure=function(t){var e=t.projects.structure;if(e){var n=[];e.strategies.forEach(function(t){t.subGroups.forEach(function(t){n=[].concat((0,m.default)(n),(0,m.default)(t.strategies.map(function(t){return(0,g.default)({},t)})))})});var r=[];e.health_focus_areas.forEach(function(t){r=[].concat((0,m.default)(r),(0,m.default)(t.health_focus_areas))});var o=[];return e.hsc_challenges.forEach(function(t){o=[].concat((0,m.default)(o),(0,m.default)(t.challenges))}),(0,g.default)({},e,{strategies:n,health_focus_areas:r,hsc_challenges:o})}return{}},e.getProjectStructure=(0,C.createSelector)(function(t){return t.projects.structure},function(t){return(0,g.default)({},t)}),e.getUserProjects=function(t){var n=e.getFlatProjectStructure(t);return t.projects.list?e.getSavedProjectList(t).map(function(r){var o=r.public_id,a=!!o;r=a?(0,g.default)({},r.published):(0,g.default)({},r.draft);var u=b.getCountry(t,r.country);return r=(0,g.default)({},r,e.isMemberOrViewer(t,r),{isPublished:a,public_id:o,country_name:u?u.name:""},(0,E.convertIdArrayToObjectArray)(r,n,E.dashFieldConvertToObject))}):[]},e.getUserDefaultProject=function(t){var e=t&&t.projects?t.projects.list:null;return e&&e[0]&&-1!==e[0].id?""+e[0].id:null},e.getEmptyProject=function(){return(0,g.default)({},x.project_definition)},e.getVanillaProject=function(t){var n=e.getEmptyProject(),r=e.getProjectStructure(t),o=M.getProfile(t);return o&&(n.country=o.country?o.country.id:null,n.organisation=o.organisation?o.organisation:null),r&&(n.interoperability_links=r.interoperability_links),(0,g.default)({},n)},e.getCurrentProjectIfExist=function(t){return e.getUserProjects(t).find(function(e){return e.id===t.projects.currentProject})},e.getCurrentProject=function(t){var n=e.getCurrentProjectIfExist(t);return n||(n=e.getCurrentPublicProject(t))||(n=e.getVanillaProject(t)),(0,g.default)({},n)},e.getCurrentPublicProject=function(t){var e=t.projects.currentPublicProject?t.projects.currentPublicProject:{};if(e&&e.id&&(e=e.published&&e.published.name?e.published:e.draft),null===e)return null;var n=e.country?b.getCountry(t,e.country):void 0;return(0,g.default)({},e,{country_name:n?n.name:e.country_name,isPublic:!0})},e.getCurrentPublicProjectDetails=function(t,n){var r=n?e.getCurrentDraft(t):e.getCurrentPublished(t),o=n?"draft":"published";return r||((r=t.projects.currentPublicProject?t.projects.currentPublicProject[o]:void 0)?(r.hasPublishedVersion=!(!t.projects.currentPublicProject.published||!t.projects.currentPublicProject.published.name),r.disableDraft=!t.projects.currentPublicProject.draft,e.parseProjectForViewMode(t,r)):(0,g.default)({},e.getVanillaProject(t)))},e.convertCountryFieldsAnswer=function(t){return t.map(function(t){switch((t=(0,g.default)({},t)).type){case 2:t.answer=parseInt(t.answer,10);break;case 3:t.answer="true"===t.answer;break;case 5:t.answer=JSON.parse(t.answer)}return t})},e.parseProjectForViewMode=function(t,n){var r=e.getEmptyProject(),o=e.getFlatProjectStructure(t),a=b.getCountry(t,n.country);return n=(0,g.default)({},r,n),n=(0,g.default)({},n,{country_name:a?a.name:""},(0,E.convertIdArrayToObjectArray)(n,o,E.dashFieldConvertToObject),{coverageType:(0,E.setCoverageType)(n.coverage,n.national_level_deployment),coverage_second_level:n.coverage_second_level?n.coverage_second_level:[{}],coverage:n.coverage?n.coverage:[{}]}),(0,g.default)({},n,(0,E.convertIdArrayToObjectArray)(n,o,[{key:"platforms.strategies",structure_key:"strategies"}]),{hasPublishedVersion:void 0===n.hasPublishedVersion||n.hasPublishedVersion})},e.getCurrentPublished=function(t){var n=e.getPublishedProjects(t).find(function(e){return e.id===t.projects.currentProject});if(n)return e.parseProjectForViewMode(t,n)},e.getCurrentDraft=function(t){var n=e.getDraftedProjects(t).find(function(e){return e.id===t.projects.currentProject});if(n)return(0,g.default)({},n,{hasPublishedVersion:!!e.getPublishedProjects(t).find(function(e){return e.id===t.projects.currentProject})})},e.getCurrentDraftInViewMode=function(t){var n=e.getCurrentDraft(t);if(n)return e.parseProjectForViewMode(t,n)},e.getStoredCountryFields=function(t){return function(n){var r=n?e.getCurrentDraft(t):e.getCurrentPublished(t);if(void 0===r){var o=t.projects.list.find(function(t){return-1===t.id});o&&(r=o.draft)}return r?r.fields:[]}},e.getProjectCountryFields=function(t){return function(n){var r=b.getCountryFields(t),o=e.convertCountryFieldsAnswer(e.getStoredCountryFields(t)(n)),a=r.map(function(t){var e=o.find(function(e){return e.schema_id===t.id});return(0,g.default)({},t,{answer:e?e.answer:t.answer})});return[].concat((0,m.default)(a))}},e.getCurrentProjectForEditing=function(t,n){var r=e.getFlatProjectStructure(t);return n||(n=e.getVanillaProject(t)),n.start_date=(0,E.convertDate)(n.start_date),n.implementation_dates=(0,E.convertDate)(n.implementation_dates),n.end_date=(0,E.convertDate)(n.end_date),n=(0,E.convertStringArrayToObjectArray)(n),n=(0,E.fillEmptyCollectionsWithDefault)(n),"object"!==(0,p.default)(n.organisation)&&(n.organisation={id:n.organisation,name:n.organisation_name}),(n=(0,g.default)({},n,e.isMemberOrViewer(t,n),(0,E.convertIdArrayToObjectArray)(n,r,E.fieldToConvertToObject),(0,E.handleInteroperabilityLinks)(n,r))).forceSetCoverage?n.forceSetCoverage=void 0:n.coverageType=(0,E.setCoverageType)(n.coverage,n.national_level_deployment),(0,g.default)({},x.project_definition,n)},e.getCurrentPublishedProjectForEditing=function(t){var n=e.getPublishedProjects(t).find(function(e){return e.id===t.projects.currentProject});if(n)return e.getCurrentProjectForEditing(t,n)},e.getCurrentEdits=function(t){var e=t.projects.editedProject;return(0,g.default)({},e,{forceSetCoverage:!!e.coverageType})},e.getCurrentDraftProjectForEditing=function(t){var n=(0,g.default)({},e.getCurrentDraft(t),e.getCurrentEdits(t));return e.getCurrentProjectForEditing(t,n)},e.getNewProjectForEditing=function(t){var n=e.getVanillaProject(t);return(0,g.default)({},n,e.getCurrentEdits(t))},e.getTeam=function(t){return t.projects.teamViewers?t.projects.teamViewers.team.map(function(e){return t.system.profiles.find(function(t){return t.id===e})}):[]},e.getViewers=function(t){return t.projects.teamViewers?t.projects.teamViewers.viewers.map(function(e){return t.system.profiles.find(function(t){return t.id===e})}):[]},e.getToolkitVersion=function(t){var e=t.projects.toolkitVersions;return e?e.slice():[]},e.getCoverageVersion=function(t){var e=t.projects.coverageVersions;return e?e.slice():[]},e.getCurrentVersion=function(t){return e.getToolkitVersion(t).length},e.getCurrentVersionDate=function(t){var n=e.getToolkitVersion(t).slice(-1)[0];return n?n.modified:null},e.getMapsAxisData=function(t){var n={labels:k.getAxis(t).map(function(t){return t.name}),data:[]},r=e.getToolkitVersion(t),o=w.getToolkitData(t),a=(0,E.getTodayString)();if(r.length>0&&(n.data=r.map(function(t){return{date:t.modified.split("T")[0],axis1:t.data[0].axis_score/100,axis2:t.data[1].axis_score/100,axis3:t.data[2].axis_score/100,axis4:t.data[3].axis_score/100,axis5:t.data[4].axis_score/100,axis6:t.data[5].axis_score/100}})),6===o.length){var u={axis1:o[0].axis_score/100,axis2:o[1].axis_score/100,axis3:o[2].axis_score/100,axis4:o[3].axis_score/100,axis5:o[4].axis_score/100,axis6:o[5].axis_score/100,date:a};n.data.push(u)}return n},e.getMapsDomainData=function(t){var n=k.getDomains(t),r=k.getAxis(t),o={labels:r.map(function(t){return t.name})},a=e.getToolkitVersion(t),u=w.getToolkitData(t),i=(0,E.getTodayString)();return r.forEach(function(t,e){if(o[t.name]={labels:n.filter(function(e){return e.axis===t.id}).map(function(t){return t.name}),data:[]},a.length>0&&(o[t.name].data=a.map(function(t){var n={};return n.date=t.modified.split("T")[0],t.data[e].domains.forEach(function(t,e){n["axis"+(e+1)]=t.domain_percentage/100}),n})),u.length>0){var r={date:i};u[e].domains.forEach(function(t,e){r["axis"+(e+1)]=t.domain_percentage/100}),o[t.name].data.push(r)}}),o},e.getCoverageData=function(t){var n=e.getCoverageVersion(t),r=e.getCurrentProject(t),o=r.coverage?r.coverage.slice():[];o.push((0,h.default)({},r.national_level_deployment)),n.push({data:o});var a=(0,E.getTodayString)();return n.reduce(function(t,e,n){return t.data[n]={},t.data[n].date=e.modified?e.modified.split("T")[0]:a,e.data.forEach(function(e){(0,y.default)(e,function(e,r){var o=["clients","facilities","health_workers"].indexOf(r);if(o>-1){var a="axis"+(o+1);t.data[n][a]=(t.data[n][a]||0)+e}})}),t},{labels:[],data:[]})},e.getSimilarProject=function(t){var n=e.getPublishedProjects(t);return t.projects.similarProjectNames?t.projects.similarProjectNames.map(function(t){return(t=(0,h.default)({},t)).isOwn=n.some(function(e){return e.id===t.id}),t}):[]},e.checkCurrentProjectValidity=function(t){var e=t.projects.currentPublicProject;return e&&""===e.public_id&&null===e.draft?{isValid:!1,id:e.id}:{isValid:!0}}},"./src/store/modules/system.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addOrganisation=e.searchOrganisation=e.getSubLevelTypes=e.getDomainsForThematic=e.getThematicOverview=e.getQuestions=e.getDomains=e.getAxis=e.getLandingPageDefaults=e.getSearchFilters=e.getLanguages=e.getSearchResult=e.getUserProfiles=void 0;var r,o,a=h(n("./node_modules/babel-runtime/regenerator/index.js")),u=h(n("./node_modules/babel-runtime/helpers/asyncToGenerator.js")),i=h(n("./node_modules/babel-runtime/helpers/toConsumableArray.js")),s=h(n("./node_modules/babel-runtime/helpers/extends.js"));e.searchOrganisation=(r=(0,u.default)(a.default.mark(function t(e){var n,r;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.default.get("/api/organisations/?name="+e);case 2:return n=t.sent,r=n.data,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)})),function(t){return r.apply(this,arguments)}),e.addOrganisation=(o=(0,u.default)(a.default.mark(function t(e){var n,r;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.default.post("/api/organisations/",{name:e});case 2:return n=t.sent,r=n.data,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)})),function(t){return o.apply(this,arguments)});e.loadUserProfiles=function(){var t=this;return e=(0,u.default)(a.default.mark(function e(n){var r,o;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.default.get("/api/userprofiles/");case 2:r=t.sent,o=r.data,n({type:"SET_USER_PROFILES",profiles:o});case 5:case"end":return t.stop()}},e,t)})),function(t){return e.apply(this,arguments)};var e},e.loadStaticData=function(){var t=this;return e=(0,u.default)(a.default.mark(function e(n){var r,o;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.default.get("/api/static-data/");case 2:r=t.sent,o=r.data,n({type:"SET_AXIS",axis:o.axis}),n({type:"SET_DOMAINS",domains:o.domains}),n({type:"SET_LANDING_PAGE_DEFAULTS",landing_page_defaults:o.landing_page_defaults}),n({type:"SET_LANGUAGES",languages:o.languages}),n({type:"SET_SEARCH_FILTERS",search_filters:o.search_filters}),n({type:"SET_THEMATIC_OVERVIEW",thematic_overview:o.thematic_overview}),n({type:"SET_TOOLKIT_QUESTIONS",toolkit_questions:o.toolkit_questions}),n({type:"SET_SUB_LEVEL_TYPES",sub_level_types:o.sub_level_types});case 12:case"end":return t.stop()}},e,t)})),function(t){return e.apply(this,arguments)};var e},e.searchProjects=function(t,e){var n=this;return r=(0,u.default)(a.default.mark(function r(o){var u,i,s,c,f;return a.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(i in u={query:t},e)s=e[i],u[s.name]=s.value;return n.next=4,l.default.post("/api/search/projects/",u);case 4:c=n.sent,f=c.data,o({type:"SET_PROJECT_SEARCH_RESULT",projects:f});case 7:case"end":return n.stop()}},r,n)})),function(t){return r.apply(this,arguments)};var r},e.unsetSearchedProjects=function(){return function(t){t({type:"UNSET_PROJECT_SEARCH_RESULT"})}},e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,e=arguments[1];switch(e.type){case"SET_USER_PROFILES":return(0,s.default)({},t,{profiles:e.profiles});case"SET_PROJECT_SEARCH_RESULT":return(0,s.default)({},t,{projectSearch:e.projects});case"UNSET_PROJECT_SEARCH_RESULT":return(0,s.default)({},t,{projectSearch:[]});case"SET_AXIS":return(0,s.default)({},t,{axis:e.axis});case"SET_DOMAINS":return(0,s.default)({},t,{domains:e.domains});case"SET_LANDING_PAGE_DEFAULTS":return(0,s.default)({},t,{landing_page_defaults:e.landing_page_defaults});case"SET_LANGUAGES":return(0,s.default)({},t,{languages:e.languages});case"SET_SEARCH_FILTERS":return(0,s.default)({},t,{search_filters:e.search_filters});case"SET_THEMATIC_OVERVIEW":return(0,s.default)({},t,{thematic_overview:e.thematic_overview});case"SET_TOOLKIT_QUESTIONS":return(0,s.default)({},t,{toolkit_questions:e.toolkit_questions});case"SET_SUB_LEVEL_TYPES":return(0,s.default)({},t,{sub_level_types:e.sub_level_types});default:return t}};var l=h(n("./src/plugins/axios.js")),c=d(n("./src/store/modules/projects.js")),f=d(n("./src/store/modules/countries.js"));function d(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function h(t){return t&&t.__esModule?t:{default:t}}var p={profiles:[],search_filters:[],languages:[],projectSearch:[],thematic_overview:[],axis:[],domains:[],landing_page_defaults:{},toolkit_questions:[],sub_level_types:[]};e.getUserProfiles=function(t){return t.system.profiles?t.system.profiles.slice():[]},e.getSearchResult=function(t){return(t.system.projectSearch?t.system.projectSearch:[]).map(function(e){var n=f.getCountry(t,e.country);return(0,s.default)({},e,c.isMemberOrViewer(t,e),{country_name:n?n.name:""})})},e.getLanguages=function(t){return t.system.languages.map(function(t){return(0,s.default)({},t,{flag:"/static/flags/"+t.flag})})},e.getSearchFilters=function(t){return[].concat((0,i.default)(t.system.search_filters))},e.getLandingPageDefaults=function(t){return(0,s.default)({},t.system.landing_page_defaults)},e.getAxis=function(t){return[].concat((0,i.default)(t.system.axis))},e.getDomains=function(t){return[].concat((0,i.default)(t.system.domains))},e.getQuestions=function(t){return[].concat((0,i.default)(t.system.toolkit_questions))},e.getThematicOverview=function(t){var e=t.system.thematic_overview;return e.categories.map(function(t){return(0,s.default)({},t,{domains:e.sub_categories.filter(function(e){return e.category===t.id})})})},e.getDomainsForThematic=function(t){var n=e.getAxis(t),r=e.getDomains(t),o=e.getThematicOverview(t);return[].concat((0,i.default)(o.map(function(t){return{name:t.name,domains:t.domains}})),(0,i.default)(n.map(function(t){return{name:t.name,domains:r.filter(function(e){return e.axis===t.id}).map(function(t){return{name:t.name}})}})))},e.getSubLevelTypes=function(t){return[].concat((0,i.default)(t.system.sub_level_types.map(function(t){return(0,s.default)({},t)})))}},"./src/store/modules/toolkit.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getAxisDetail=e.getDomainStructure=e.getStructure=e.getToolkitData=void 0;var r=c(n("./node_modules/babel-runtime/regenerator/index.js")),o=c(n("./node_modules/babel-runtime/core-js/promise.js")),a=c(n("./node_modules/babel-runtime/helpers/asyncToGenerator.js")),u=c(n("./node_modules/babel-runtime/helpers/extends.js"));e.loadToolkitData=d,e.saveAnswer=function(t){var e=this;return n=(0,a.default)(r.default.mark(function n(a,u){var i,l,c;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(i=u().projects.currentProject)){e.next=9;break}return e.next=5,s.default.post("/api/projects/"+i+"/toolkit/score/",t);case 5:l=e.sent,c=l.data,a({type:"UPDATE_TOOLKIT_DATA",data:c}),a(d());case 9:return e.abrupt("return",o.default.resolve());case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",o.default.reject(e.t0));case 16:case"end":return e.stop()}},n,e,[[0,12]])})),function(t,e){return n.apply(this,arguments)};var n},e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,e=arguments[1];switch(e.type){case"SET_TOOLKIT_DATA":return(0,u.default)({},t,{toolkitData:e.data});case"UPDATE_TOOLKIT_DATA":var n=e.data,r=(0,i.default)(t.toolkitData);return r[n.axis].domains[n.domain].questions[n.question].answers[n.answer]=n.value,(0,u.default)({},t,{toolkitData:r});case"CLEAR_TOOLKIT_DATA":return(0,u.default)({},f);default:return t}};var i=c(n("./node_modules/lodash/cloneDeep.js")),s=c(n("./src/plugins/axios.js")),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n("./src/store/modules/system.js"));function c(t){return t&&t.__esModule?t:{default:t}}var f={toolkitData:[]};e.getToolkitData=function(t){var e=t.toolkit.toolkitData;return e?(0,i.default)(e):[]},e.getStructure=function(t){var e=l.getAxis(t),n=l.getDomains(t),r=l.getQuestions(t);return e.map(function(t){return(0,u.default)({},t,{domains:n.filter(function(e){return e.axis===t.id}).map(function(t){return(0,u.default)({},t,{questions:r.filter(function(e){return e.domain===t.id}).map(function(t){return(0,u.default)({},t,{id:t.domain+"-"+t.question_id})})})})})})},e.getDomainStructure=function(t,n,r){var o=e.getStructure(t);return o&&o[n]&&o[n].domains[r]?o[n].domains[r]:{}},e.getAxisDetail=function(t,n){var r=l.getAxis(t).find(function(t){return t.id===n}),o=l.getDomains(t),a=e.getToolkitData(t).find(function(t){return t.id===n}),i=a?a.domains.map(function(t,e){return(0,u.default)({},t,o.find(function(e){return e.id===t.id}),{index:e})}):[];return(0,u.default)({},r,a,{domains:i})};function d(){var t,e=this;return t=(0,a.default)(r.default.mark(function t(n,a){var u,i,l;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(u=a().projects.currentProject)){t.next=8;break}return t.next=5,s.default.get("/api/projects/"+u+"/toolkit/data/");case 5:i=t.sent,l=i.data,n({type:"SET_TOOLKIT_DATA",data:l});case 8:return t.abrupt("return",o.default.resolve());case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",o.default.reject(t.t0));case 14:case"end":return t.stop()}},t,e,[[0,11]])})),function(e,n){return t.apply(this,arguments)}}},"./src/store/modules/user.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resetPassword=e.verifyEmail=e.handleProfile=e.storeData=e.isSuperUser=e.getUserLanguage=e.getProfile=void 0;var r,o,a=y(n("./node_modules/babel-runtime/core-js/object/assign.js")),u=y(n("./node_modules/babel-runtime/core-js/promise.js")),i=y(n("./node_modules/babel-runtime/regenerator/index.js")),s=y(n("./node_modules/babel-runtime/helpers/asyncToGenerator.js")),l=y(n("./node_modules/babel-runtime/helpers/extends.js"));e.verifyEmail=(r=(0,s.default)(i.default.mark(function t(e){var n,r;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.default.post("/api/rest-auth/registration/verify-email/",e);case 2:return n=t.sent,r=n.data,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)})),function(t){return r.apply(this,arguments)}),e.resetPassword=(o=(0,s.default)(i.default.mark(function t(e){var n,r;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.default.post("/api/rest-auth/password/reset/",e);case 2:return n=t.sent,r=n.data,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)})),function(t){return o.apply(this,arguments)});e.loadProfile=function(){var t=this;return n=(0,s.default)(i.default.mark(function n(r,o){var a,u,s,l;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=o(),!_.get("login")||a.user.profile){t.next=10;break}return u=a.user.user_profile_id||_.get("user_profile_id"),t.next=5,c.default.get("/api/userprofiles/"+u+"/");case 5:s=t.sent,l=s.data,l=e.handleProfile(l),(0,g.setLanguage)(l.language),r({type:"SET_PROFILE",profile:l});case 10:case"end":return t.stop()}},n,t)})),function(t,e){return n.apply(this,arguments)};var n},e.doSignup=function(t){var n=this,r=t.account_type,o=t.password1,a=t.password2,l=t.email;return f=(0,s.default)(i.default.mark(function t(s){var f,d,h;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.default.post("/api/rest-auth/registration/",{account_type:r,password1:o,password2:a,email:l});case 3:return f=t.sent,(d=f.data).token=d.key,d.is_superuser=!1,e.storeData(d,l),s({type:"SET_USER",user:d}),t.next=11,s(e.loadProfile());case 11:return t.abrupt("return",u.default.resolve());case 14:return t.prev=14,t.t0=t.catch(0),h=t.t0.response,t.abrupt("return",u.default.reject(h.data));case 18:case"end":return t.stop()}},t,n,[[0,14]])})),function(t){return f.apply(this,arguments)};var f},e.doLogin=function(t){var n=this,r=t.username,o=t.password;return a=(0,s.default)(i.default.mark(function t(a){var s,l,f;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.default.post("/api/api-token-auth/",{username:r,password:o});case 3:return s=t.sent,l=s.data,e.storeData(l,r),a({type:"SET_USER",user:l}),t.next=9,a(e.loadProfile());case 9:return t.next=11,a(h.loadUserProjects());case 11:return t.abrupt("return",u.default.resolve());case 14:return t.prev=14,t.t0=t.catch(0),f=t.t0.response,t.abrupt("return",u.default.reject(f.data));case 18:case"end":return t.stop()}},t,n,[[0,14]])})),function(t){return a.apply(this,arguments)};var a},e.saveProfile=function(t){var n=this;return r=(0,s.default)(i.default.mark(function r(o,u){var s,l,f,d,m,v,y;return i.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return s=u(),l=s.user.user_profile_id||_.get("user_profile_id"),f=l?"/api/userprofiles/"+l+"/":"/api/userprofiles/",d=l?"put":"post",(m=(0,a.default)({},t)).organisation=m.organisation.id,m.country=m.country.id,n.next=9,c.default[d](f,m);case 9:v=n.sent,y=v.data,y=e.handleProfile(y),(0,g.setLanguage)(y.language),o({type:"SET_PROFILE",profile:y}),o(p.loadStaticData()),o(h.loadProjectStructure(!0));case 16:case"end":return n.stop()}},r,n)})),function(t,e){return r.apply(this,arguments)};var r},e.doLogout=function(){return function(t){_.clear(),c.default.unSetAuthToken();try{t({type:"CLEAR_USER_PROJECTS"}),t({type:"CLEAR_TOOLKIT_DATA"}),t({type:"CLEAR_CMS_DATA"})}catch(t){console.warn(t)}try{t({type:"UNSET_USER"})}catch(t){console.warn(t)}}},e.updateTeamViewers=function(t,e){return function(n,r){var o=r().user.profile.member,a=r().user.profile.viewer,u=(0,f.default)(o,t),i=(0,f.default)(a,e);u.length===o.length&&i.length===a.length||n({type:"UPDATE_TEAM_VIEWER",member:u,viewer:i})}},e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];switch(e.type){case"SET_USER":return(0,l.default)({},t,e.user);case"SET_PROFILE":var n=t.profile?(0,l.default)({},t.profile,e.profile):(0,l.default)({},e.profile);return(0,l.default)({},t,{profile:n});case"UPDATE_TEAM_VIEWER":var r=t.profile||{};return r.member=e.member,r.viewer=e.viewer,(0,l.default)({},t,{profile:r});case"UNSET_USER":return{};default:return t}};var c=y(n("./src/plugins/axios.js")),f=y(n("./node_modules/lodash/union.js")),d=y(n("./src/Storage.js")),h=v(n("./src/store/modules/projects.js")),p=v(n("./src/store/modules/system.js")),m=v(n("./src/store/modules/countries.js")),g=n("./src/plugins/language.js");function v(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function y(t){return t&&t.__esModule?t:{default:t}}var _=new d.default;e.getProfile=function(t){if(t.user.profile){var e=m.getCountriesList(t),n=void 0;return e&&e.length>0&&(n=(0,l.default)({},e.find(function(e){return e.id===t.user.profile.country}))),(0,l.default)({},t.user.profile,{country:n})}},e.getUserLanguage=function(t){var e=p.getLanguages(t),n=t&&t.user&&t.user.profile?t.user.profile.language:void 0;return e.find(function(t){return t.code===n})},e.isSuperUser=function(t){return t.user.profile.is_superuser},e.storeData=function(t,e){_.set("token",t.token),_.set("user_profile_id",t.user_profile_id),_.set("is_superuser",t.is_superuser),_.set("email",e),_.set("login",!0),c.default.setAuthToken(t.token)},e.handleProfile=function(t){return t.email=_.get("email"),t.is_superuser=_.get("is_superuser"),t.organisation?(t.organisation_id=t.organisation,t.organisation={name:t.organisation_name||"",id:t.organisation_id}):t.organisation=null,t}},"./src/store/project_utils.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTodayString=e.dashFieldConvertToObject=e.fieldToConvertToObject=e.fieldToForceToInt=e.fieldsToMapWithId=e.fieldsToConvertToObjectArray=e.fieldsWithCustomValue=void 0;var r=p(n("./node_modules/babel-runtime/core-js/number/is-nan.js")),o=p(n("./node_modules/babel-runtime/core-js/object/keys.js")),a=p(n("./node_modules/babel-runtime/core-js/object/assign.js")),u=p(n("./node_modules/babel-runtime/helpers/extends.js"));e.concatCustom=_,e.mergeCustomAndDefault=function(t){var e={};return m.forEach(function(n){e[n]=_(t[n])}),(0,u.default)({},e)},e.parsePlatformCollection=function(t){return t.platforms.map(function(t){var e=t.id,n=t.strategies&&t.strategies.length>0?t.strategies:[];return t={},e&&(t.id=e),n&&(t.strategies=n.map(function(t){return t.id}).filter(function(t){return t})),e?t:void 0})},e.convertDate=function(t){if(t)return(0,h.default)(t,"YYYY-MM-DDTHH:mm:ss.SSSZ").toDate();return},e.convertStringArrayToObjectArray=function(t){return g.forEach(function(e){t[e]&&(t[e]=t[e].map(function(t){return"string"==typeof t?{value:t}:t}),0===t[e].length&&t[e].push({}))}),(0,a.default)({},t)},e.convertObjectArrayToStringArray=function(t){var e={};return g.forEach(function(n){t[n]&&(e[n]=t[n].map(function(t){return t.value}).filter(function(t){return t}))}),(0,u.default)({},e)},e.fillEmptyCollectionsWithDefault=function(t){return t.coverage=(0,c.default)(t.coverage)?[{}]:t.coverage,t.coverage_second_level=(0,c.default)(t.coverage_second_level)?[{}]:t.coverage_second_level,t.platforms=(0,c.default)(t.platforms)?[{}]:t.platforms,(0,u.default)({},t)},e.setCoverageType=function(t,e){var n=null;e&&(e.clients||e.facilities||e.health_workers)?n=2:t&&t.length>1?n=1:t&&Array.isArray(t)&&t[0]&&t[0].district&&(n=1);return n},e.createDateFields=function(t){var e=t.start_date?(0,h.default)(t.start_date).toJSON():null,n=t.end_date?(0,h.default)(t.end_date).toJSON():null,r=t.implementation_dates?(0,h.default)(t.implementation_dates).toJSON():null;return{start_date:e,end_date:n,implementation_dates:r}},e.deleteUndefinedAndDoubleDollarKeys=j,e.removeEmptyChildObjects=function(t){var e={};return["coverage","platforms","his_bucket","hsc_challenges","publications","links","reports"].forEach(function(n){t[n]&&(e[n]=t[n].filter(function(t){return"number"==typeof t||((t=j(t=(0,u.default)({},t))).hasOwnProperty("available")&&delete t.available,(0,o.default)(t).length>0)}))}),(0,u.default)({},e)},e.removeKeysWithoutValues=function(t){var e={};for(var n in t){var r=t[n];(null!==r&&void 0!==r&&""!==r||(0,s.default)(r)&&(0,d.default)(r).some(function(t){return!(0,l.default)(t)}))&&(e[n]=r)}return e},e.retainNationalOrDistrictCoverage=function(t){var e=null,n=null;1===t.coverageType?n=t.coverage.map(function(t){return(0,u.default)({},t)}):e=(0,u.default)({},t.national_level_deployment);return{national_level_deployment:e,coverage:n}},e.extractIdFromObjects=function(t){var e={};return v.forEach(function(n){e[n]=t[n].map(function(t){return t.id}).filter(function(t){return t})}),e},e.parseOutInteroperabilityLinks=function(t){return{interoperability_links:t.interoperability_links.filter(function(t){return t&&t.id}).map(function(t){return{id:t.id,link:t.link,selected:t.selected}})}},e.convertIdArrayToObjectArray=function(t,e,n){var r={};return n.forEach(function(n){var o=n.structure_key;if(2===(n=n.key.split(".")).length){var a=n[0];n=n[1],r[a]=t[a].map(function(t){return(t=(0,u.default)({},t))[n]&&(t[n]=x(t[n],e,n,o)),t})}else 1===n.length&&(n=n[0],r[n]=x(t[n],e,n,o))}),r},e.handleInteroperabilityLinks=function(t,e){return{interoperability_links:e.interoperability_links.map(function(e){var n=t.interoperability_links.find(function(t){return t.id===e.id}),r=n||{},o=r.selected,a=r.link;return(0,u.default)({},e,{selected:o,link:a})})}},e.retainOnlyIds=function(t){var e={};return y.forEach(function(n){e[n]=t[n].filter(function(t){return!(0,r.default)(parseInt(t,10))})}),e},e.handleNationalLevelCoverage=function(t){var e=t.national_level_deployment;return{national_level_deployment:b((0,u.default)({},e))}},e.handleCoverage=function(t){return(t=t||[]).map(function(t){return b(t)}).filter(function(t){return t})};var i=p(n("./node_modules/lodash/concat.js")),s=p(n("./node_modules/lodash/isPlainObject.js")),l=p(n("./node_modules/lodash/isNull.js")),c=p(n("./node_modules/lodash/isEmpty.js")),f=p(n("./node_modules/lodash/isNil.js")),d=p(n("./node_modules/lodash/values.js")),h=p(n("./node_modules/moment/moment.js"));function p(t){return t&&t.__esModule?t:{default:t}}var m=e.fieldsWithCustomValue=["interoperability_standards","licenses"],g=e.fieldsToConvertToObjectArray=["donors","implementing_partners"],v=e.fieldsToMapWithId=["health_focus_areas"],y=e.fieldToForceToInt=["his_bucket","hsc_challenges"];e.fieldToConvertToObject=[{key:"platforms.strategies",structure_key:"strategies"},{key:"health_focus_areas",structure_key:"health_focus_areas"}],e.dashFieldConvertToObject=[{key:"health_focus_areas",structure_key:"health_focus_areas"},{key:"platforms",structure_key:"technology_platforms"},{key:"licenses",structure_key:"licenses"},{key:"hsc_challenges",structure_key:"hsc_challenges"},{key:"his_bucket",structure_key:"his_bucket"},{key:"interoperability_standards",structure_key:"interoperability_standards"}],e.getTodayString=function(){var t=new Date;return[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-")};function _(t){return(0,i.default)(t.custom,t.standard).filter(function(t){return!(0,f.default)(t)&&!(0,c.default)(t)})}function j(t){var e={};return(0,o.default)(t).forEach(function(n){void 0!==t[n]&&"$$hashKey"!==n&&(e[n]=t[n])}),e}function x(t,e,n,o){return t.map(function(t){return!(0,r.default)(parseInt(t,10))?e[o].find(function(e){return e.id===t}):(0,u.default)({},t,e[o].find(function(e){return e.id===t.id}))}).filter(function(t){return t})}function b(t){if(t={district:t.district,clients:t.clients,health_workers:t.health_workers,facilities:t.facilities,facilities_list:t.facilities_list},!((0,f.default)(t.clients)&&(0,f.default)(t.health_workers)&&(0,f.default)(t.facilities)))return t.clients=(0,f.default)(t.clients)?0:t.clients,t.health_workers=(0,f.default)(t.health_workers)?0:t.health_workers,t.facilities=(0,f.default)(t.facilities)?0:t.facilities,t}},"./src/store/static_data/project_definition.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.project_definition={name:null,organisation:{id:void 0,name:""},country:null,countryName:null,coverage:[{}],coverage_second_level:[{}],coverageType:1,start_date:void 0,end_date:void 0,platforms:[{name:null,strategies:[]}],licenses:[],fields:[],donors:[{}],application:[],reports:[{}],publications:[{}],links:[{}],contact_name:null,contact_email:null,implementation_overview:null,implementation_dates:null,geographic_scope:null,interoperability_links:[],interoperability_standards:[],wiki:"",repository:"",mobile_application:"",implementing_partners:[{}],data_exchanges:[],his_bucket:[],hsc_challenges:[],health_focus_areas:[],government_investor:void 0}}}]);