<md-card md-whiteframe="2" layout="column" layout-align="start start" ng-click="vm.cardClick()" ng-class="{'show-pointer' : !vm.showDetails}" >

    <div class="project-container" layout="row">

        <!-- TODO: Logo, if nothing, use default background -->
        <div class="project-logo" layout="column" layout-align="center center" ng-if="vm.showLogo">
            <md-icon>language</md-icon>
        </div>

        <div class="text-container" layout="column">

            <div ng-show="vm.member" ng-class="{'my-star':vm.member}"><md-icon>grade</md-icon></div>
            <div ng-show="vm.viewer && !vm.member" ng-class="{'my-eye': vm.viewer}"><md-icon>visibility</md-icon></div>

            <div class="upper" layout="row">
                <div class="basic" flex layout="column">
                    <span flex class="name">{{vm.ngModel.name}}</span>
                    <span flex class="org-country">{{vm.ngModel.organisation_name}} | {{vm.ngModel.countryName}} {{vm.ngModel.country_name}}</span>
                </div>
                <div ng-if="vm.showDetails" class="donors" flex="no-grow">
                    <span class="nr">
                        {{vm.ngModel.donors.length}}
                    </span>
                    <span class="static">Donors</span>
                </div>
                <!--div class="followers">
                    <span class="nr">
                        {{vm.ngModel.followersNr}}
                        <md-icon class="md-icons" ng-class="vm.ngModel.followersTrend">trending_{{vm.ngModel.followersTrend}}</md-icon>
                    </span>
                    <span class="static">Followers</span>
                </div-->
            </div>

            <div ng-if="vm.showDetails" class="lower" layout="row" layout-align="start center">
                <div flex class="description">
                    {{vm.ngModel.goals_to_scale}}
                </div>

                <div class="buttons" layout="row">
                  <md-button class="md-primary md-no-ink" ng-if="!vm.ownProject" ng-href="{{vm.ngModel.projectUrl}}">Show more </md-button>

                  <md-button class="md-primary md-no-ink" ng-if="vm.ownProject" ng-click="vm.goToDashboard()">Dashboard</md-button>

                  <md-button class="md-primary md-no-ink" ng-if="vm.member" ng-disabled="vm.currentProject" ui-sref="editProject({appName: vm.ngModel.id})">Edit Project</md-button>
                </div>
            </div>
        </div>
    </div>

</md-card>
