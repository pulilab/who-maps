
<div id="clv-container" layout="column">

	<md-card md-whiteframe="2" class="rel">
        <div class="littleheader">COUNTRY LEVEL VIEW</div>
        <md-tabs md-border-bottom md-dynamic-height md-center-tabs="true">


            <!-- COUNTRY VIEW -->
            <md-tab label="map view">

            	<div class="tab-wrap" id="map" ng-class="{'emptyy': !vm.projectsData}">

					<md-card md-whiteframe="2" class="countrychoser">
						<md-input-container>
				        	<md-select
				        		placeholder='Select a country'
				        		ng-model="vm.selectedCountry"
				        		ng-change="vm.changeMapTo(vm.selectedCountry);">

			            		<md-option ng-repeat="country in vm.countries track by $index" ng-value="{{country}}">{{country.name}}</md-option>

					        </md-select>
				      	</md-input-container>
					</md-card>

	                <countrymap big="true"></countrymap>

            	</div>

            </md-tab>


            <!-- LIST VIEW -->
            <md-tab label="list view">
                <div class="tab-wrap" id="list">

					<div class="headercont" layout="row">

						<md-card md-whiteframe="2" class="countrychoser">
							<md-input-container>
					        	<md-select
					        		placeholder='Select a country'
					        		ng-model="vm.selectedCountry2"
					        		ng-change="vm.getProjects(vm.selectedCountry2);">

				            		<md-option ng-repeat="country in vm.countries2 track by $index" ng-value="{{country}}">{{country.name}}</md-option>

						        </md-select>
					      	</md-input-container>
						</md-card>

						<div class="starry" flex="10">
							<md-icon>grade</md-icon>
							My projects
						</div>
					</div>

					<!-- <p>{{vm.projectsData}}</p> -->

					<md-content class="projectcont" ng-hide="!vm.projectsData">

						<div class="headerrow" layout="row" layout-padding md-whiteframe="2">
							<div flex="30">Project name</div>
							<div flex="20">Country</div>
							<div flex="25">Organisation name</div>
							<div flex="25">Donors</div>
							<div flex="20">Point of Contact</div>
							<div flex="20">Overview of digital health implementation</div>
							<div flex="20">Implementing partners</div>
							<div flex="20">Geographical coverage</div>
							<div flex="20">mHealth interventions</div>
						</div>

						<div
							class="projectrow"
							layout="row"
							layout-padding
							ng-repeat="project in vm.projectsData track by $index"
							ng-class="{'own': project.own}"
							ui-sref="dashboard({ appName: project.id })">

							<div flex="30">
								<md-icon ng-show="project.own">grade</md-icon>
								{{project.name}}
							</div>
							<div flex="20" class="cap">
								{{vm.countriesLib[project.country]}}
							</div>
							<div flex="25">{{project.organisation}}</div>
							<div flex="25">
								<span ng-repeat="donor in project.donors">
									{{(donor.value || donor) + ' '}}
								</span>
							</div>

							<div flex="20"> MOCK Point of Contact</div>
							<div flex="20"> MOCK Overview of digital health implementation</div>
							<div flex="20"> MOCK Implememnting partners</div>
							<div flex="20"> MOCK Geographical coverage</div>
							<div flex="20"> MOCK mHealth interventions</div>

						</div>
						<div ng-if="!vm.projectsData.length" class="projectrow" layout="row" layout-padding>
							<div flex>There is no project to show in this country.</div>
						</div>
					</md-content>

                </div>
            </md-tab>
        </md-tabs>
	</md-card>

	<disclaimer></disclaimer>
</div>

