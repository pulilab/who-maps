<md-button ng-if="vm.compactMode" ng-click="vm.toggleSearch()" class="md-icon-button" aria-label="Search" md-no-ink>
    <md-icon class="material-icons">search</md-icon>
</md-button>
<div class="search-project" ng-hide="vm.compactMode && !vm.showSearch" ng-class="{'active': vm.showSearch, 'compact': vm.compactMode}">
    <md-input-container class="searchinput md-block">
        <md-icon>search</md-icon>
        <input
            type="text"
            ng-model="vm.searchStr"
            ng-model-options="{debounce: 500}"
            ng-focus="vm.showSearch = true"
            aria-label="search input field"
            placeholder="{{ 'Type and search projects...' | translate}}">
    </md-input-container>

    <md-button
        ng-click="vm.close()"
        id="closebtn"
        class="md-icon-button md-gray md-no-ink">
        <md-icon>close</md-icon>
    </md-button>

    <md-card
        layout="column"
        class="searchcard md-whiteframe-24dp"
        ng-if="vm.showSearch">

        <div class="md-block filters">
          <md-subheader class="md-no-sticky">
            <translate>Set filters:</translate>
          </md-subheader>

          <div>
              <div layout="row" layout-wrap flex>
                  <div ng-repeat="filter in vm.filters" flex="33">
                      <md-checkbox class="md-primary small" ng-model="filter.value" ng-change="vm.checkboxChecks(filter)">
                          {{filter.displayName}}
                      </md-checkbox>
                  </div>
              </div>
          </div>
        </div>

        <div class="md-block results" ng-show="vm.projects && vm.projects.length > 0">
          <md-subheader class="md-no-sticky">
            <translate>
              Results ({{vm.resultNr}} out of {{vm.totalNr}}):
            </translate>
          </md-subheader>

          <project-component
              ng-repeat="project in vm.projects | limitTo: 5"
              project="project"
              show-version="false">
          </project-component>
        </div>
    </md-card>
</div>
