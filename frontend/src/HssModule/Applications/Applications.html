<md-grid-list md-cols="11" md-gutter="0px" md-row-height="4em">

    <md-grid-tile md-colspan="9" md-rowspan="1" >
        <div class="header" layout="row" layout-align="start center">
            COMMON mHEALTH & ICT APPLICATIONS
        </div>
    </md-grid-tile>

    <md-grid-tile md-colspan="2" md-rowspan="1" class="empty"> </md-grid-tile>

    <md-grid-tile md-colspan="{{tile.colSpan}}" md-rowspan="{{tile.rowSpan}}" ng-repeat="tile in vm.applicationRow" ng-if="!tile.disabled">
        <div class="tile" ng-class="tile.classGenerator(tile)">

            <div ng-if="tile.isHeader" class="">
                <div class="app-number">{{tile.applicationId}}</div>
                <div class="app-button">
                    <md-button class="md-button-override"  ng-click="tile.clickHandler(tile)">
                        <span>{{tile.content}}</span>
                        <md-icon class="material-icons" ng-show="tile.subApplications.length > 0 && vm.editMode ">keyboard_arrow_down</md-icon>
                    </md-button>
                </div>
            </div>

            <div ng-if="tile.isInput "  ng-click="tile.clickHandler(tile)" >

                <div ng-if="vm.editMode && tile.bubbleDrawn && tile.activated">
                    <div class="app-number white-number">{{tile.applicationId}}</div>
                    <md-input-container  md-no-float class="" >
                        <input aria-label="tile content" ng-model="tile.content" ng-keydown="vm.inputHandler(tile, $event)">
                    </md-input-container>
                </div>

                <div ng-if="!vm.editMode && tile.content && tile.activated">
                    <div class="app-number white-number">{{tile.applicationId}}</div>
                    <div class="app-text" >{{tile.content}}</div>
                </div>

                <div ng-if="vm.editMode && !tile.bubbleDrawn " layout="row" layout-align="center center">
                    <svg width="50" height="50" ng-if="tile.activated">
                        <circle r="25" cx="25" cy="25" fill="green"></circle>
                    </svg>
                    <svg width="50" height="50" ng-if="!tile.activated">
                        <circle r="25" cx="25" cy="25" fill="red"></circle>
                    </svg>
                </div>
            </div>

            <div ng-if="tile.isSelect && tile.rowEnabled">
                <div ng-if="!vm.editMode">
                    <div ng-repeat="tax in tile.content">
                        {{tax}}
                    </div>
                </div>
                <div ng-if="vm.editMode" >
                    <md-input-container >
                        <md-select ng-model="tile.content" aria-label="taxonomy-option" multiple="true">
                            <div ng-repeat="constraintClass in vm.selectedConstraints | filter:{active: true}" >
                                <span>{{constraintClass.name}}</span>
                                <md-option ng-repeat="option in constraintClass.taxonomy" value="{{option}}">
                                    {{option}}
                                </md-option>
                            </div>
                        </md-select>
                    </md-input-container>
                </div>
            </div>

        </div>
    </md-grid-tile>

</md-grid-list>