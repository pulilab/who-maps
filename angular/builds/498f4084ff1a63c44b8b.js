(window.webpackJsonp=window.webpackJsonp||[]).push([[51,4,12,13,16,17,18],{"./node_modules/@uirouter/core/lib/common/common.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/common/predicates.js"),o=r("./node_modules/@uirouter/core/lib/common/hof.js"),i=r("./node_modules/@uirouter/core/lib/common/coreservices.js"),s=("undefined"==typeof window?{}:window).angular||{};t.fromJson=s.fromJson||JSON.parse.bind(JSON),t.toJson=s.toJson||JSON.stringify.bind(JSON),t.copy=s.copy||function(e,r){r&&Object.keys(r).forEach(function(e){return delete r[e]});r||(r={});return t.extend(r,e)},t.forEach=s.forEach||function(e,t,r){if(n.isArray(e))return e.forEach(t,r);Object.keys(e).forEach(function(r){return t(e[r],r)})},t.extend=Object.assign||h,t.equals=s.equals||v,t.identity=function(e){return e},t.noop=function(){},t.createProxyFunctions=function(e,t,r,n,o){void 0===o&&(o=!1);var i=function(t){return e()[t].bind(r())};return(n=n||Object.keys(e())).reduce(function(e,r){var n;return e[r]=o?(n=r,function(){return t[n]=i(n),t[n].apply(null,arguments)}):i(r),e},t)},t.inherit=function(e,r){return t.extend(Object.create(e),r)};function u(e,t){return-1!==e.indexOf(t)}function a(e,t){var r=e.indexOf(t);return r>=0&&e.splice(r,1),e}function c(e,t){return e.push(t),t}function l(e,t){var r={};for(var n in e)-1!==t.indexOf(n)&&(r[n]=e[n]);return r}function d(e,r){var o=n.isArray(e)?[]:{};return t.forEach(e,function(e,t){return o[t]=r(e,t)}),o}function f(e,t){return e.push(t),e}function m(e,t){return void 0===t&&(t="assert failure"),function(r){var o=e(r);if(!o)throw new Error(n.isFunction(t)?t(r):t);return o}}function p(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return[];var r,n=e.reduce(function(e,t){return Math.min(t.length,e)},9007199254740991),o=[];for(r=0;r<n;r++)switch(e.length){case 1:o.push([e[0][r]]);break;case 2:o.push([e[0][r],e[1][r]]);break;case 3:o.push([e[0][r],e[1][r],e[2][r]]);break;case 4:o.push([e[0][r],e[1][r],e[2][r],e[3][r]]);break;default:o.push(e.map(function(e){return e[r]}))}return o}function h(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];if(r)for(var n=Object.keys(r),o=0;o<n.length;o++)e[n[o]]=r[n[o]]}return e}function v(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;var r=typeof e;if(r!==typeof t||"object"!==r)return!1;var i,s,u=[e,t];if(o.all(n.isArray)(u))return s=t,(i=e).length===s.length&&p(i,s).reduce(function(e,t){return e&&v(t[0],t[1])},!0);if(o.all(n.isDate)(u))return e.getTime()===t.getTime();if(o.all(n.isRegExp)(u))return e.toString()===t.toString();if(o.all(n.isFunction)(u))return!0;if([n.isFunction,n.isArray,n.isDate,n.isRegExp].map(o.any).reduce(function(e,t){return e||!!t(u)},!1))return!1;var a,c={};for(a in e){if(!v(e[a],t[a]))return!1;c[a]=!0}for(a in t)if(!c[a])return!1;return!0}t.inArray=o.curry(u),t._inArray=u,t.removeFrom=o.curry(a),t._removeFrom=a,t.pushTo=o.curry(c),t._pushTo=c,t.deregAll=function(e){return e.slice().forEach(function(r){"function"==typeof r&&r(),t.removeFrom(e,r)})},t.defaults=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var o=r.concat({}).reverse(),i=t.extend.apply(null,o);return t.extend({},i,l(e||{},Object.keys(i)))},t.mergeR=function(e,r){return t.extend(e,r)},t.ancestors=function(e,t){var r=[];for(var n in e.path){if(e.path[n]!==t.path[n])break;r.push(e.path[n])}return r},t.pick=l,t.omit=function(e,r){return Object.keys(e).filter(o.not(t.inArray(r))).reduce(function(t,r){return t[r]=e[r],t},{})},t.pluck=function(e,t){return d(e,o.prop(t))},t.filter=function(e,r){var o=n.isArray(e),i=o?[]:{},s=o?function(e){return i.push(e)}:function(e,t){return i[t]=e};return t.forEach(e,function(e,t){r(e,t)&&s(e,t)}),i},t.find=function(e,r){var n;return t.forEach(e,function(e,t){n||r(e,t)&&(n=e)}),n},t.mapObj=d,t.map=d,t.values=function(e){return Object.keys(e).map(function(t){return e[t]})},t.allTrueR=function(e,t){return e&&t},t.anyTrueR=function(e,t){return e||t},t.unnestR=function(e,t){return e.concat(t)},t.flattenR=function(e,r){return n.isArray(r)?e.concat(r.reduce(t.flattenR,[])):f(e,r)},t.pushR=f,t.uniqR=function(e,r){return t.inArray(e,r)?e:f(e,r)},t.unnest=function(e){return e.reduce(t.unnestR,[])},t.flatten=function(e){return e.reduce(t.flattenR,[])},t.assertPredicate=m,t.assertMap=m,t.assertFn=m,t.pairs=function(e){return Object.keys(e).map(function(t){return[t,e[t]]})},t.arrayTuples=p,t.applyPairs=function(e,t){var r,o;if(n.isArray(t)&&(r=t[0],o=t[1]),!n.isString(r))throw new Error("invalid parameters to applyPairs");return e[r]=o,e},t.tail=function(e){return e.length&&e[e.length-1]||void 0},t._extend=h,t.sortBy=function(e,t){return void 0===t&&(t=o.val(!0)),function(r,n){return t(r)&&t(n)?e(r)-e(n):0}},t.composeSort=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t,r){return e.reduce(function(e,n){return e||n(t,r)},0)}},t.silenceUncaughtInPromise=function(e){return e.catch(function(e){return 0})&&e},t.silentRejection=function(e){return t.silenceUncaughtInPromise(i.services.$q.reject(e))}},"./node_modules/@uirouter/core/lib/common/coreservices.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notImplemented=function(e){return function(){throw new Error(e+"(): No coreservices implementation for UI-Router is loaded.")}};var n={$q:void 0,$injector:void 0};t.services=n},"./node_modules/@uirouter/core/lib/common/glob.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.text=e,this.glob=e.split(".");var t=this.text.split(".").map(function(e){return"**"===e?"(?:|(?:\\.[^.]*)*)":"*"===e?"\\.[^.]*":"\\."+e}).join("");this.regexp=new RegExp("^"+t+"$")}return e.prototype.matches=function(e){return this.regexp.test("."+e)},e.is=function(e){return!!/[!,*]+/.exec(e)},e.fromString=function(t){return e.is(t)?new e(t):null},e}();t.Glob=n},"./node_modules/@uirouter/core/lib/common/hof.js":function(e,t,r){"use strict";function n(e){var t=[].slice.apply(arguments,[1]),r=e.length;return function t(n){return n.length>=r?e.apply(null,n):function(){return t(n.concat([].slice.apply(arguments)))}}(t)}function o(){var e=arguments,t=e.length-1;return function(){for(var r=t,n=e[t].apply(this,arguments);r--;)n=e[r].call(this,n);return n}}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.apply(null,[].slice.call(arguments).reverse())}Object.defineProperty(t,"__esModule",{value:!0}),t.curry=n,t.compose=o,t.pipe=i,t.prop=function(e){return function(t){return t&&t[e]}},t.propEq=n(function(e,t,r){return r&&r[e]===t}),t.parse=function(e){return i.apply(null,e.split(".").map(t.prop))},t.not=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return!e.apply(null,t)}},t.and=function(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.apply(null,r)&&t.apply(null,r)}},t.or=function(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.apply(null,r)||t.apply(null,r)}},t.all=function(e){return function(t){return t.reduce(function(t,r){return t&&!!e(r)},!0)}},t.any=function(e){return function(t){return t.reduce(function(t,r){return t||!!e(r)},!1)}},t.is=function(e){return function(t){return null!=t&&t.constructor===e||t instanceof e}},t.eq=function(e){return function(t){return e===t}},t.val=function(e){return function(){return e}},t.invoke=function(e,t){return function(r){return r[e].apply(r,t)}},t.pattern=function(e){return function(t){for(var r=0;r<e.length;r++)if(e[r][0](t))return e[r][1](t)}}},"./node_modules/@uirouter/core/lib/common/index.js":function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("./node_modules/@uirouter/core/lib/common/common.js")),n(r("./node_modules/@uirouter/core/lib/common/coreservices.js")),n(r("./node_modules/@uirouter/core/lib/common/glob.js")),n(r("./node_modules/@uirouter/core/lib/common/hof.js")),n(r("./node_modules/@uirouter/core/lib/common/predicates.js")),n(r("./node_modules/@uirouter/core/lib/common/queue.js")),n(r("./node_modules/@uirouter/core/lib/common/strings.js")),n(r("./node_modules/@uirouter/core/lib/common/trace.js"))},"./node_modules/@uirouter/core/lib/common/predicates.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/common/hof.js"),o=r("./node_modules/@uirouter/core/lib/state/stateObject.js"),i=Object.prototype.toString,s=function(e){return function(t){return typeof t===e}};t.isUndefined=s("undefined"),t.isDefined=n.not(t.isUndefined),t.isNull=function(e){return null===e},t.isNullOrUndefined=n.or(t.isNull,t.isUndefined),t.isFunction=s("function"),t.isNumber=s("number"),t.isString=s("string"),t.isObject=function(e){return null!==e&&"object"==typeof e},t.isArray=Array.isArray,t.isDate=function(e){return"[object Date]"===i.call(e)},t.isRegExp=function(e){return"[object RegExp]"===i.call(e)},t.isState=o.StateObject.isState,t.isInjectable=function(e){if(t.isArray(e)&&e.length){var r=e.slice(0,-1),o=e.slice(-1);return!(r.filter(n.not(t.isString)).length||o.filter(n.not(t.isFunction)).length)}return t.isFunction(e)},t.isPromise=n.and(t.isObject,n.pipe(n.prop("then"),t.isFunction))},"./node_modules/@uirouter/core/lib/common/queue.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t=null),this._items=e,this._limit=t}return e.prototype.enqueue=function(e){var t=this._items;return t.push(e),this._limit&&t.length>this._limit&&t.shift(),e},e.prototype.dequeue=function(){if(this.size())return this._items.splice(0,1)[0]},e.prototype.clear=function(){var e=this._items;return this._items=[],e},e.prototype.size=function(){return this._items.length},e.prototype.remove=function(e){var t=this._items.indexOf(e);return t>-1&&this._items.splice(t,1)[0]},e.prototype.peekTail=function(){return this._items[this._items.length-1]},e.prototype.peekHead=function(){if(this.size())return this._items[0]},e}();t.Queue=n},"./node_modules/@uirouter/core/lib/common/strings.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/common/predicates.js"),o=r("./node_modules/@uirouter/core/lib/transition/rejectFactory.js"),i=r("./node_modules/@uirouter/core/lib/common/common.js"),s=r("./node_modules/@uirouter/core/lib/common/hof.js"),u=r("./node_modules/@uirouter/core/lib/transition/transition.js"),a=r("./node_modules/@uirouter/core/lib/resolve/resolvable.js");function c(e){var t=l(e),r=t.match(/^(function [^ ]+\([^)]*\))/),n=r?r[1]:t,o=e.name||"";return o&&n.match(/function \(/)?"function "+o+n.substr(9):n}function l(e){var t=n.isArray(e)?e.slice(-1)[0]:e;return t&&t.toString()||"undefined"}t.maxLength=function(e,t){return t.length<=e?t:t.substr(0,e-3)+"..."},t.padString=function(e,t){for(;t.length<e;)t+=" ";return t},t.kebobString=function(e){return e.replace(/^([A-Z])/,function(e){return e.toLowerCase()}).replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})},t.functionToString=c,t.fnToString=l;var d=null,f=function(e){var t=o.Rejection.isRejectionPromise;return(d=d||s.pattern([[s.not(n.isDefined),s.val("undefined")],[n.isNull,s.val("null")],[n.isPromise,s.val("[Promise]")],[t,function(e){return e._transitionRejection.toString()}],[s.is(o.Rejection),s.invoke("toString")],[s.is(u.Transition),s.invoke("toString")],[s.is(a.Resolvable),s.invoke("toString")],[n.isInjectable,c],[s.val(!0),i.identity]]))(e)};t.stringify=function(e){var t=[];return JSON.stringify(e,function(e,r){return function(e){if(n.isObject(e)){if(-1!==t.indexOf(e))return"[circular ref]";t.push(e)}return f(e)}(r)}).replace(/\\"/g,'"')},t.beforeAfterSubstr=function(e){return function(t){if(!t)return["",""];var r=t.indexOf(e);return-1===r?[t,""]:[t.substr(0,r),t.substr(r+1)]}},t.splitOnDelim=function(e){var t=new RegExp("("+e+")","g");return function(e){return e.split(t).filter(i.identity)}},t.joinNeighborsR=function(e,t){return n.isString(i.tail(e))&&n.isString(t)?e.slice(0,-1).concat(i.tail(e)+t):i.pushR(e,t)}},"./node_modules/@uirouter/core/lib/common/trace.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/common/hof.js"),o=r("./node_modules/@uirouter/core/lib/common/predicates.js"),i=r("./node_modules/@uirouter/core/lib/common/strings.js");function s(e){return e?"[ui-view#"+e.id+" tag in template from '"+(e.creationContext&&e.creationContext.name||"(root)")+"' state]: fqn: '"+e.fqn+"', name: '"+e.name+"@"+e.creationContext+"')":"ui-view (defunct)"}var u;function a(e){return o.isNumber(e)?u[e]:u[u[e]]}!function(e){e[e.RESOLVE=0]="RESOLVE",e[e.TRANSITION=1]="TRANSITION",e[e.HOOK=2]="HOOK",e[e.UIVIEW=3]="UIVIEW",e[e.VIEWCONFIG=4]="VIEWCONFIG"}(u=t.Category||(t.Category={}));var c=n.parse("$id"),l=n.parse("router.$id"),d=function(e){return"Transition #"+c(e)+"-"+l(e)},f=function(){function e(){this._enabled={},this.approximateDigests=0}return e.prototype._set=function(e,t){var r=this;t.length||(t=Object.keys(u).map(function(e){return parseInt(e,10)}).filter(function(e){return!isNaN(e)}).map(function(e){return u[e]})),t.map(a).forEach(function(t){return r._enabled[t]=e})},e.prototype.enable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._set(!0,e)},e.prototype.disable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._set(!1,e)},e.prototype.enabled=function(e){return!!this._enabled[a(e)]},e.prototype.traceTransitionStart=function(e){this.enabled(u.TRANSITION)&&console.log(d(e)+": Started  -> "+i.stringify(e))},e.prototype.traceTransitionIgnored=function(e){this.enabled(u.TRANSITION)&&console.log(d(e)+": Ignored  <> "+i.stringify(e))},e.prototype.traceHookInvocation=function(e,t,r){if(this.enabled(u.HOOK)){var o=n.parse("traceData.hookType")(r)||"internal",s=n.parse("traceData.context.state.name")(r)||n.parse("traceData.context")(r)||"unknown",a=i.functionToString(e.registeredHook.callback);console.log(d(t)+":   Hook -> "+o+" context: "+s+", "+i.maxLength(200,a))}},e.prototype.traceHookResult=function(e,t,r){this.enabled(u.HOOK)&&console.log(d(t)+":   <- Hook returned: "+i.maxLength(200,i.stringify(e)))},e.prototype.traceResolvePath=function(e,t,r){this.enabled(u.RESOLVE)&&console.log(d(r)+":         Resolving "+e+" ("+t+")")},e.prototype.traceResolvableResolved=function(e,t){this.enabled(u.RESOLVE)&&console.log(d(t)+":               <- Resolved  "+e+" to: "+i.maxLength(200,i.stringify(e.data)))},e.prototype.traceError=function(e,t){this.enabled(u.TRANSITION)&&console.log(d(t)+": <- Rejected "+i.stringify(t)+", reason: "+e)},e.prototype.traceSuccess=function(e,t){this.enabled(u.TRANSITION)&&console.log(d(t)+": <- Success  "+i.stringify(t)+", final state: "+e.name)},e.prototype.traceUIViewEvent=function(e,t,r){void 0===r&&(r=""),this.enabled(u.UIVIEW)&&console.log("ui-view: "+i.padString(30,e)+" "+s(t)+r)},e.prototype.traceUIViewConfigUpdated=function(e,t){this.enabled(u.UIVIEW)&&this.traceUIViewEvent("Updating",e," with ViewConfig from context='"+t+"'")},e.prototype.traceUIViewFill=function(e,t){this.enabled(u.UIVIEW)&&this.traceUIViewEvent("Fill",e," with: "+i.maxLength(200,t))},e.prototype.traceViewServiceEvent=function(e,t){this.enabled(u.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+function(e){return"[ViewConfig#"+e.$id+" from '"+(e.viewDecl.$context.name||"(root)")+"' state]: target ui-view: '"+e.viewDecl.$uiViewName+"@"+e.viewDecl.$uiViewContextAnchor+"'"}(t))},e.prototype.traceViewServiceUIViewEvent=function(e,t){this.enabled(u.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+s(t))},e}();t.Trace=f;var m=new f;t.trace=m},"./node_modules/@uirouter/core/lib/globals.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/params/stateParams.js"),o=r("./node_modules/@uirouter/core/lib/common/queue.js"),i=function(){function e(){this.params=new n.StateParams,this.lastStartedTransitionId=-1,this.transitionHistory=new o.Queue([],1),this.successfulTransitions=new o.Queue([],1)}return e.prototype.dispose=function(){this.transitionHistory.clear(),this.successfulTransitions.clear(),this.transition=null},e}();t.UIRouterGlobals=i},"./node_modules/@uirouter/core/lib/hooks/coreResolvables.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/transition/transition.js"),o=r("./node_modules/@uirouter/core/lib/router.js");function i(e){e.addResolvable({token:o.UIRouter,deps:[],resolveFn:function(){return e.router},data:e.router},""),e.addResolvable({token:n.Transition,deps:[],resolveFn:function(){return e},data:e},""),e.addResolvable({token:"$transition$",deps:[],resolveFn:function(){return e},data:e},""),e.addResolvable({token:"$stateParams",deps:[],resolveFn:function(){return e.params()},data:e.params()},""),e.entering().forEach(function(t){e.addResolvable({token:"$state$",deps:[],resolveFn:function(){return t},data:t},t)})}t.registerAddCoreResolvables=function(e){return e.onCreate({},i)}},"./node_modules/@uirouter/core/lib/hooks/ignoredTransition.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/common/trace.js"),o=r("./node_modules/@uirouter/core/lib/transition/rejectFactory.js");function i(e){var t=e._ignoredReason();if(t){n.trace.traceTransitionIgnored(e);var r=e.router.globals.transition;return"SameAsCurrent"===t&&r&&r.abort(),o.Rejection.ignored().toPromise()}}t.registerIgnoredTransitionHook=function(e){return e.onBefore({},i,{priority:-9999})}},"./node_modules/@uirouter/core/lib/hooks/invalidTransition.js":function(e,t,r){"use strict";function n(e){if(!e.valid())throw new Error(e.error())}Object.defineProperty(t,"__esModule",{value:!0}),t.registerInvalidTransitionHook=function(e){return e.onBefore({},n,{priority:-1e4})}},"./node_modules/@uirouter/core/lib/hooks/lazyLoad.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/common/coreservices.js"),o=function(e){var t=e.router;var r=e.entering().filter(function(e){return!!e.$$state().lazyLoad}).map(function(t){return i(e,t)});return n.services.$q.all(r).then(function(){if("url"!==e.originalTransition().options().source){var r=e.targetState();return t.stateService.target(r.identifier(),r.params(),r.options())}var n=t.urlService,o=n.match(n.parts()),i=o&&o.rule;if(i&&"STATE"===i.type){var s=i.state,u=o.match;return t.stateService.target(s,u,e.options())}t.urlService.sync()})};function i(e,t){var r=t.$$state().lazyLoad,o=r._promise;if(!o){o=r._promise=n.services.$q.when(r(e,t)).then(function(t){t&&Array.isArray(t.states)&&t.states.forEach(function(t){return e.router.stateRegistry.register(t)});return t}).then(function(e){return delete t.lazyLoad,delete t.$$state().lazyLoad,delete r._promise,e},function(e){return delete r._promise,n.services.$q.reject(e)})}return o}t.registerLazyLoadHook=function(e){return e.onBefore({entering:function(e){return!!e.lazyLoad}},o)},t.lazyLoadState=i},"./node_modules/@uirouter/core/lib/hooks/onEnterExitRetain.js":function(e,t,r){"use strict";function n(e){return function(t,r){return(0,r.$$state()[e])(t,r)}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("onExit");t.registerOnExitHook=function(e){return e.onExit({exiting:function(e){return!!e.onExit}},o)};var i=n("onRetain");t.registerOnRetainHook=function(e){return e.onRetain({retained:function(e){return!!e.onRetain}},i)};var s=n("onEnter");t.registerOnEnterHook=function(e){return e.onEnter({entering:function(e){return!!e.onEnter}},s)}},"./node_modules/@uirouter/core/lib/hooks/redirectTo.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/common/predicates.js"),o=r("./node_modules/@uirouter/core/lib/common/coreservices.js"),i=r("./node_modules/@uirouter/core/lib/state/targetState.js"),s=function(e){var t=e.to().redirectTo;if(t){var r=e.router.stateService;return n.isFunction(t)?o.services.$q.when(t(e)).then(s):s(t)}function s(t){if(t)return t instanceof i.TargetState?t:n.isString(t)?r.target(t,e.params(),e.options()):t.state||t.params?r.target(t.state||e.to(),t.params||e.params(),e.options()):void 0}};t.registerRedirectToHook=function(e){return e.onStart({to:function(e){return!!e.redirectTo}},s)}},"./node_modules/@uirouter/core/lib/hooks/resolve.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/common/common.js"),o=r("./node_modules/@uirouter/core/lib/resolve/resolveContext.js"),i=r("./node_modules/@uirouter/core/lib/common/hof.js"),s=function(e){return new o.ResolveContext(e.treeChanges().to).resolvePath("EAGER",e).then(n.noop)};t.registerEagerResolvePath=function(e){return e.onStart({},s,{priority:1e3})};var u=function(e,t){return new o.ResolveContext(e.treeChanges().to).subContext(t.$$state()).resolvePath("LAZY",e).then(n.noop)};t.registerLazyResolveState=function(e){return e.onEnter({entering:i.val(!0)},u,{priority:1e3})}},"./node_modules/@uirouter/core/lib/hooks/updateGlobals.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/common/common.js"),o=function(e){var t=e.router.globals,r=function(){t.transition===e&&(t.transition=null)};e.onSuccess({},function(){t.successfulTransitions.enqueue(e),t.$current=e.$to(),t.current=t.$current.self,n.copy(e.params(),t.params)},{priority:1e4}),e.promise.then(r,r)};t.registerUpdateGlobalState=function(e){return e.onCreate({},o)}},"./node_modules/@uirouter/core/lib/hooks/url.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){var t=e.options(),r=e.router.stateService,n=e.router.urlRouter;if("url"!==t.source&&t.location&&r.$current.navigable){var o={replace:"replace"===t.location};n.push(r.$current.navigable.url,r.params,o)}n.update(!0)};t.registerUpdateUrl=function(e){return e.onSuccess({},n,{priority:9999})}},"./node_modules/@uirouter/core/lib/hooks/views.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/common/common.js"),o=r("./node_modules/@uirouter/core/lib/common/coreservices.js"),i=function(e){var t=o.services.$q,r=e.views("entering");if(r.length)return t.all(r.map(function(e){return t.when(e.load())})).then(n.noop)};t.registerLoadEnteringViews=function(e){return e.onFinish({},i)};var s=function(e){var t=e.views("entering"),r=e.views("exiting");if(t.length||r.length){var n=e.router.viewService;r.forEach(function(e){return n.deactivateViewConfig(e)}),t.forEach(function(e){return n.activateViewConfig(e)}),n.sync()}};t.registerActivateViews=function(e){return e.onSuccess({},s)}},"./node_modules/@uirouter/core/lib/index.js":function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("./node_modules/@uirouter/core/lib/common/index.js")),n(r("./node_modules/@uirouter/core/lib/params/index.js")),n(r("./node_modules/@uirouter/core/lib/path/index.js")),n(r("./node_modules/@uirouter/core/lib/resolve/index.js")),n(r("./node_modules/@uirouter/core/lib/state/index.js")),n(r("./node_modules/@uirouter/core/lib/transition/index.js")),n(r("./node_modules/@uirouter/core/lib/url/index.js")),n(r("./node_modules/@uirouter/core/lib/view/index.js")),n(r("./node_modules/@uirouter/core/lib/globals.js")),n(r("./node_modules/@uirouter/core/lib/router.js")),n(r("./node_modules/@uirouter/core/lib/vanilla.js")),n(r("./node_modules/@uirouter/core/lib/interface.js"))},"./node_modules/@uirouter/core/lib/interface.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.dispose=function(e){},e}();t.UIRouterPluginBase=n},"./node_modules/@uirouter/core/lib/params/index.js":function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("./node_modules/@uirouter/core/lib/params/param.js")),n(r("./node_modules/@uirouter/core/lib/params/paramTypes.js")),n(r("./node_modules/@uirouter/core/lib/params/stateParams.js")),n(r("./node_modules/@uirouter/core/lib/params/paramType.js"))},"./node_modules/@uirouter/core/lib/params/param.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r("./node_modules/@uirouter/core/lib/common/common.js"),i=r("./node_modules/@uirouter/core/lib/common/hof.js"),s=r("./node_modules/@uirouter/core/lib/common/predicates.js"),u=r("./node_modules/@uirouter/core/lib/common/coreservices.js"),a=r("./node_modules/@uirouter/core/lib/params/paramType.js"),c=Object.prototype.hasOwnProperty,l=function(e){return 0===["value","type","squash","array","dynamic"].filter(c.bind(e||{})).length};!function(e){e[e.PATH=0]="PATH",e[e.SEARCH=1]="SEARCH",e[e.CONFIG=2]="CONFIG"}(n=t.DefType||(t.DefType={}));var d=function(){function e(e,t,r,u,c){t=function(e,t,r,o,i){if(e.type&&t&&"string"!==t.name)throw new Error("Param '"+o+"' has two type configurations.");if(e.type&&t&&"string"===t.name&&i.type(e.type))return i.type(e.type);if(t)return t;if(!e.type){var s=r===n.CONFIG?"any":r===n.PATH?"path":r===n.SEARCH?"query":"string";return i.type(s)}return e.type instanceof a.ParamType?e.type:i.type(e.type)}(r=function(e){function t(){return e.value}return e=l(e)&&{value:e}||e,t.__cacheable=!0,o.extend(e,{$$fn:s.isInjectable(e.value)?e.value:t})}(r),t,u,e,c.paramTypes);var d,f,m=(d={array:u===n.SEARCH&&"auto"},f=e.match(/\[\]$/)?{array:!0}:{},o.extend(d,f,r).array);t=m?t.$asArray(m,u===n.SEARCH):t;var p=void 0!==r.value||u===n.SEARCH,h=s.isDefined(r.dynamic)?!!r.dynamic:!!t.dynamic,v=s.isDefined(r.raw)?!!r.raw:!!t.raw,_=function(e,t,r){var n=e.squash;if(!t||!1===n)return!1;if(!s.isDefined(n)||null==n)return r;if(!0===n||s.isString(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}(r,p,c.defaultSquashPolicy()),g=function(e,t,r,n){var u,a,c=[{from:"",to:r||t?void 0:""},{from:null,to:r||t?void 0:""}];return u=s.isArray(e.replace)?e.replace:[],s.isString(n)&&u.push({from:n,to:void 0}),a=o.map(u,i.prop("from")),o.filter(c,function(e){return-1===a.indexOf(e.from)}).concat(u)}(r,m,p,_),y=s.isDefined(r.inherit)?!!r.inherit:!!t.inherit;o.extend(this,{id:e,type:t,location:u,isOptional:p,dynamic:h,raw:v,squash:_,replace:g,inherit:y,array:m,config:r})}return e.prototype.isDefaultValue=function(e){return this.isOptional&&this.type.equals(this.value(),e)},e.prototype.value=function(e){var t=this;return e=function(e){for(var r=0,n=t.replace;r<n.length;r++){var o=n[r];if(o.from===e)return o.to}return e}(e),s.isUndefined(e)?function(){if(t._defaultValueCache)return t._defaultValueCache.defaultValue;if(!u.services.$injector)throw new Error("Injectable functions cannot be called at configuration time");var e=u.services.$injector.invoke(t.config.$$fn);if(null!==e&&void 0!==e&&!t.type.is(e))throw new Error("Default value ("+e+") for parameter '"+t.id+"' is not an instance of ParamType ("+t.type.name+")");return t.config.$$fn.__cacheable&&(t._defaultValueCache={defaultValue:e}),e}():this.type.$normalize(e)},e.prototype.isSearch=function(){return this.location===n.SEARCH},e.prototype.validates=function(e){if((s.isUndefined(e)||null===e)&&this.isOptional)return!0;var t=this.type.$normalize(e);if(!this.type.is(t))return!1;var r=this.type.encode(t);return!(s.isString(r)&&!this.type.pattern.exec(r))},e.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"},e.values=function(e,t){void 0===t&&(t={});for(var r={},n=0,o=e;n<o.length;n++){var i=o[n];r[i.id]=i.value(t[i.id])}return r},e.changed=function(e,t,r){return void 0===t&&(t={}),void 0===r&&(r={}),e.filter(function(e){return!e.type.equals(t[e.id],r[e.id])})},e.equals=function(t,r,n){return void 0===r&&(r={}),void 0===n&&(n={}),0===e.changed(t,r,n).length},e.validates=function(e,t){return void 0===t&&(t={}),e.map(function(e){return e.validates(t[e.id])}).reduce(o.allTrueR,!0)},e}();t.Param=d},"./node_modules/@uirouter/core/lib/params/paramType.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/common/common.js"),o=r("./node_modules/@uirouter/core/lib/common/predicates.js"),i=function(){function e(e){this.pattern=/.*/,this.inherit=!0,n.extend(this,e)}return e.prototype.is=function(e,t){return!0},e.prototype.encode=function(e,t){return e},e.prototype.decode=function(e,t){return e},e.prototype.equals=function(e,t){return e==t},e.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},e.prototype.toString=function(){return"{ParamType:"+this.name+"}"},e.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},e.prototype.$asArray=function(e,t){if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new function(e,t){var r=this;function i(e){return o.isArray(e)?e:o.isDefined(e)?[e]:[]}function s(e,r){return function(s){if(o.isArray(s)&&0===s.length)return s;var u=i(s),a=n.map(u,e);return!0===r?0===n.filter(a,function(e){return!e}).length:function(e){switch(e.length){case 0:return;case 1:return"auto"===t?e[0]:e;default:return e}}(a)}}function u(e){return function(t,r){var n=i(t),o=i(r);if(n.length!==o.length)return!1;for(var s=0;s<n.length;s++)if(!e(n[s],o[s]))return!1;return!0}}["encode","decode","equals","$normalize"].forEach(function(t){var n=e[t].bind(e),o="equals"===t?u:s;r[t]=o(n)}),n.extend(this,{dynamic:e.dynamic,name:e.name,pattern:e.pattern,inherit:e.inherit,is:s(e.is.bind(e),!0),$arrayMode:t})}(this,e)},e}();t.ParamType=i},"./node_modules/@uirouter/core/lib/params/paramTypes.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r("./node_modules/@uirouter/core/lib/common/common.js"),i=r("./node_modules/@uirouter/core/lib/common/predicates.js"),s=r("./node_modules/@uirouter/core/lib/common/hof.js"),u=r("./node_modules/@uirouter/core/lib/common/coreservices.js"),a=r("./node_modules/@uirouter/core/lib/params/paramType.js"),c=function(){function e(){this.enqueue=!0,this.typeQueue=[],this.defaultTypes=o.pick(e.prototype,["hash","string","query","path","int","bool","date","json","any"]);this.types=o.inherit(o.map(this.defaultTypes,function(e,t){return new a.ParamType(o.extend({name:t},e))}),{})}return e.prototype.dispose=function(){this.types={}},e.prototype.type=function(e,t,r){if(!i.isDefined(t))return this.types[e];if(this.types.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return this.types[e]=new a.ParamType(o.extend({name:e},t)),r&&(this.typeQueue.push({name:e,def:r}),this.enqueue||this._flushTypeQueue()),this},e.prototype._flushTypeQueue=function(){for(;this.typeQueue.length;){var e=this.typeQueue.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");o.extend(this.types[e.name],u.services.$injector.invoke(e.def))}},e}();t.ParamTypes=c,n=function(e){var t=function(e){return null!=e?e.toString():e},r={encode:t,decode:t,is:s.is(String),pattern:/.*/,equals:function(e,t){return e==t}};return o.extend({},r,e)},o.extend(c.prototype,{string:n({}),path:n({pattern:/[^/]*/}),query:n({}),hash:n({inherit:!1}),int:n({decode:function(e){return parseInt(e,10)},is:function(e){return!i.isNullOrUndefined(e)&&this.decode(e.toString())===e},pattern:/-?\d+/}),bool:n({encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:s.is(Boolean),pattern:/0|1/}),date:n({encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):void 0},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):void 0},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return["getFullYear","getMonth","getDate"].reduce(function(r,n){return r&&e[n]()===t[n]()},!0)},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/}),json:n({encode:o.toJson,decode:o.fromJson,is:s.is(Object),equals:o.equals,pattern:/[^/]*/}),any:n({encode:o.identity,decode:o.identity,is:function(){return!0},equals:o.equals})})},"./node_modules/@uirouter/core/lib/params/stateParams.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/common/common.js"),o=function(){function e(e){void 0===e&&(e={}),n.extend(this,e)}return e.prototype.$inherit=function(e,t,r){var o,i=n.ancestors(t,r),s={},u=[];for(var a in i)if(i[a]&&i[a].params&&(o=Object.keys(i[a].params)).length)for(var c in o)u.indexOf(o[c])>=0||(u.push(o[c]),s[o[c]]=this[o[c]]);return n.extend({},s,e)},e}();t.StateParams=o},"./node_modules/@uirouter/core/lib/path/index.js":function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("./node_modules/@uirouter/core/lib/path/pathNode.js")),n(r("./node_modules/@uirouter/core/lib/path/pathFactory.js"))},"./node_modules/@uirouter/core/lib/path/pathFactory.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/common/common.js"),o=r("./node_modules/@uirouter/core/lib/common/hof.js"),i=r("./node_modules/@uirouter/core/lib/state/targetState.js"),s=r("./node_modules/@uirouter/core/lib/path/pathNode.js"),u=function(){function e(){}return e.makeTargetState=function(e){var t=n.tail(e).state;return new i.TargetState(t,t,e.map(o.prop("paramValues")).reduce(n.mergeR,{}))},e.buildPath=function(e){var t=e.params();return e.$state().path.map(function(e){return new s.PathNode(e).applyRawParams(t)})},e.buildToPath=function(t,r){var n=e.buildPath(r);return r.options().inherit?e.inheritParams(t,n,Object.keys(r.params())):n},e.applyViewConfigs=function(t,r,o){r.filter(function(e){return n.inArray(o,e.state)}).forEach(function(o){var i=n.values(o.state.views||{}),s=e.subPath(r,function(e){return e===o}),u=i.map(function(e){return t.createViewConfig(s,e)});o.views=u.reduce(n.unnestR,[])})},e.inheritParams=function(e,t,r){void 0===r&&(r=[]);var i=e.map(function(e){return e.paramSchema}).reduce(n.unnestR,[]).filter(function(e){return!e.inherit}).map(o.prop("id"));return t.map(function(t){var u=n.extend({},t&&t.paramValues),a=n.pick(u,r);u=n.omit(u,r);var c,l,d,f=n.omit((c=e,l=t.state,d=n.find(c,o.propEq("state",l)),n.extend({},d&&d.paramValues)||{}),i),m=n.extend(u,f,a);return new s.PathNode(t.state).applyRawParams(m)})},e.treeChanges=function(t,r,n){for(var o,i,u,a,c,l,d=0,f=Math.min(t.length,r.length);d<f&&t[d].state!==n&&(o=t[d],i=r[d],o.equals(i,e.nonDynamicParams));)d++;a=(u=t).slice(0,d),c=u.slice(d);var m=a.map(function(e,t){var n=s.PathNode.clone(e);return n.paramValues=r[t].paramValues,n});return l=r.slice(d),{from:u,to:m.concat(l),retained:a,exiting:c,entering:l}},e.matching=function(e,t,r){var o=!1;return n.arrayTuples(e,t).reduce(function(e,t){var n=t[0],i=t[1];return(o=o||!n.equals(i,r))?e:e.concat(n)},[])},e.equals=function(t,r,n){return t.length===r.length&&e.matching(t,r,n).length===t.length},e.subPath=function(e,t){var r=n.find(e,t),o=e.indexOf(r);return-1===o?void 0:e.slice(0,o+1)},e}();u.nonDynamicParams=function(e){return e.state.parameters({inherit:!1}).filter(function(e){return!e.dynamic})},u.paramValues=function(e){return e.reduce(function(e,t){return n.extend(e,t.paramValues)},{})},t.PathUtils=u},"./node_modules/@uirouter/core/lib/path/pathNode.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/common/common.js"),o=r("./node_modules/@uirouter/core/lib/common/hof.js"),i=r("./node_modules/@uirouter/core/lib/params/param.js"),s=function(){function e(t){if(t instanceof e){var r=t;this.state=r.state,this.paramSchema=r.paramSchema.slice(),this.paramValues=n.extend({},r.paramValues),this.resolvables=r.resolvables.slice(),this.views=r.views&&r.views.slice()}else{var o=t;this.state=o,this.paramSchema=o.parameters({inherit:!1}),this.paramValues={},this.resolvables=o.resolvables.map(function(e){return e.clone()})}}return e.prototype.applyRawParams=function(e){return this.paramValues=this.paramSchema.reduce(function(t,r){return n.applyPairs(t,[(o=r).id,o.value(e[o.id])]);var o},{}),this},e.prototype.parameter=function(e){return n.find(this.paramSchema,o.propEq("id",e))},e.prototype.equals=function(e,t){var r=this.diff(e,t);return r&&0===r.length},e.prototype.diff=function(e,t){if(this.state!==e.state)return!1;var r=t?t(this):this.paramSchema;return i.Param.changed(r,this.paramValues,e.paramValues)},e.clone=function(t){return new e(t)},e}();t.PathNode=s},"./node_modules/@uirouter/core/lib/resolve/index.js":function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("./node_modules/@uirouter/core/lib/resolve/interface.js")),n(r("./node_modules/@uirouter/core/lib/resolve/resolvable.js")),n(r("./node_modules/@uirouter/core/lib/resolve/resolveContext.js"))},"./node_modules/@uirouter/core/lib/resolve/interface.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolvePolicies={when:{LAZY:"LAZY",EAGER:"EAGER"},async:{WAIT:"WAIT",NOWAIT:"NOWAIT",RXWAIT:"RXWAIT"}}},"./node_modules/@uirouter/core/lib/resolve/resolvable.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/common/common.js"),o=r("./node_modules/@uirouter/core/lib/common/coreservices.js"),i=r("./node_modules/@uirouter/core/lib/common/trace.js"),s=r("./node_modules/@uirouter/core/lib/common/strings.js"),u=r("./node_modules/@uirouter/core/lib/common/predicates.js");t.defaultResolvePolicy={when:"LAZY",async:"WAIT"};var a=function(){function e(t,r,i,s,a){if(this.resolved=!1,this.promise=void 0,t instanceof e)n.extend(this,t);else if(u.isFunction(r)){if(null==t||void 0==t)throw new Error("new Resolvable(): token argument is required");if(!u.isFunction(r))throw new Error("new Resolvable(): resolveFn argument must be a function");this.token=t,this.policy=s,this.resolveFn=r,this.deps=i||[],this.data=a,this.resolved=void 0!==a,this.promise=this.resolved?o.services.$q.when(this.data):void 0}else if(u.isObject(t)&&t.token&&u.isFunction(t.resolveFn)){var c=t;return new e(c.token,c.resolveFn,c.deps,c.policy,c.data)}}return e.prototype.getPolicy=function(e){var r=this.policy||{},n=e&&e.resolvePolicy||{};return{when:r.when||n.when||t.defaultResolvePolicy.when,async:r.async||n.async||t.defaultResolvePolicy.async}},e.prototype.resolve=function(e,t){var r=this,s=o.services.$q,u=e.findNode(this),a=u&&u.state,c="RXWAIT"===this.getPolicy(a).async?function(e){var t=e.cache(1);return t.take(1).toPromise().then(function(){return t})}:n.identity;return this.promise=s.when().then(function(){return s.all(e.getDependencies(r).map(function(r){return r.get(e,t)}))}).then(function(e){return r.resolveFn.apply(null,e)}).then(c).then(function(e){return r.data=e,r.resolved=!0,i.trace.traceResolvableResolved(r,t),r.data})},e.prototype.get=function(e,t){return this.promise||this.resolve(e,t)},e.prototype.toString=function(){return"Resolvable(token: "+s.stringify(this.token)+", requires: ["+this.deps.map(s.stringify)+"])"},e.prototype.clone=function(){return new e(this)},e}();a.fromData=function(e,t){return new a(e,function(){return t},null,null,t)},t.Resolvable=a},"./node_modules/@uirouter/core/lib/resolve/resolveContext.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/common/common.js"),o=r("./node_modules/@uirouter/core/lib/common/hof.js"),i=r("./node_modules/@uirouter/core/lib/common/trace.js"),s=r("./node_modules/@uirouter/core/lib/common/coreservices.js"),u=r("./node_modules/@uirouter/core/lib/resolve/interface.js"),a=r("./node_modules/@uirouter/core/lib/resolve/resolvable.js"),c=r("./node_modules/@uirouter/core/lib/path/pathFactory.js"),l=r("./node_modules/@uirouter/core/lib/common/strings.js"),d=u.resolvePolicies.when,f=[d.EAGER,d.LAZY],m=[d.EAGER];t.NATIVE_INJECTOR_TOKEN="Native Injector";var p=function(){function e(e){this._path=e}return e.prototype.getTokens=function(){return this._path.reduce(function(e,t){return e.concat(t.resolvables.map(function(e){return e.token}))},[]).reduce(n.uniqR,[])},e.prototype.getResolvable=function(e){var t=this._path.map(function(e){return e.resolvables}).reduce(n.unnestR,[]).filter(function(t){return t.token===e});return n.tail(t)},e.prototype.getPolicy=function(e){var t=this.findNode(e);return e.getPolicy(t.state)},e.prototype.subContext=function(t){return new e(c.PathUtils.subPath(this._path,function(e){return e.state===t}))},e.prototype.addResolvables=function(e,t){var r=n.find(this._path,o.propEq("state",t)),i=e.map(function(e){return e.token});r.resolvables=r.resolvables.filter(function(e){return-1===i.indexOf(e.token)}).concat(e)},e.prototype.resolvePath=function(e,t){var r=this;void 0===e&&(e="LAZY");var a=(n.inArray(f,e)?e:"LAZY")===u.resolvePolicies.when.EAGER?m:f;i.trace.traceResolvePath(this._path,e,t);var c=function(e,t){return function(o){return n.inArray(e,r.getPolicy(o)[t])}},l=this._path.reduce(function(e,n){var i=n.resolvables.filter(c(a,"when")),s=i.filter(c(["NOWAIT"],"async")),u=i.filter(o.not(c(["NOWAIT"],"async"))),l=r.subContext(n.state),d=function(e){return e.get(l,t).then(function(t){return{token:e.token,value:t}})};return s.forEach(d),e.concat(u.map(d))},[]);return s.services.$q.all(l)},e.prototype.injector=function(){return this._injector||(this._injector=new h(this))},e.prototype.findNode=function(e){return n.find(this._path,function(t){return n.inArray(t.resolvables,e)})},e.prototype.getDependencies=function(e){var t=this,r=this.findNode(e),o=(c.PathUtils.subPath(this._path,function(e){return e===r})||this._path).reduce(function(e,t){return e.concat(t.resolvables)},[]).filter(function(t){return t!==e});return e.deps.map(function(e){var r=o.filter(function(t){return t.token===e});if(r.length)return n.tail(r);var i=t.injector().getNative(e);if(!i)throw new Error("Could not find Dependency Injection token: "+l.stringify(e));return new a.Resolvable(e,function(){return i},[],i)})},e}();t.ResolveContext=p;var h=function(){function e(e){this.context=e,this.native=this.get(t.NATIVE_INJECTOR_TOKEN)||s.services.$injector}return e.prototype.get=function(e){var t=this.context.getResolvable(e);if(t){if("NOWAIT"===this.context.getPolicy(t).async)return t.get(this.context);if(!t.resolved)throw new Error("Resolvable async .get() not complete:"+l.stringify(t.token));return t.data}return this.native&&this.native.get(e)},e.prototype.getAsync=function(e){var t=this.context.getResolvable(e);return t?t.get(this.context):s.services.$q.when(this.native.get(e))},e.prototype.getNative=function(e){return this.native&&this.native.get(e)},e}()},"./node_modules/@uirouter/core/lib/router.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/url/urlMatcherFactory.js"),o=r("./node_modules/@uirouter/core/lib/url/urlRouter.js"),i=r("./node_modules/@uirouter/core/lib/transition/transitionService.js"),s=r("./node_modules/@uirouter/core/lib/view/view.js"),u=r("./node_modules/@uirouter/core/lib/state/stateRegistry.js"),a=r("./node_modules/@uirouter/core/lib/state/stateService.js"),c=r("./node_modules/@uirouter/core/lib/globals.js"),l=r("./node_modules/@uirouter/core/lib/common/common.js"),d=r("./node_modules/@uirouter/core/lib/common/predicates.js"),f=r("./node_modules/@uirouter/core/lib/url/urlService.js"),m=r("./node_modules/@uirouter/core/lib/common/trace.js"),p=0,h=function(){function e(e,t){void 0===e&&(e=f.UrlService.locationServiceStub),void 0===t&&(t=f.UrlService.locationConfigStub),this.locationService=e,this.locationConfig=t,this.$id=p++,this._disposed=!1,this._disposables=[],this.trace=m.trace,this.viewService=new s.ViewService,this.transitionService=new i.TransitionService(this),this.globals=new c.UIRouterGlobals,this.urlMatcherFactory=new n.UrlMatcherFactory,this.urlRouter=new o.UrlRouter(this),this.stateRegistry=new u.StateRegistry(this),this.stateService=new a.StateService(this),this.urlService=new f.UrlService(this),this._plugins={},this.viewService._pluginapi._rootViewContext(this.stateRegistry.root()),this.globals.$current=this.stateRegistry.root(),this.globals.current=this.globals.$current.self,this.disposable(this.globals),this.disposable(this.stateService),this.disposable(this.stateRegistry),this.disposable(this.transitionService),this.disposable(this.urlRouter),this.disposable(e),this.disposable(t)}return e.prototype.disposable=function(e){this._disposables.push(e)},e.prototype.dispose=function(e){var t=this;e&&d.isFunction(e.dispose)?e.dispose(this):(this._disposed=!0,this._disposables.slice().forEach(function(e){try{"function"==typeof e.dispose&&e.dispose(t),l.removeFrom(t._disposables,e)}catch(e){}}))},e.prototype.plugin=function(e,t){void 0===t&&(t={});var r=new e(this,t);if(!r.name)throw new Error("Required property `name` missing on plugin: "+r);return this._disposables.push(r),this._plugins[r.name]=r},e.prototype.getPlugin=function(e){return e?this._plugins[e]:l.values(this._plugins)},e}();t.UIRouter=h},"./node_modules/@uirouter/core/lib/state/index.js":function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("./node_modules/@uirouter/core/lib/state/stateBuilder.js")),n(r("./node_modules/@uirouter/core/lib/state/stateObject.js")),n(r("./node_modules/@uirouter/core/lib/state/stateMatcher.js")),n(r("./node_modules/@uirouter/core/lib/state/stateQueueManager.js")),n(r("./node_modules/@uirouter/core/lib/state/stateRegistry.js")),n(r("./node_modules/@uirouter/core/lib/state/stateService.js")),n(r("./node_modules/@uirouter/core/lib/state/targetState.js"))},"./node_modules/@uirouter/core/lib/state/stateBuilder.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/common/common.js"),o=r("./node_modules/@uirouter/core/lib/common/predicates.js"),i=r("./node_modules/@uirouter/core/lib/common/strings.js"),s=r("./node_modules/@uirouter/core/lib/common/hof.js"),u=r("./node_modules/@uirouter/core/lib/resolve/resolvable.js"),a=r("./node_modules/@uirouter/core/lib/common/coreservices.js");function c(e){return e.name}function l(e){return e.self.$$state=function(){return e},e.self}function d(e){return e.parent&&e.parent.data&&(e.data=e.self.data=n.inherit(e.parent.data,e.data)),e.data}var f=function(e,t){return function(r){var i=r;i&&i.url&&i.name&&i.name.match(/\.\*\*$/)&&(i.url+="{remainder:any}");var s=function(e){if(!o.isString(e))return!1;var t="^"===e.charAt(0);return{val:t?e.substring(1):e,root:t}}(i.url),u=r.parent,a=s?e.compile(s.val,{params:r.params||{},paramMap:function(e,t){return!1===i.reloadOnSearch&&t&&(e=n.extend(e||{},{dynamic:!0})),e}}):i.url;if(!a)return null;if(!e.isMatcher(a))throw new Error("Invalid url '"+a+"' in state '"+r+"'");return s&&s.root?a:(u&&u.navigable||t()).url.append(a)}},m=function(e){return function(t){return!e(t)&&t.url?t:t.parent?t.parent.navigable:null}},p=function(e){return function(t){var r=t.url&&t.url.parameters({inherit:!1})||[],o=n.values(n.mapObj(n.omit(t.params||{},r.map(s.prop("id"))),function(t,r){return e.fromConfig(r,null,t)}));return r.concat(o).map(function(e){return[e.id,e]}).reduce(n.applyPairs,{})}};function h(e){return e.parent?e.parent.path.concat(e):[e]}function v(e){var t=e.parent?n.extend({},e.parent.includes):{};return t[e.name]=!0,t}function _(e){var t,r,c=function(e){return e.provide||e.token},l=s.pattern([[s.prop("resolveFn"),function(e){return new u.Resolvable(c(e),e.resolveFn,e.deps,e.policy)}],[s.prop("useFactory"),function(e){return new u.Resolvable(c(e),e.useFactory,e.deps||e.dependencies,e.policy)}],[s.prop("useClass"),function(e){return new u.Resolvable(c(e),function(){return new e.useClass},[],e.policy)}],[s.prop("useValue"),function(e){return new u.Resolvable(c(e),function(){return e.useValue},[],e.policy,e.useValue)}],[s.prop("useExisting"),function(e){return new u.Resolvable(c(e),n.identity,[e.useExisting],e.policy)}]]),d=s.pattern([[s.pipe(s.prop("val"),o.isString),function(e){return new u.Resolvable(e.token,n.identity,[e.val],e.policy)}],[s.pipe(s.prop("val"),o.isArray),function(e){return new u.Resolvable(e.token,n.tail(e.val),e.val.slice(0,-1),e.policy)}],[s.pipe(s.prop("val"),o.isFunction),function(e){return new u.Resolvable(e.token,e.val,(t=e.val,r=a.services.$injector,t.$inject||r&&r.annotate(t,r.strictDi)||"deferred"),e.policy);var t,r}]]),f=s.pattern([[s.is(u.Resolvable),function(e){return e}],[function(e){return!(!e.token||!e.resolveFn)},l],[function(e){return!(!e.provide&&!e.token||!(e.useValue||e.useFactory||e.useExisting||e.useClass))},l],[function(e){return!!(e&&e.val&&(o.isString(e.val)||o.isArray(e.val)||o.isFunction(e.val)))},d],[s.val(!0),function(e){throw new Error("Invalid resolve value: "+i.stringify(e))}]]),m=e.resolve;return(o.isArray(m)?m:(t=m,r=e.resolvePolicy||{},Object.keys(t||{}).map(function(e){return{token:e,val:t[e],deps:void 0,policy:r[e]}}))).map(f)}t.resolvablesBuilder=_;var g=function(){function e(e,t){this.matcher=e;var r=this,n=function(){return e.find("")},o=function(e){return""===e.name};this.builders={name:[c],self:[l],parent:[function(t){return o(t)?null:e.find(r.parentName(t))||n()}],data:[d],url:[f(t,n)],navigable:[m(o)],params:[p(t.paramFactory)],views:[],path:[h],includes:[v],resolvables:[_]}}return e.prototype.builder=function(e,t){var r=this.builders,n=r[e]||[];return o.isString(e)&&!o.isDefined(t)?n.length>1?n:n[0]:o.isString(e)&&o.isFunction(t)?(r[e]=n,r[e].push(t),function(){return r[e].splice(r[e].indexOf(t,1))&&null}):void 0},e.prototype.build=function(e){var t=this.matcher,r=this.builders,o=this.parentName(e);if(o&&!t.find(o,void 0,!1))return null;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i].reduce(function(e,t){return function(r){return t(r,e)}},n.noop);e[i]=s(e)}return e},e.prototype.parentName=function(e){var t=e.name||"",r=t.split(".");if(r.length>1){if(e.parent)throw new Error("States that specify the 'parent:' property should not have a '.' in their name ("+t+")");return"**"===r.pop()&&r.pop(),r.join(".")}return e.parent?o.isString(e.parent)?e.parent:e.parent.name:""},e.prototype.name=function(e){var t=e.name;if(-1!==t.indexOf(".")||!e.parent)return t;var r=o.isString(e.parent)?e.parent:e.parent.name;return r?r+"."+t:t},e}();t.StateBuilder=g},"./node_modules/@uirouter/core/lib/state/stateMatcher.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/common/predicates.js"),o=r("./node_modules/@uirouter/core/lib/common/common.js"),i=function(){function e(e){this._states=e}return e.prototype.isRelative=function(e){return 0===(e=e||"").indexOf(".")||0===e.indexOf("^")},e.prototype.find=function(e,t,r){if(void 0===r&&(r=!0),e||""===e){var i=n.isString(e),s=i?e:e.name;this.isRelative(s)&&(s=this.resolvePath(s,t));var u=this._states[s];if(u&&(i||!(i||u!==e&&u.self!==e)))return u;if(i&&r){var a=o.values(this._states).filter(function(e){return e.__stateObjectCache.nameGlob&&e.__stateObjectCache.nameGlob.matches(s)});return a.length>1&&console.log("stateMatcher.find: Found multiple matches for "+s+" using glob: ",a.map(function(e){return e.name})),a[0]}}},e.prototype.resolvePath=function(e,t){if(!t)throw new Error("No reference point given for path '"+e+"'");for(var r=this.find(t),n=e.split("."),o=0,i=n.length,s=r;o<i;o++)if(""!==n[o]||0!==o){if("^"!==n[o])break;if(!s.parent)throw new Error("Path '"+e+"' not valid for state '"+r.name+"'");s=s.parent}else s=r;var u=n.slice(o).join(".");return s.name+(s.name&&u?".":"")+u},e}();t.StateMatcher=i},"./node_modules/@uirouter/core/lib/state/stateObject.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/common/common.js"),o=r("./node_modules/@uirouter/core/lib/common/hof.js"),i=r("./node_modules/@uirouter/core/lib/common/glob.js"),s=r("./node_modules/@uirouter/core/lib/common/predicates.js"),u=function(){function e(t){return e.create(t||{})}return e.create=function(t){t=e.isStateClass(t)?new t:t;var r=n.inherit(n.inherit(t,e.prototype));return t.$$state=function(){return r},r.self=t,r.__stateObjectCache={nameGlob:i.Glob.fromString(r.name)},r},e.prototype.is=function(e){return this===e||this.self===e||this.fqn()===e},e.prototype.fqn=function(){if(!(this.parent&&this.parent instanceof this.constructor))return this.name;var e=this.parent.fqn();return e?e+"."+this.name:this.name},e.prototype.root=function(){return this.parent&&this.parent.root()||this},e.prototype.parameters=function(e){return((e=n.defaults(e,{inherit:!0,matchingKeys:null})).inherit&&this.parent&&this.parent.parameters()||[]).concat(n.values(this.params)).filter(function(t){return!e.matchingKeys||e.matchingKeys.hasOwnProperty(t.id)})},e.prototype.parameter=function(e,t){return void 0===t&&(t={}),this.url&&this.url.parameter(e,t)||n.find(n.values(this.params),o.propEq("id",e))||t.inherit&&this.parent&&this.parent.parameter(e)},e.prototype.toString=function(){return this.fqn()},e}();u.isStateClass=function(e){return s.isFunction(e)&&!0===e.__uiRouterState},u.isState=function(e){return s.isObject(e.__stateObjectCache)},t.StateObject=u},"./node_modules/@uirouter/core/lib/state/stateQueueManager.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/common/common.js"),o=r("./node_modules/@uirouter/core/lib/common/predicates.js"),i=r("./node_modules/@uirouter/core/lib/state/stateObject.js"),s=r("./node_modules/@uirouter/core/lib/common/hof.js"),u=function(){function e(e,t,r,n,o){this.$registry=e,this.$urlRouter=t,this.states=r,this.builder=n,this.listeners=o,this.queue=[],this.matcher=e.matcher}return e.prototype.dispose=function(){this.queue=[]},e.prototype.register=function(e){var t=this.queue,r=i.StateObject.create(e),u=r.name;if(!o.isString(u))throw new Error("State must have a valid name");if(this.states.hasOwnProperty(u)||n.inArray(t.map(s.prop("name")),u))throw new Error("State '"+u+"' is already defined");return t.push(r),this.flush(),r},e.prototype.flush=function(){for(var e=this,t=this.queue,r=this.states,n=this.builder,o=[],i=[],s={},u=function(t){return e.states.hasOwnProperty(t)&&e.states[t]};t.length>0;){var a=t.shift(),c=a.name,l=n.build(a),d=i.indexOf(a);if(l){var f=u(c);if(f&&f.name===c)throw new Error("State '"+c+"' is already defined");var m=u(c+".**");m&&this.$registry.deregister(m),r[c]=a,this.attachRoute(a),d>=0&&i.splice(d,1),o.push(a)}else{var p=s[c];if(s[c]=t.length,d>=0&&p===t.length)return t.push(a),r;d<0&&i.push(a),t.push(a)}}return o.length&&this.listeners.forEach(function(e){return e("registered",o.map(function(e){return e.self}))}),r},e.prototype.attachRoute=function(e){!e.abstract&&e.url&&this.$urlRouter.rule(this.$urlRouter.urlRuleFactory.create(e))},e}();t.StateQueueManager=u},"./node_modules/@uirouter/core/lib/state/stateRegistry.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/state/stateMatcher.js"),o=r("./node_modules/@uirouter/core/lib/state/stateBuilder.js"),i=r("./node_modules/@uirouter/core/lib/state/stateQueueManager.js"),s=r("./node_modules/@uirouter/core/lib/common/common.js"),u=r("./node_modules/@uirouter/core/lib/common/hof.js"),a=function(){function e(e){this._router=e,this.states={},this.listeners=[],this.matcher=new n.StateMatcher(this.states),this.builder=new o.StateBuilder(this.matcher,e.urlMatcherFactory),this.stateQueue=new i.StateQueueManager(this,e.urlRouter,this.states,this.builder,this.listeners),this._registerRoot()}return e.prototype._registerRoot=function(){(this._root=this.stateQueue.register({name:"",url:"^",views:null,params:{"#":{value:null,type:"hash",dynamic:!0}},abstract:!0})).navigable=null},e.prototype.dispose=function(){var e=this;this.stateQueue.dispose(),this.listeners=[],this.get().forEach(function(t){return e.get(t)&&e.deregister(t)})},e.prototype.onStatesChanged=function(e){return this.listeners.push(e),function(){s.removeFrom(this.listeners)(e)}.bind(this)},e.prototype.root=function(){return this._root},e.prototype.register=function(e){return this.stateQueue.register(e)},e.prototype._deregisterTree=function(e){var t=this,r=this.get().map(function(e){return e.$$state()}),n=function(e){var t=r.filter(function(t){return-1!==e.indexOf(t.parent)});return 0===t.length?t:t.concat(n(t))},o=n([e]),i=[e].concat(o).reverse();return i.forEach(function(e){var r=t._router.urlRouter;r.rules().filter(u.propEq("state",e)).forEach(r.removeRule.bind(r)),delete t.states[e.name]}),i},e.prototype.deregister=function(e){var t=this.get(e);if(!t)throw new Error("Can't deregister state; not found: "+e);var r=this._deregisterTree(t.$$state());return this.listeners.forEach(function(e){return e("deregistered",r.map(function(e){return e.self}))}),r},e.prototype.get=function(e,t){var r=this;if(0===arguments.length)return Object.keys(this.states).map(function(e){return r.states[e].self});var n=this.matcher.find(e,t);return n&&n.self||null},e.prototype.decorator=function(e,t){return this.builder.builder(e,t)},e}();t.StateRegistry=a},"./node_modules/@uirouter/core/lib/state/stateService.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/common/common.js"),o=r("./node_modules/@uirouter/core/lib/common/predicates.js"),i=r("./node_modules/@uirouter/core/lib/common/queue.js"),s=r("./node_modules/@uirouter/core/lib/common/coreservices.js"),u=r("./node_modules/@uirouter/core/lib/path/pathFactory.js"),a=r("./node_modules/@uirouter/core/lib/path/pathNode.js"),c=r("./node_modules/@uirouter/core/lib/transition/transitionService.js"),l=r("./node_modules/@uirouter/core/lib/transition/rejectFactory.js"),d=r("./node_modules/@uirouter/core/lib/state/targetState.js"),f=r("./node_modules/@uirouter/core/lib/params/param.js"),m=r("./node_modules/@uirouter/core/lib/common/glob.js"),p=r("./node_modules/@uirouter/core/lib/resolve/resolveContext.js"),h=r("./node_modules/@uirouter/core/lib/hooks/lazyLoad.js"),v=r("./node_modules/@uirouter/core/lib/common/hof.js"),_=function(){function e(t){this.router=t,this.invalidCallbacks=[],this._defaultErrorHandler=function(e){e instanceof Error&&e.stack?(console.error(e),console.error(e.stack)):e instanceof l.Rejection?(console.error(e.toString()),e.detail&&e.detail.stack&&console.error(e.detail.stack)):console.error(e)};var r=Object.keys(e.prototype).filter(v.not(n.inArray(["current","$current","params","transition"])));n.createProxyFunctions(v.val(e.prototype),this,v.val(this),r)}return Object.defineProperty(e.prototype,"transition",{get:function(){return this.router.globals.transition},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"params",{get:function(){return this.router.globals.params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this.router.globals.current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$current",{get:function(){return this.router.globals.$current},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.defaultErrorHandler(n.noop),this.invalidCallbacks=[]},e.prototype._handleInvalidTargetState=function(e,t){var r=this,n=u.PathUtils.makeTargetState(e),o=this.router.globals,a=function(){return o.transitionHistory.peekTail()},c=a(),f=new i.Queue(this.invalidCallbacks.slice()),m=new p.ResolveContext(e).injector(),h=function(e){if(e instanceof d.TargetState){var t=e;return(t=r.target(t.identifier(),t.params(),t.options())).valid()?a()!==c?l.Rejection.superseded().toPromise():r.transitionTo(t.identifier(),t.params(),t.options()):l.Rejection.invalid(t.error()).toPromise()}};return function e(){var r=f.dequeue();return void 0===r?l.Rejection.invalid(t.error()).toPromise():s.services.$q.when(r(t,n,m)).then(h).then(function(t){return t||e()})}()},e.prototype.onInvalid=function(e){return this.invalidCallbacks.push(e),function(){n.removeFrom(this.invalidCallbacks)(e)}.bind(this)},e.prototype.reload=function(e){return this.transitionTo(this.current,this.params,{reload:!o.isDefined(e)||e,inherit:!1,notify:!1})},e.prototype.go=function(e,t,r){var o={relative:this.$current,inherit:!0},i=n.defaults(r,o,c.defaultTransOpts);return this.transitionTo(e,t,i)},e.prototype.target=function(e,t,r){if(void 0===r&&(r={}),o.isObject(r.reload)&&!r.reload.name)throw new Error("Invalid reload state object");var n=this.router.stateRegistry;if(r.reloadState=!0===r.reload?n.root():n.matcher.find(r.reload,r.relative),r.reload&&!r.reloadState)throw new Error("No such reload state '"+(o.isString(r.reload)?r.reload:r.reload.name)+"'");var i=n.matcher.find(e,r.relative);return new d.TargetState(e,i,t,r)},e.prototype.getCurrentPath=function(){var e=this,t=this.router.globals.successfulTransitions.peekTail();return t?t.treeChanges().to:[new a.PathNode(e.router.stateRegistry.root())]},e.prototype.transitionTo=function(e,t,r){var o=this;void 0===t&&(t={}),void 0===r&&(r={});var i=this.router,u=i.globals;r=n.defaults(r,c.defaultTransOpts);r=n.extend(r,{current:function(){return u.transition}});var a=this.target(e,t,r),f=this.getCurrentPath();if(!a.exists())return this._handleInvalidTargetState(f,a);if(!a.valid())return n.silentRejection(a.error());var m=function(e){return function(t){if(t instanceof l.Rejection){var r=i.globals.lastStartedTransitionId===e.$id;if(t.type===l.RejectType.IGNORED)return r&&i.urlRouter.update(),s.services.$q.when(u.current);var n=t.detail;if(t.type===l.RejectType.SUPERSEDED&&t.redirected&&n instanceof d.TargetState){var a=e.redirect(n);return a.run().catch(m(a))}if(t.type===l.RejectType.ABORTED)return r&&i.urlRouter.update(),s.services.$q.reject(t)}return o.defaultErrorHandler()(t),s.services.$q.reject(t)}},p=this.router.transitionService.create(f,a),h=p.run().catch(m(p));return n.silenceUncaughtInPromise(h),n.extend(h,{transition:p})},e.prototype.is=function(e,t,r){r=n.defaults(r,{relative:this.$current});var i=this.router.stateRegistry.matcher.find(e,r.relative);if(o.isDefined(i)){if(this.$current!==i)return!1;if(!t)return!0;var s=i.parameters({inherit:!0,matchingKeys:t});return f.Param.equals(s,f.Param.values(s,t),this.params)}},e.prototype.includes=function(e,t,r){r=n.defaults(r,{relative:this.$current});var i=o.isString(e)&&m.Glob.fromString(e);if(i){if(!i.matches(this.$current.name))return!1;e=this.$current.name}var s=this.router.stateRegistry.matcher.find(e,r.relative),u=this.$current.includes;if(o.isDefined(s)){if(!o.isDefined(u[s.name]))return!1;if(!t)return!0;var a=s.parameters({inherit:!0,matchingKeys:t});return f.Param.equals(a,f.Param.values(a,t),this.params)}},e.prototype.href=function(e,t,r){var i={lossy:!0,inherit:!0,absolute:!1,relative:this.$current};r=n.defaults(r,i),t=t||{};var s=this.router.stateRegistry.matcher.find(e,r.relative);if(!o.isDefined(s))return null;r.inherit&&(t=this.params.$inherit(t,this.$current,s));var u=s&&r.lossy?s.navigable:s;return u&&void 0!==u.url&&null!==u.url?this.router.urlRouter.href(u.url,t,{absolute:r.absolute}):null},e.prototype.defaultErrorHandler=function(e){return this._defaultErrorHandler=e||this._defaultErrorHandler},e.prototype.get=function(e,t){var r=this.router.stateRegistry;return 0===arguments.length?r.get():r.get(e,t||this.$current)},e.prototype.lazyLoad=function(e,t){var r=this.get(e);if(!r||!r.lazyLoad)throw new Error("Can not lazy load "+e);var n=this.getCurrentPath(),o=u.PathUtils.makeTargetState(n);return t=t||this.router.transitionService.create(n,o),h.lazyLoadState(t,r)},e}();t.StateService=_},"./node_modules/@uirouter/core/lib/state/targetState.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/common/common.js"),o=r("./node_modules/@uirouter/core/lib/common/predicates.js"),i=function(){function e(e,t,r,n){void 0===n&&(n={}),this._identifier=e,this._definition=t,this._options=n,this._params=r||{}}return e.prototype.name=function(){return this._definition&&this._definition.name||this._identifier},e.prototype.identifier=function(){return this._identifier},e.prototype.params=function(){return this._params},e.prototype.$state=function(){return this._definition},e.prototype.state=function(){return this._definition&&this._definition.self},e.prototype.options=function(){return this._options},e.prototype.exists=function(){return!(!this._definition||!this._definition.self)},e.prototype.valid=function(){return!this.error()},e.prototype.error=function(){var e=this.options().relative;if(!this._definition&&e){var t=e.name?e.name:e;return"Could not resolve '"+this.name()+"' from state '"+t+"'"}return this._definition?this._definition.self?void 0:"State '"+this.name()+"' has an invalid definition":"No such state '"+this.name()+"'"},e.prototype.toString=function(){return"'"+this.name()+"'"+n.toJson(this.params())},e}();i.isDef=function(e){return e&&e.state&&(o.isString(e.state)||o.isString(e.state.name))},t.TargetState=i},"./node_modules/@uirouter/core/lib/transition/hookBuilder.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/common/common.js"),o=r("./node_modules/@uirouter/core/lib/common/predicates.js"),i=r("./node_modules/@uirouter/core/lib/transition/interface.js"),s=r("./node_modules/@uirouter/core/lib/transition/transitionHook.js"),u=function(){function e(e){this.transition=e}return e.prototype.buildHooksForPhase=function(e){var t=this;return this.transition.router.transitionService._pluginapi._getEvents(e).map(function(e){return t.buildHooks(e)}).reduce(n.unnestR,[]).filter(n.identity)},e.prototype.buildHooks=function(e){var t=this.transition,r=t.treeChanges(),o=this.getMatchingHooks(e,r);if(!o)return[];var u={transition:t,current:t.options().current};return o.map(function(o){return o.matches(r)[e.criteriaMatchPath.name].map(function(r){var a=n.extend({bind:o.bind,traceData:{hookType:e.name,context:r}},u),c=e.criteriaMatchPath.scope===i.TransitionHookScope.STATE?r.state.self:null,l=new s.TransitionHook(t,c,o,a);return{hook:o,node:r,transitionHook:l}})}).reduce(n.unnestR,[]).sort(function(e){void 0===e&&(e=!1);return function(t,r){var n=e?-1:1,o=(t.node.state.path.length-r.node.state.path.length)*n;return 0!==o?o:r.hook.priority-t.hook.priority}}(e.reverseSort)).map(function(e){return e.transitionHook})},e.prototype.getMatchingHooks=function(e,t){var r=e.hookPhase===i.TransitionHookPhase.CREATE,s=this.transition.router.transitionService;return(r?[s]:[this.transition,s]).map(function(t){return t.getHooks(e.name)}).filter(n.assertPredicate(o.isArray,"broken event named: "+e.name)).reduce(n.unnestR,[]).filter(function(e){return e.matches(t)})},e}();t.HookBuilder=u},"./node_modules/@uirouter/core/lib/transition/hookRegistry.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/common/common.js"),o=r("./node_modules/@uirouter/core/lib/common/predicates.js"),i=r("./node_modules/@uirouter/core/lib/transition/interface.js"),s=r("./node_modules/@uirouter/core/lib/common/glob.js");function u(e,t){var r=o.isString(t)?[t]:t;return!!(o.isFunction(r)?r:function(e){for(var t=r,n=0;n<t.length;n++){var o=new s.Glob(t[n]);if(o&&o.matches(e.name)||!o&&t[n]===e.name)return!0}return!1})(e)}t.matchState=u;var a=function(){function e(e,t,r,n,o){void 0===o&&(o={}),this.tranSvc=e,this.eventType=t,this.callback=r,this.matchCriteria=n,this.priority=o.priority||0,this.bind=o.bind||null,this._deregistered=!1}return e.prototype._matchingNodes=function(e,t){if(!0===t)return e;var r=e.filter(function(e){return u(e.state,t)});return r.length?r:null},e.prototype._getDefaultMatchCriteria=function(){return n.map(this.tranSvc._pluginapi._getPathTypes(),function(){return!0})},e.prototype._getMatchingNodes=function(e){var t=this,r=n.extend(this._getDefaultMatchCriteria(),this.matchCriteria);return n.values(this.tranSvc._pluginapi._getPathTypes()).reduce(function(o,s){var u=s.scope===i.TransitionHookScope.STATE,a=e[s.name]||[],c=u?a:[n.tail(a)];return o[s.name]=t._matchingNodes(c,r[s.name]),o},{})},e.prototype.matches=function(e){var t=this._getMatchingNodes(e);return n.values(t).every(n.identity)?t:null},e}();t.RegisteredHook=a,t.makeEvent=function(e,t,r){var o=(e._registeredHooks=e._registeredHooks||{})[r.name]=[];function i(e,i,s){void 0===s&&(s={});var u=new a(t,r,i,e,s);return o.push(u),function(){u._deregistered=!0,n.removeFrom(o)(u)}}return e[r.name]=i,i}},"./node_modules/@uirouter/core/lib/transition/index.js":function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("./node_modules/@uirouter/core/lib/transition/interface.js")),n(r("./node_modules/@uirouter/core/lib/transition/hookBuilder.js")),n(r("./node_modules/@uirouter/core/lib/transition/hookRegistry.js")),n(r("./node_modules/@uirouter/core/lib/transition/rejectFactory.js")),n(r("./node_modules/@uirouter/core/lib/transition/transition.js")),n(r("./node_modules/@uirouter/core/lib/transition/transitionHook.js")),n(r("./node_modules/@uirouter/core/lib/transition/transitionEventType.js")),n(r("./node_modules/@uirouter/core/lib/transition/transitionService.js"))},"./node_modules/@uirouter/core/lib/transition/interface.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.CREATE=0]="CREATE",e[e.BEFORE=1]="BEFORE",e[e.RUN=2]="RUN",e[e.SUCCESS=3]="SUCCESS",e[e.ERROR=4]="ERROR"}(t.TransitionHookPhase||(t.TransitionHookPhase={})),function(e){e[e.TRANSITION=0]="TRANSITION",e[e.STATE=1]="STATE"}(t.TransitionHookScope||(t.TransitionHookScope={}))},"./node_modules/@uirouter/core/lib/transition/rejectFactory.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r("./node_modules/@uirouter/core/lib/common/common.js"),i=r("./node_modules/@uirouter/core/lib/common/strings.js"),s=r("./node_modules/@uirouter/core/lib/common/hof.js");!function(e){e[e.SUPERSEDED=2]="SUPERSEDED",e[e.ABORTED=3]="ABORTED",e[e.INVALID=4]="INVALID",e[e.IGNORED=5]="IGNORED",e[e.ERROR=6]="ERROR"}(n=t.RejectType||(t.RejectType={}));var u=0,a=function(){function e(e,t,r){this.$id=u++,this.type=e,this.message=t,this.detail=r}return e.prototype.toString=function(){var e,t=(e=this.detail)&&e.toString!==Object.prototype.toString?e.toString():i.stringify(e);return"Transition Rejection($id: "+this.$id+" type: "+this.type+", message: "+this.message+", detail: "+t+")"},e.prototype.toPromise=function(){return o.extend(o.silentRejection(this),{_transitionRejection:this})},e.isRejectionPromise=function(t){return t&&"function"==typeof t.then&&s.is(e)(t._transitionRejection)},e.superseded=function(t,r){var o=new e(n.SUPERSEDED,"The transition has been superseded by a different transition",t);return r&&r.redirected&&(o.redirected=!0),o},e.redirected=function(t){return e.superseded(t,{redirected:!0})},e.invalid=function(t){return new e(n.INVALID,"This transition is invalid",t)},e.ignored=function(t){return new e(n.IGNORED,"The transition was ignored",t)},e.aborted=function(t){return new e(n.ABORTED,"The transition has been aborted",t)},e.errored=function(t){return new e(n.ERROR,"The transition errored",t)},e.normalize=function(t){return s.is(e)(t)?t:e.errored(t)},e}();t.Rejection=a},"./node_modules/@uirouter/core/lib/transition/transition.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/common/trace.js"),o=r("./node_modules/@uirouter/core/lib/common/coreservices.js"),i=r("./node_modules/@uirouter/core/lib/common/common.js"),s=r("./node_modules/@uirouter/core/lib/common/predicates.js"),u=r("./node_modules/@uirouter/core/lib/common/hof.js"),a=r("./node_modules/@uirouter/core/lib/transition/interface.js"),c=r("./node_modules/@uirouter/core/lib/transition/transitionHook.js"),l=r("./node_modules/@uirouter/core/lib/transition/hookRegistry.js"),d=r("./node_modules/@uirouter/core/lib/transition/hookBuilder.js"),f=r("./node_modules/@uirouter/core/lib/path/pathFactory.js"),m=r("./node_modules/@uirouter/core/lib/state/targetState.js"),p=r("./node_modules/@uirouter/core/lib/params/param.js"),h=r("./node_modules/@uirouter/core/lib/resolve/resolvable.js"),v=r("./node_modules/@uirouter/core/lib/resolve/resolveContext.js"),_=u.prop("self"),g=function(){function e(e,t,r){var n=this;if(this._deferred=o.services.$q.defer(),this.promise=this._deferred.promise,this._registeredHooks={},this._hookBuilder=new d.HookBuilder(this),this.isActive=function(){return n.router.globals.transition===n},this.router=r,this._targetState=t,!t.valid())throw new Error(t.error());this._options=i.extend({current:u.val(this)},t.options()),this.$id=r.transitionService._transitionCount++;var s=f.PathUtils.buildToPath(e,t);this._treeChanges=f.PathUtils.treeChanges(e,s,this._options.reloadState),this.createTransitionHookRegFns();var l=this._hookBuilder.buildHooksForPhase(a.TransitionHookPhase.CREATE);c.TransitionHook.invokeHooks(l,function(){return null}),this.applyViewConfigs(r)}return e.prototype.onBefore=function(e,t,r){},e.prototype.onStart=function(e,t,r){},e.prototype.onExit=function(e,t,r){},e.prototype.onRetain=function(e,t,r){},e.prototype.onEnter=function(e,t,r){},e.prototype.onFinish=function(e,t,r){},e.prototype.onSuccess=function(e,t,r){},e.prototype.onError=function(e,t,r){},e.prototype.createTransitionHookRegFns=function(){var e=this;this.router.transitionService._pluginapi._getEvents().filter(function(e){return e.hookPhase!==a.TransitionHookPhase.CREATE}).forEach(function(t){return l.makeEvent(e,e.router.transitionService,t)})},e.prototype.getHooks=function(e){return this._registeredHooks[e]},e.prototype.applyViewConfigs=function(e){var t=this._treeChanges.entering.map(function(e){return e.state});f.PathUtils.applyViewConfigs(e.transitionService.$view,this._treeChanges.to,t)},e.prototype.$from=function(){return i.tail(this._treeChanges.from).state},e.prototype.$to=function(){return i.tail(this._treeChanges.to).state},e.prototype.from=function(){return this.$from().self},e.prototype.to=function(){return this.$to().self},e.prototype.targetState=function(){return this._targetState},e.prototype.is=function(t){return t instanceof e?this.is({to:t.$to().name,from:t.$from().name}):!(t.to&&!l.matchState(this.$to(),t.to)||t.from&&!l.matchState(this.$from(),t.from))},e.prototype.params=function(e){return void 0===e&&(e="to"),Object.freeze(this._treeChanges[e].map(u.prop("paramValues")).reduce(i.mergeR,{}))},e.prototype.injector=function(e,t){void 0===t&&(t="to");var r=this._treeChanges[t];return e&&(r=f.PathUtils.subPath(r,function(t){return t.state===e||t.state.name===e})),new v.ResolveContext(r).injector()},e.prototype.getResolveTokens=function(e){return void 0===e&&(e="to"),new v.ResolveContext(this._treeChanges[e]).getTokens()},e.prototype.addResolvable=function(e,t){void 0===t&&(t=""),e=u.is(h.Resolvable)(e)?e:new h.Resolvable(e);var r="string"==typeof t?t:t.name,n=this._treeChanges.to,o=i.find(n,function(e){return e.state.name===r});new v.ResolveContext(n).addResolvables([e],o.state)},e.prototype.redirectedFrom=function(){return this._options.redirectedFrom||null},e.prototype.originalTransition=function(){var e=this.redirectedFrom();return e&&e.originalTransition()||this},e.prototype.options=function(){return this._options},e.prototype.entering=function(){return i.map(this._treeChanges.entering,u.prop("state")).map(_)},e.prototype.exiting=function(){return i.map(this._treeChanges.exiting,u.prop("state")).map(_).reverse()},e.prototype.retained=function(){return i.map(this._treeChanges.retained,u.prop("state")).map(_)},e.prototype.views=function(e,t){void 0===e&&(e="entering");var r=this._treeChanges[e];return(r=t?r.filter(u.propEq("state",t)):r).map(u.prop("views")).filter(i.identity).reduce(i.unnestR,[])},e.prototype.treeChanges=function(e){return e?this._treeChanges[e]:this._treeChanges},e.prototype.redirect=function(e){for(var t=1,r=this;null!=(r=r.redirectedFrom());)if(++t>20)throw new Error("Too many consecutive Transition redirects (20+)");var n={redirectedFrom:this,source:"redirect"};"url"===this.options().source&&!1!==e.options().location&&(n.location="replace");var o=i.extend({},this.options(),e.options(),n);e=new m.TargetState(e.identifier(),e.$state(),e.params(),o);var s,a=this.router.transitionService.create(this._treeChanges.from,e),c=this._treeChanges.entering,l=a._treeChanges.entering;return f.PathUtils.matching(l,c,f.PathUtils.nonDynamicParams).filter(u.not((s=e.options().reloadState,function(e){return s&&e.state.includes[s.name]}))).forEach(function(e,t){e.resolvables=c[t].resolvables}),a},e.prototype._changedParams=function(){var e=this._treeChanges;if(!this._options.reload&&(!e.exiting.length&&!e.entering.length&&e.to.length===e.from.length&&!i.arrayTuples(e.to,e.from).map(function(e){return e[0].state!==e[1].state}).reduce(i.anyTrueR,!1))){var t=e.to.map(function(e){return e.paramSchema}),r=[e.to,e.from].map(function(e){return e.map(function(e){return e.paramValues})}),n=r[0],o=r[1];return i.arrayTuples(t,n,o).map(function(e){var t=e[0],r=e[1],n=e[2];return p.Param.changed(t,r,n)}).reduce(i.unnestR,[])}},e.prototype.dynamic=function(){var e=this._changedParams();return!!e&&e.map(function(e){return e.dynamic}).reduce(i.anyTrueR,!1)},e.prototype.ignored=function(){return!!this._ignoredReason()},e.prototype._ignoredReason=function(){var e=this.router.globals.transition,t=this._options.reloadState,r=function(e,r){if(e.length!==r.length)return!1;var n=f.PathUtils.matching(e,r);return e.length===n.filter(function(e){return!t||!e.state.includes[t.name]}).length},n=this.treeChanges(),o=e&&e.treeChanges();return o&&r(o.to,n.to)&&r(o.exiting,n.exiting)?"SameAsPending":0===n.exiting.length&&0===n.entering.length&&r(n.from,n.to)?"SameAsCurrent":void 0},e.prototype.run=function(){var e=this,t=c.TransitionHook.runAllHooks,r=function(t){return e._hookBuilder.buildHooksForPhase(t)},i=r(a.TransitionHookPhase.BEFORE);return c.TransitionHook.invokeHooks(i,function(){var t=e.router.globals;return t.lastStartedTransitionId=e.$id,t.transition=e,t.transitionHistory.enqueue(e),n.trace.traceTransitionStart(e),o.services.$q.when(void 0)}).then(function(){var e=r(a.TransitionHookPhase.RUN);return c.TransitionHook.invokeHooks(e,function(){return o.services.$q.when(void 0)})}).then(function(){n.trace.traceSuccess(e.$to(),e),e.success=!0,e._deferred.resolve(e.to()),t(r(a.TransitionHookPhase.SUCCESS))},function(o){n.trace.traceError(o,e),e.success=!1,e._deferred.reject(o),e._error=o,t(r(a.TransitionHookPhase.ERROR))}),this.promise},e.prototype.valid=function(){return!this.error()||void 0!==this.success},e.prototype.abort=function(){s.isUndefined(this.success)&&(this._aborted=!0)},e.prototype.error=function(){var e=this.$to();return e.self.abstract?"Cannot transition to abstract state '"+e.name+"'":p.Param.validates(e.parameters(),this.params())?!1===this.success?this._error:void 0:"Param values not valid for state '"+e.name+"'"},e.prototype.toString=function(){var e=this.from(),t=this.to(),r=function(e){return null!==e["#"]&&void 0!==e["#"]?e:i.omit(e,["#"])};return"Transition#"+this.$id+"( '"+(s.isObject(e)?e.name:e)+"'"+i.toJson(r(this._treeChanges.from.map(u.prop("paramValues")).reduce(i.mergeR,{})))+" -> "+(this.valid()?"":"(X) ")+"'"+(s.isObject(t)?t.name:t)+"'"+i.toJson(r(this.params()))+" )"},e}();g.diToken=g,t.Transition=g},"./node_modules/@uirouter/core/lib/transition/transitionEventType.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/transition/transitionHook.js"),o=function(){return function(e,t,r,o,i,s,u,a){void 0===i&&(i=!1),void 0===s&&(s=n.TransitionHook.HANDLE_RESULT),void 0===u&&(u=n.TransitionHook.REJECT_ERROR),void 0===a&&(a=!1),this.name=e,this.hookPhase=t,this.hookOrder=r,this.criteriaMatchPath=o,this.reverseSort=i,this.getResultHandler=s,this.getErrorHandler=u,this.synchronous=a}}();t.TransitionEventType=o},"./node_modules/@uirouter/core/lib/transition/transitionHook.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/transition/interface.js"),o=r("./node_modules/@uirouter/core/lib/common/common.js"),i=r("./node_modules/@uirouter/core/lib/common/strings.js"),s=r("./node_modules/@uirouter/core/lib/common/predicates.js"),u=r("./node_modules/@uirouter/core/lib/common/hof.js"),a=r("./node_modules/@uirouter/core/lib/common/trace.js"),c=r("./node_modules/@uirouter/core/lib/common/coreservices.js"),l=r("./node_modules/@uirouter/core/lib/transition/rejectFactory.js"),d=r("./node_modules/@uirouter/core/lib/state/targetState.js"),f={current:o.noop,transition:null,traceData:{},bind:null},m=function(){function e(e,t,r,i){var s=this;this.transition=e,this.stateContext=t,this.registeredHook=r,this.options=i,this.isSuperseded=function(){return s.type.hookPhase===n.TransitionHookPhase.RUN&&!s.options.transition.isActive()},this.options=o.defaults(i,f),this.type=r.eventType}return e.prototype.logError=function(e){this.transition.router.stateService.defaultErrorHandler()(e)},e.prototype.invokeHook=function(){var e=this,t=this.registeredHook;if(!t._deregistered){var r=this.getNotCurrentRejection();if(r)return r;var n=this.options;a.trace.traceHookInvocation(this,this.transition,n);var o=function(r){return t.eventType.getErrorHandler(e)(r)},i=function(r){return t.eventType.getResultHandler(e)(r)};try{var u=t.callback.call(n.bind,e.transition,e.stateContext);return!this.type.synchronous&&s.isPromise(u)?u.catch(function(e){return l.Rejection.normalize(e).toPromise()}).then(i,o):i(u)}catch(e){return o(l.Rejection.normalize(e))}}},e.prototype.handleHookResult=function(e){var t=this,r=this.getNotCurrentRejection();return r||(s.isPromise(e)?e.then(function(e){return t.handleHookResult(e)}):(a.trace.traceHookResult(e,this.transition,this.options),!1===e?l.Rejection.aborted("Hook aborted transition").toPromise():u.is(d.TargetState)(e)?l.Rejection.redirected(e).toPromise():void 0))},e.prototype.getNotCurrentRejection=function(){var e=this.transition.router;return e._disposed?l.Rejection.aborted("UIRouter instance #"+e.$id+" has been stopped (disposed)").toPromise():this.transition._aborted?l.Rejection.aborted().toPromise():this.isSuperseded()?l.Rejection.superseded(this.options.current()).toPromise():void 0},e.prototype.toString=function(){var e=this.options,t=this.registeredHook,r=u.parse("traceData.hookType")(e)||"internal",n=u.parse("traceData.context.state.name")(e)||u.parse("traceData.context")(e)||"unknown",o=i.fnToString(t.callback);return r+" context: "+n+", "+i.maxLength(200,o)},e.chain=function(e,t){return e.reduce(function(e,t){return e.then(function(){return t.invokeHook()})},t||c.services.$q.when())},e.invokeHooks=function(t,r){for(var n=0;n<t.length;n++){var o=t[n].invokeHook();if(s.isPromise(o)){var i=t.slice(n+1);return e.chain(i,o).then(r)}}return r()},e.runAllHooks=function(e){e.forEach(function(e){return e.invokeHook()})},e}();m.HANDLE_RESULT=function(e){return function(t){return e.handleHookResult(t)}},m.LOG_REJECTED_RESULT=function(e){return function(t){s.isPromise(t)&&t.catch(function(t){return e.logError(l.Rejection.normalize(t))})}},m.LOG_ERROR=function(e){return function(t){return e.logError(t)}},m.REJECT_ERROR=function(e){return function(e){return o.silentRejection(e)}},m.THROW_ERROR=function(e){return function(e){throw e}},t.TransitionHook=m},"./node_modules/@uirouter/core/lib/transition/transitionService.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/transition/interface.js"),o=r("./node_modules/@uirouter/core/lib/transition/transition.js"),i=r("./node_modules/@uirouter/core/lib/transition/hookRegistry.js"),s=r("./node_modules/@uirouter/core/lib/hooks/coreResolvables.js"),u=r("./node_modules/@uirouter/core/lib/hooks/redirectTo.js"),a=r("./node_modules/@uirouter/core/lib/hooks/onEnterExitRetain.js"),c=r("./node_modules/@uirouter/core/lib/hooks/resolve.js"),l=r("./node_modules/@uirouter/core/lib/hooks/views.js"),d=r("./node_modules/@uirouter/core/lib/hooks/updateGlobals.js"),f=r("./node_modules/@uirouter/core/lib/hooks/url.js"),m=r("./node_modules/@uirouter/core/lib/hooks/lazyLoad.js"),p=r("./node_modules/@uirouter/core/lib/transition/transitionEventType.js"),h=r("./node_modules/@uirouter/core/lib/transition/transitionHook.js"),v=r("./node_modules/@uirouter/core/lib/common/predicates.js"),_=r("./node_modules/@uirouter/core/lib/common/common.js"),g=r("./node_modules/@uirouter/core/lib/common/hof.js"),y=r("./node_modules/@uirouter/core/lib/hooks/ignoredTransition.js"),j=r("./node_modules/@uirouter/core/lib/hooks/invalidTransition.js");t.defaultTransOpts={location:!0,relative:null,inherit:!1,notify:!0,reload:!1,custom:{},current:function(){return null},source:"unknown"};var b=function(){function e(e){this._transitionCount=0,this._eventTypes=[],this._registeredHooks={},this._criteriaPaths={},this._router=e,this.$view=e.viewService,this._deregisterHookFns={},this._pluginapi=_.createProxyFunctions(g.val(this),{},g.val(this),["_definePathType","_defineEvent","_getPathTypes","_getEvents","getHooks"]),this._defineCorePaths(),this._defineCoreEvents(),this._registerCoreTransitionHooks()}return e.prototype.onCreate=function(e,t,r){},e.prototype.onBefore=function(e,t,r){},e.prototype.onStart=function(e,t,r){},e.prototype.onExit=function(e,t,r){},e.prototype.onRetain=function(e,t,r){},e.prototype.onEnter=function(e,t,r){},e.prototype.onFinish=function(e,t,r){},e.prototype.onSuccess=function(e,t,r){},e.prototype.onError=function(e,t,r){},e.prototype.dispose=function(e){_.values(this._registeredHooks).forEach(function(e){return e.forEach(function(t){t._deregistered=!0,_.removeFrom(e,t)})})},e.prototype.create=function(e,t){return new o.Transition(e,t,this._router)},e.prototype._defineCoreEvents=function(){var e=n.TransitionHookPhase,t=h.TransitionHook,r=this._criteriaPaths;this._defineEvent("onCreate",e.CREATE,0,r.to,!1,t.LOG_REJECTED_RESULT,t.THROW_ERROR,!0),this._defineEvent("onBefore",e.BEFORE,0,r.to),this._defineEvent("onStart",e.RUN,0,r.to),this._defineEvent("onExit",e.RUN,100,r.exiting,!0),this._defineEvent("onRetain",e.RUN,200,r.retained),this._defineEvent("onEnter",e.RUN,300,r.entering),this._defineEvent("onFinish",e.RUN,400,r.to),this._defineEvent("onSuccess",e.SUCCESS,0,r.to,!1,t.LOG_REJECTED_RESULT,t.LOG_ERROR,!0),this._defineEvent("onError",e.ERROR,0,r.to,!1,t.LOG_REJECTED_RESULT,t.LOG_ERROR,!0)},e.prototype._defineCorePaths=function(){var e=n.TransitionHookScope.STATE,t=n.TransitionHookScope.TRANSITION;this._definePathType("to",t),this._definePathType("from",t),this._definePathType("exiting",e),this._definePathType("retained",e),this._definePathType("entering",e)},e.prototype._defineEvent=function(e,t,r,n,o,s,u,a){void 0===o&&(o=!1),void 0===s&&(s=h.TransitionHook.HANDLE_RESULT),void 0===u&&(u=h.TransitionHook.REJECT_ERROR),void 0===a&&(a=!1);var c=new p.TransitionEventType(e,t,r,n,o,s,u,a);this._eventTypes.push(c),i.makeEvent(this,this,c)},e.prototype._getEvents=function(e){return(v.isDefined(e)?this._eventTypes.filter(function(t){return t.hookPhase===e}):this._eventTypes.slice()).sort(function(e,t){var r=e.hookPhase-t.hookPhase;return 0===r?e.hookOrder-t.hookOrder:r})},e.prototype._definePathType=function(e,t){this._criteriaPaths[e]={name:e,scope:t}},e.prototype._getPathTypes=function(){return this._criteriaPaths},e.prototype.getHooks=function(e){return this._registeredHooks[e]},e.prototype._registerCoreTransitionHooks=function(){var e=this._deregisterHookFns;e.addCoreResolves=s.registerAddCoreResolvables(this),e.ignored=y.registerIgnoredTransitionHook(this),e.invalid=j.registerInvalidTransitionHook(this),e.redirectTo=u.registerRedirectToHook(this),e.onExit=a.registerOnExitHook(this),e.onRetain=a.registerOnRetainHook(this),e.onEnter=a.registerOnEnterHook(this),e.eagerResolve=c.registerEagerResolvePath(this),e.lazyResolve=c.registerLazyResolveState(this),e.loadViews=l.registerLoadEnteringViews(this),e.activateViews=l.registerActivateViews(this),e.updateGlobals=d.registerUpdateGlobalState(this),e.updateUrl=f.registerUpdateUrl(this),e.lazyLoad=m.registerLazyLoadHook(this)},e}();t.TransitionService=b},"./node_modules/@uirouter/core/lib/url/index.js":function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("./node_modules/@uirouter/core/lib/url/urlMatcher.js")),n(r("./node_modules/@uirouter/core/lib/url/urlMatcherFactory.js")),n(r("./node_modules/@uirouter/core/lib/url/urlRouter.js")),n(r("./node_modules/@uirouter/core/lib/url/urlRule.js")),n(r("./node_modules/@uirouter/core/lib/url/urlService.js"))},"./node_modules/@uirouter/core/lib/url/urlMatcher.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/common/common.js"),o=r("./node_modules/@uirouter/core/lib/common/hof.js"),i=r("./node_modules/@uirouter/core/lib/common/predicates.js"),s=r("./node_modules/@uirouter/core/lib/params/param.js"),u=r("./node_modules/@uirouter/core/lib/common/strings.js");function a(e,t){var r=["",""],n=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return n;switch(t.squash){case!1:r=["(",")"+(t.isOptional?"?":"")];break;case!0:n=n.replace(/\/$/,""),r=["(?:/(",")|/)?"];break;default:r=["("+t.squash+"|",")?"]}return n+r[0]+t.type.pattern.source+r[1]}var c=u.splitOnDelim("/"),l=function(){function e(t,r,i,s){var u=this;this.config=s,this._cache={path:[this]},this._children=[],this._params=[],this._segments=[],this._compiled=[],this.pattern=t,this.config=n.defaults(this.config,{params:{},strict:!0,caseInsensitive:!1,paramMap:n.identity});for(var c,l,d,f=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,m=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,p=0,h=[],v=function(r){if(!e.nameValidator.test(r))throw new Error("Invalid parameter name '"+r+"' in pattern '"+t+"'");if(n.find(u._params,o.propEq("id",r)))throw new Error("Duplicate parameter name '"+r+"' in pattern '"+t+"'")},_=function(e,o){var i=e[2]||e[3],s=o?e[4]:e[4]||("*"===e[1]?".*":null);return{id:i,regexp:s,cfg:u.config.params[i],segment:t.substring(p,e.index),type:s?r.type(s)||function(e){return n.inherit(r.type(o?"query":"path"),{pattern:new RegExp(e,u.config.caseInsensitive?"i":void 0)})}(s):null}};(c=f.exec(t))&&!((l=_(c,!1)).segment.indexOf("?")>=0);)v(l.id),this._params.push(i.fromPath(l.id,l.type,this.config.paramMap(l.cfg,!1))),this._segments.push(l.segment),h.push([l.segment,n.tail(this._params)]),p=f.lastIndex;var g=(d=t.substring(p)).indexOf("?");if(g>=0){var y=d.substring(g);if(d=d.substring(0,g),y.length>0)for(p=0;c=m.exec(y);)v((l=_(c,!0)).id),this._params.push(i.fromSearch(l.id,l.type,this.config.paramMap(l.cfg,!0))),p=f.lastIndex}this._segments.push(d),this._compiled=h.map(function(e){return a.apply(null,e)}).concat(a(d))}return e.prototype.append=function(e){return this._children.push(e),e._cache={path:this._cache.path.concat(e),parent:this,pattern:null},e},e.prototype.isRoot=function(){return this._cache.path[0]===this},e.prototype.toString=function(){return this.pattern},e.prototype.exec=function(e,t,r,s){var u=this;void 0===t&&(t={}),void 0===s&&(s={});var a,c,l,d=(a=this._cache,c="pattern",l=function(){return new RegExp(["^",n.unnest(u._cache.path.map(o.prop("_compiled"))).join(""),!1===u.config.strict?"/?":"","$"].join(""),u.config.caseInsensitive?"i":void 0)},a[c]=a[c]||l()).exec(e);if(!d)return null;var f,m,p,h=this.parameters(),v=h.filter(function(e){return!e.isSearch()}),_=h.filter(function(e){return e.isSearch()}),g=this._cache.path.map(function(e){return e._segments.length-1}).reduce(function(e,t){return e+t}),y={};if(g!==d.length-1)throw new Error("Unbalanced capture group in route '"+this.pattern+"'");for(var j=0;j<g;j++){for(var b=v[j],w=d[j+1],S=0;S<b.replace.length;S++)b.replace[S].from===w&&(w=b.replace[S].to);w&&!0===b.array&&(void 0,void 0,void 0,m=(f=function(e){return e.split("").reverse().join("")})(w).split(/-(?!\\)/),p=n.map(m,f),w=n.map(p,function(e){return e.replace(/\\-/g,"-")}).reverse()),i.isDefined(w)&&(w=b.type.decode(w)),y[b.id]=b.value(w)}return _.forEach(function(e){for(var r=t[e.id],n=0;n<e.replace.length;n++)e.replace[n].from===r&&(r=e.replace[n].to);i.isDefined(r)&&(r=e.type.decode(r)),y[e.id]=e.value(r)}),r&&(y["#"]=r),y},e.prototype.parameters=function(e){return void 0===e&&(e={}),!1===e.inherit?this._params:n.unnest(this._cache.path.map(function(e){return e._params}))},e.prototype.parameter=function(e,t){var r=this;void 0===t&&(t={});var n=this._cache.parent;return function(){for(var t=0,n=r._params;t<n.length;t++){var o=n[t];if(o.id===e)return o}}()||!1!==t.inherit&&n&&n.parameter(e,t)||null},e.prototype.validates=function(e){return e=e||{},this.parameters().filter(function(t){return e.hasOwnProperty(t.id)}).map(function(t){return r=t,n=e[t.id],!r||r.validates(n);var r,n}).reduce(n.allTrueR,!0)},e.prototype.format=function(t){void 0===t&&(t={});var r=this._cache.path,o=r.map(e.pathSegmentsAndParams).reduce(n.unnestR,[]).map(function(e){return i.isString(e)?e:u(e)}),s=r.map(e.queryParams).reduce(n.unnestR,[]).map(u);if(o.concat(s).filter(function(e){return!1===e.isValid}).length)return null;function u(e){var r=e.value(t[e.id]),n=e.validates(r),o=e.isDefaultValue(r);return{param:e,value:r,isValid:n,isDefaultValue:o,squash:!!o&&e.squash,encoded:e.type.encode(r)}}var a=o.reduce(function(t,r){if(i.isString(r))return t+r;var o=r.squash,s=r.encoded,u=r.param;return!0===o?t.match(/\/$/)?t.slice(0,-1):t:i.isString(o)?t+o:!1!==o?t:null==s?t:i.isArray(s)?t+n.map(s,e.encodeDashes).join("-"):u.raw?t+s:t+encodeURIComponent(s)},""),c=s.map(function(e){var t=e.param,r=e.squash,o=e.encoded,s=e.isDefaultValue;if(!(null==o||s&&!1!==r)&&(i.isArray(o)||(o=[o]),0!==o.length))return t.raw||(o=n.map(o,encodeURIComponent)),o.map(function(e){return t.id+"="+e})}).filter(n.identity).reduce(n.unnestR,[]).join("&");return a+(c?"?"+c:"")+(t["#"]?"#"+t["#"]:"")},e.encodeDashes=function(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})},e.pathSegmentsAndParams=function(e){var t=e._segments,r=e._params.filter(function(e){return e.location===s.DefType.PATH});return n.arrayTuples(t,r.concat(void 0)).reduce(n.unnestR,[]).filter(function(e){return""!==e&&i.isDefined(e)})},e.queryParams=function(e){return e._params.filter(function(e){return e.location===s.DefType.SEARCH})},e.compare=function(t,r){var o,a,l=function(t){return t._cache.weights=t._cache.weights||function(t){return t._cache.segments=t._cache.segments||t._cache.path.map(e.pathSegmentsAndParams).reduce(n.unnestR,[]).reduce(u.joinNeighborsR,[]).map(function(e){return i.isString(e)?c(e):e}).reduce(n.unnestR,[])}(t).map(function(e){return"/"===e?1:i.isString(e)?2:e instanceof s.Param?3:void 0})},d=n.arrayTuples(l(t),l(r));for(a=0;a<d.length;a++)if(0!==(o=d[a][0]-d[a][1]))return o;return 0},e}();l.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/,t.UrlMatcher=l},"./node_modules/@uirouter/core/lib/url/urlMatcherFactory.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/common/common.js"),o=r("./node_modules/@uirouter/core/lib/common/predicates.js"),i=r("./node_modules/@uirouter/core/lib/url/urlMatcher.js"),s=r("./node_modules/@uirouter/core/lib/params/param.js"),u=r("./node_modules/@uirouter/core/lib/params/paramTypes.js"),a=function(){function e(){var e=this;this.paramTypes=new u.ParamTypes,this._isCaseInsensitive=!1,this._isStrictMode=!0,this._defaultSquashPolicy=!1,this._getConfig=function(t){return n.extend({strict:e._isStrictMode,caseInsensitive:e._isCaseInsensitive},t)},this.paramFactory={fromConfig:function(t,r,n){return new s.Param(t,r,n,s.DefType.CONFIG,e)},fromPath:function(t,r,n){return new s.Param(t,r,n,s.DefType.PATH,e)},fromSearch:function(t,r,n){return new s.Param(t,r,n,s.DefType.SEARCH,e)}},n.extend(this,{UrlMatcher:i.UrlMatcher,Param:s.Param})}return e.prototype.caseInsensitive=function(e){return this._isCaseInsensitive=o.isDefined(e)?e:this._isCaseInsensitive},e.prototype.strictMode=function(e){return this._isStrictMode=o.isDefined(e)?e:this._isStrictMode},e.prototype.defaultSquashPolicy=function(e){if(o.isDefined(e)&&!0!==e&&!1!==e&&!o.isString(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=o.isDefined(e)?e:this._defaultSquashPolicy},e.prototype.compile=function(e,t){return new i.UrlMatcher(e,this.paramTypes,this.paramFactory,this._getConfig(t))},e.prototype.isMatcher=function(e){if(!o.isObject(e))return!1;var t=!0;return n.forEach(i.UrlMatcher.prototype,function(r,n){o.isFunction(r)&&(t=t&&o.isDefined(e[n])&&o.isFunction(e[n]))}),t},e.prototype.type=function(e,t,r){var n=this.paramTypes.type(e,t,r);return o.isDefined(t)?this:n},e.prototype.$get=function(){return this.paramTypes.enqueue=!1,this.paramTypes._flushTypeQueue(),this},e.prototype.dispose=function(){this.paramTypes.dispose()},e}();t.UrlMatcherFactory=a},"./node_modules/@uirouter/core/lib/url/urlRouter.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/common/common.js"),o=r("./node_modules/@uirouter/core/lib/common/predicates.js"),i=r("./node_modules/@uirouter/core/lib/url/urlMatcher.js"),s=r("./node_modules/@uirouter/core/lib/common/hof.js"),u=r("./node_modules/@uirouter/core/lib/url/urlRule.js"),a=r("./node_modules/@uirouter/core/lib/state/targetState.js");var c,l=s.prop("urlMatcher");c=n.composeSort(n.sortBy(s.pipe(s.prop("priority"),function(e){return-e})),n.sortBy(s.pipe(s.prop("type"),function(e){return{STATE:4,URLMATCHER:4,REGEXP:3,RAW:2,OTHER:1}[e]})),function(e,t){return l(e)&&l(t)?i.UrlMatcher.compare(l(e),l(t)):0},n.sortBy(s.prop("$id"),n.inArray(["REGEXP","RAW","OTHER"])));var d=function(){function e(t){this._sortFn=c,this._rules=[],this.interceptDeferred=!1,this._id=0,this._sorted=!1,this._router=t,this.urlRuleFactory=new u.UrlRuleFactory(t),n.createProxyFunctions(s.val(e.prototype),this,s.val(this))}return e.prototype.dispose=function(){this.listen(!1),this._rules=[],delete this._otherwiseFn},e.prototype.sort=function(e){this._rules.sort(this._sortFn=e||this._sortFn),this._sorted=!0},e.prototype.ensureSorted=function(){this._sorted||this.sort()},e.prototype.match=function(e){var t=this;this.ensureSorted(),e=n.extend({path:"",search:{},hash:""},e);var r=this.rules();this._otherwiseFn&&r.push(this._otherwiseFn);for(var o,i,s,u=0;u<r.length&&(!o||0===this._sortFn(r[u],o.rule));u++){var a=(i=r[u],void 0,(s=i.match(e,t._router))&&{match:s,rule:i,weight:i.matchPriority(s)});o=!o||a&&a.weight>o.weight?a:o}return o},e.prototype.sync=function(e){if(!e||!e.defaultPrevented){var t=this._router,r=t.urlService,n=t.stateService,i={path:r.path(),search:r.search(),hash:r.hash()},u=this.match(i);s.pattern([[o.isString,function(e){return r.url(e,!0)}],[a.TargetState.isDef,function(e){return n.go(e.state,e.params,e.options)}],[s.is(a.TargetState),function(e){return n.go(e.state(),e.params(),e.options())}]])(u&&u.rule.handler(u.match,i,t))}},e.prototype.listen=function(e){var t=this;if(!1!==e)return this._stopFn=this._stopFn||this._router.urlService.onChange(function(e){return t.sync(e)});this._stopFn&&this._stopFn(),delete this._stopFn},e.prototype.update=function(e){var t=this._router.locationService;e?this.location=t.path():t.path()!==this.location&&t.url(this.location,!0)},e.prototype.push=function(e,t,r){var n=r&&!!r.replace;this._router.urlService.url(e.format(t||{}),n)},e.prototype.href=function(e,t,r){var n=e.format(t);if(null==n)return null;r=r||{absolute:!1};var o=this._router.urlService.config,i=o.html5Mode();if(i||null===n||(n="#"+o.hashPrefix()+n),n=function(e,t,r,n){return"/"===n?e:t?n.slice(0,-1)+e:r?n.slice(1)+e:e}(n,i,r.absolute,o.baseHref()),!r.absolute||!n)return n;var s=!i&&n?"/":"",u=o.port();return u=80===u||443===u?"":":"+u,[o.protocol(),"://",o.host(),u,s,n].join("")},e.prototype.rule=function(e){var t=this;if(!u.UrlRuleFactory.isUrlRule(e))throw new Error("invalid rule");return e.$id=this._id++,e.priority=e.priority||0,this._rules.push(e),this._sorted=!1,function(){return t.removeRule(e)}},e.prototype.removeRule=function(e){n.removeFrom(this._rules,e)},e.prototype.rules=function(){return this.ensureSorted(),this._rules.slice()},e.prototype.otherwise=function(e){var t=f(e);this._otherwiseFn=this.urlRuleFactory.create(s.val(!0),t),this._sorted=!1},e.prototype.initial=function(e){var t=f(e);this.rule(this.urlRuleFactory.create(function(e,t){return 0===t.globals.transitionHistory.size()&&!!/^\/?$/.exec(e.path)},t))},e.prototype.when=function(e,t,r){var n=this.urlRuleFactory.create(e,t);return o.isDefined(r&&r.priority)&&(n.priority=r.priority),this.rule(n),n},e.prototype.deferIntercept=function(e){void 0===e&&(e=!0),this.interceptDeferred=e},e}();function f(e){if(!(o.isFunction(e)||o.isString(e)||s.is(a.TargetState)(e)||a.TargetState.isDef(e)))throw new Error("'handler' must be a string, function, TargetState, or have a state: 'newtarget' property");return o.isFunction(e)?e:s.val(e)}t.UrlRouter=d},"./node_modules/@uirouter/core/lib/url/urlRule.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/url/urlMatcher.js"),o=r("./node_modules/@uirouter/core/lib/common/predicates.js"),i=r("./node_modules/@uirouter/core/lib/common/common.js"),s=r("./node_modules/@uirouter/core/lib/common/hof.js"),u=function(){function e(e){this.router=e}return e.prototype.compile=function(e){return this.router.urlMatcherFactory.compile(e)},e.prototype.create=function(e,t){var r=this,i=s.pattern([[o.isString,function(e){return i(r.compile(e))}],[s.is(n.UrlMatcher),function(e){return r.fromUrlMatcher(e,t)}],[o.isState,function(e){return r.fromState(e,r.router)}],[s.is(RegExp),function(e){return r.fromRegExp(e,t)}],[o.isFunction,function(e){return new a(e,t)}]]),u=i(e);if(!u)throw new Error("invalid 'what' in when()");return u},e.prototype.fromUrlMatcher=function(e,t){var r=t;o.isString(t)&&(t=this.router.urlMatcherFactory.compile(t)),s.is(n.UrlMatcher)(t)&&(r=function(e){return t.format(e)});var u={urlMatcher:e,matchPriority:function(t){var r=e.parameters().filter(function(e){return e.isOptional});return r.length?r.filter(function(e){return t[e.id]}).length/r.length:1e-6},type:"URLMATCHER"};return i.extend(new a(function(t){var r=e.exec(t.path,t.search,t.hash);return e.validates(r)&&r},r),u)},e.prototype.fromState=function(e,t){var r={state:e,type:"STATE"};return i.extend(this.fromUrlMatcher(e.url,function(r){var n=t.stateService,o=t.globals;n.href(e,r)!==n.href(o.current,o.params)&&n.transitionTo(e,r,{inherit:!0,source:"url"})}),r)},e.prototype.fromRegExp=function(e,t){if(e.global||e.sticky)throw new Error("Rule RegExp must not be global or sticky");var r=o.isString(t)?function(e){return t.replace(/\$(\$|\d{1,2})/,function(t,r){return e["$"===r?0:Number(r)]})}:t,n={regexp:e,type:"REGEXP"};return i.extend(new a(function(t){return e.exec(t.path)},r),n)},e}();u.isUrlRule=function(e){return e&&["type","match","handler"].every(function(t){return o.isDefined(e[t])})},t.UrlRuleFactory=u;var a=function(){return function(e,t){var r=this;this.match=e,this.type="RAW",this.matchPriority=function(e){return 0-r.$id},this.handler=t||i.identity}}();t.BaseUrlRule=a},"./node_modules/@uirouter/core/lib/url/urlService.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/common/coreservices.js"),o=r("./node_modules/@uirouter/core/lib/common/common.js"),i=function(e){return e.reduce(function(e,t){return e[t]=n.notImplemented(t),e},{dispose:o.noop})},s=["url","path","search","hash","onChange"],u=["port","protocol","host","baseHref","html5Mode","hashPrefix"],a=["type","caseInsensitive","strictMode","defaultSquashPolicy"],c=["sort","when","initial","otherwise","rules","rule","removeRule"],l=["deferIntercept","listen","sync","match"],d=function(){function e(e,t){void 0===t&&(t=!0),this.router=e,this.rules={},this.config={};var r=function(){return e.locationService};o.createProxyFunctions(r,this,r,s,t);var n=function(){return e.locationConfig};o.createProxyFunctions(n,this.config,n,u,t);var i=function(){return e.urlMatcherFactory};o.createProxyFunctions(i,this.config,i,a);var d=function(){return e.urlRouter};o.createProxyFunctions(d,this.rules,d,c),o.createProxyFunctions(d,this,d,l)}return e.prototype.url=function(e,t,r){},e.prototype.path=function(){},e.prototype.search=function(){},e.prototype.hash=function(){},e.prototype.onChange=function(e){},e.prototype.parts=function(){return{path:this.path(),search:this.search(),hash:this.hash()}},e.prototype.dispose=function(){},e.prototype.sync=function(e){},e.prototype.listen=function(e){},e.prototype.deferIntercept=function(e){},e.prototype.match=function(e){},e}();d.locationServiceStub=i(s),d.locationConfigStub=i(u),t.UrlService=d},"./node_modules/@uirouter/core/lib/vanilla.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r("./node_modules/@uirouter/core/lib/vanilla/index.js"))},"./node_modules/@uirouter/core/lib/vanilla/baseLocationService.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/vanilla/utils.js"),o=r("./node_modules/@uirouter/core/lib/common/predicates.js"),i=r("./node_modules/@uirouter/core/lib/common/common.js"),s=function(){function e(e,t){var r=this;this.fireAfterUpdate=t,this._listener=function(e){return r._listeners.forEach(function(t){return t(e)})},this._listeners=[],this.hash=function(){return n.parseUrl(r._get()).hash},this.path=function(){return n.parseUrl(r._get()).path},this.search=function(){return n.getParams(n.parseUrl(r._get()).search)},this._location=window&&window.location,this._history=window&&window.history}return e.prototype.url=function(e,t){if(void 0===t&&(t=!0),o.isDefined(e)&&e!==this._get()&&(this._set(null,null,e,t),this.fireAfterUpdate)){var r=i.extend(new Event("locationchange"),{url:e});this._listeners.forEach(function(e){return e(r)})}return n.buildUrl(this)},e.prototype.onChange=function(e){var t=this;return this._listeners.push(e),function(){return i.removeFrom(t._listeners,e)}},e.prototype.dispose=function(e){i.deregAll(this._listeners)},e}();t.BaseLocationServices=s},"./node_modules/@uirouter/core/lib/vanilla/browserLocationConfig.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/common/predicates.js"),o=function(){function e(e,t){void 0===t&&(t=!1),this._isHtml5=t,this._baseHref=void 0,this._hashPrefix=""}return e.prototype.port=function(){return location.port?Number(location.port):"https"===this.protocol()?443:80},e.prototype.protocol=function(){return location.protocol.replace(/:/g,"")},e.prototype.host=function(){return location.host},e.prototype.html5Mode=function(){return this._isHtml5},e.prototype.hashPrefix=function(e){return n.isDefined(e)?this._hashPrefix=e:this._hashPrefix},e.prototype.baseHref=function(e){return n.isDefined(e)?this._baseHref=e:this._baseHref||this.applyDocumentBaseHref()},e.prototype.applyDocumentBaseHref=function(){var e=document.getElementsByTagName("base");return this._baseHref=e.length?e[0].href.substr(location.origin.length):""},e.prototype.dispose=function(){},e}();t.BrowserLocationConfig=o},"./node_modules/@uirouter/core/lib/vanilla/hashLocationService.js":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r("./node_modules/@uirouter/core/lib/vanilla/utils.js"),s=function(e){function t(t){var r=e.call(this,t,!1)||this;return window.addEventListener("hashchange",r._listener,!1),r}return o(t,e),t.prototype._get=function(){return i.trimHashVal(this._location.hash)},t.prototype._set=function(e,t,r,n){this._location.hash=r},t.prototype.dispose=function(t){e.prototype.dispose.call(this,t),window.removeEventListener("hashchange",this._listener)},t}(r("./node_modules/@uirouter/core/lib/vanilla/baseLocationService.js").BaseLocationServices);t.HashLocationService=s},"./node_modules/@uirouter/core/lib/vanilla/index.js":function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("./node_modules/@uirouter/core/lib/vanilla/q.js")),n(r("./node_modules/@uirouter/core/lib/vanilla/injector.js")),n(r("./node_modules/@uirouter/core/lib/vanilla/baseLocationService.js")),n(r("./node_modules/@uirouter/core/lib/vanilla/hashLocationService.js")),n(r("./node_modules/@uirouter/core/lib/vanilla/memoryLocationService.js")),n(r("./node_modules/@uirouter/core/lib/vanilla/pushStateLocationService.js")),n(r("./node_modules/@uirouter/core/lib/vanilla/memoryLocationConfig.js")),n(r("./node_modules/@uirouter/core/lib/vanilla/browserLocationConfig.js")),n(r("./node_modules/@uirouter/core/lib/vanilla/utils.js")),n(r("./node_modules/@uirouter/core/lib/vanilla/plugins.js"))},"./node_modules/@uirouter/core/lib/vanilla/injector.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/common/index.js"),o={},i=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,s=/([^\s,]+)/g;t.$injector={get:function(e){return o[e]},has:function(e){return null!=t.$injector.get(e)},invoke:function(e,r,i){var s=n.extend({},o,i||{}),u=t.$injector.annotate(e),a=n.assertPredicate(function(e){return s.hasOwnProperty(e)},function(e){return"DI can't find injectable: '"+e+"'"}),c=u.filter(a).map(function(e){return s[e]});return n.isFunction(e)?e.apply(r,c):e.slice(-1)[0].apply(r,c)},annotate:function(e){if(!n.isInjectable(e))throw new Error("Not an injectable function: "+e);if(e&&e.$inject)return e.$inject;if(n.isArray(e))return e.slice(0,-1);var t=e.toString().replace(i,"");return t.slice(t.indexOf("(")+1,t.indexOf(")")).match(s)||[]}}},"./node_modules/@uirouter/core/lib/vanilla/memoryLocationConfig.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/common/predicates.js"),o=r("./node_modules/@uirouter/core/lib/common/common.js"),i=function(){return function(){var e=this;this._baseHref="",this._port=80,this._protocol="http",this._host="localhost",this._hashPrefix="",this.port=function(){return e._port},this.protocol=function(){return e._protocol},this.host=function(){return e._host},this.baseHref=function(){return e._baseHref},this.html5Mode=function(){return!1},this.hashPrefix=function(t){return n.isDefined(t)?e._hashPrefix=t:e._hashPrefix},this.dispose=o.noop}}();t.MemoryLocationConfig=i},"./node_modules/@uirouter/core/lib/vanilla/memoryLocationService.js":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){return e.call(this,t,!0)||this}return o(t,e),t.prototype._get=function(){return this._url},t.prototype._set=function(e,t,r,n){this._url=r},t}(r("./node_modules/@uirouter/core/lib/vanilla/baseLocationService.js").BaseLocationServices);t.MemoryLocationService=i},"./node_modules/@uirouter/core/lib/vanilla/plugins.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/vanilla/browserLocationConfig.js"),o=r("./node_modules/@uirouter/core/lib/vanilla/hashLocationService.js"),i=r("./node_modules/@uirouter/core/lib/vanilla/utils.js"),s=r("./node_modules/@uirouter/core/lib/vanilla/pushStateLocationService.js"),u=r("./node_modules/@uirouter/core/lib/vanilla/memoryLocationService.js"),a=r("./node_modules/@uirouter/core/lib/vanilla/memoryLocationConfig.js"),c=r("./node_modules/@uirouter/core/lib/vanilla/injector.js"),l=r("./node_modules/@uirouter/core/lib/vanilla/q.js"),d=r("./node_modules/@uirouter/core/lib/common/coreservices.js");t.servicesPlugin=function(e){return d.services.$injector=c.$injector,d.services.$q=l.$q,{name:"vanilla.services",$q:l.$q,$injector:c.$injector,dispose:function(){return null}}},t.hashLocationPlugin=i.locationPluginFactory("vanilla.hashBangLocation",!1,o.HashLocationService,n.BrowserLocationConfig),t.pushStateLocationPlugin=i.locationPluginFactory("vanilla.pushStateLocation",!0,s.PushStateLocationService,n.BrowserLocationConfig),t.memoryLocationPlugin=i.locationPluginFactory("vanilla.memoryLocation",!1,u.MemoryLocationService,a.MemoryLocationConfig)},"./node_modules/@uirouter/core/lib/vanilla/pushStateLocationService.js":function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r("./node_modules/@uirouter/core/lib/vanilla/utils.js"),s=function(e){function t(t){var r=e.call(this,t,!0)||this;return r._config=t.urlService.config,window.addEventListener("popstate",r._listener,!1),r}return o(t,e),t.prototype._get=function(){var e=this._location,t=e.pathname,r=e.hash,n=e.search;return n=i.splitQuery(n)[1],r=i.splitHash(r)[1],t+(n?"?"+n:"")+(r?"$"+n:"")},t.prototype._set=function(e,t,r,n){var o=this._config,i=this._history,s=o.baseHref()+r;n?i.replaceState(e,t,s):i.pushState(e,t,s)},t.prototype.dispose=function(t){e.prototype.dispose.call(this,t),window.removeEventListener("popstate",this._listener)},t}(r("./node_modules/@uirouter/core/lib/vanilla/baseLocationService.js").BaseLocationServices);t.PushStateLocationService=s},"./node_modules/@uirouter/core/lib/vanilla/q.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/common/index.js");t.$q={when:function(e){return new Promise(function(t,r){return t(e)})},reject:function(e){return new Promise(function(t,r){r(e)})},defer:function(){var e={};return e.promise=new Promise(function(t,r){e.resolve=t,e.reject=r}),e},all:function(e){if(n.isArray(e))return Promise.all(e);if(n.isObject(e)){var r=Object.keys(e).map(function(t){return e[t].then(function(e){return{key:t,val:e}})});return t.$q.all(r).then(function(e){return e.reduce(function(e,t){return e[t.key]=t.val,e},{})})}}}},"./node_modules/@uirouter/core/lib/vanilla/utils.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/common/index.js"),o=r("./node_modules/@uirouter/core/lib/common/common.js"),i=function(e){return function(t){if(!t)return["",""];var r=t.indexOf(e);return-1===r?[t,""]:[t.substr(0,r),t.substr(r+1)]}};t.splitHash=i("#"),t.splitQuery=i("?"),t.splitEqual=i("="),t.trimHashVal=function(e){return e?e.replace(/^#/,""):""},t.keyValsToObjectR=function(e,t){var r=t[0],o=t[1];return e.hasOwnProperty(r)?n.isArray(e[r])?e[r].push(o):e[r]=[e[r],o]:e[r]=o,e},t.getParams=function(e){return e.split("&").filter(o.identity).map(t.splitEqual).reduce(t.keyValsToObjectR,{})},t.parseUrl=function(e){var r=function(e){return e||""},n=t.splitHash(e).map(r),o=n[0],i=n[1],s=t.splitQuery(o).map(r);return{path:s[0],search:s[1],hash:i,url:e}},t.buildUrl=function(e){var t=e.path(),r=e.search(),i=e.hash(),s=Object.keys(r).map(function(e){var t=r[e];return(n.isArray(t)?t:[t]).map(function(t){return e+"="+t})}).reduce(o.unnestR,[]).join("&");return t+(s?"?"+s:"")+(i?"#"+i:"")},t.locationPluginFactory=function(e,t,r,n){return function(o){var i=o.locationService=new r(o),s=o.locationConfig=new n(o,t);return{name:e,service:i,configuration:s,dispose:function(e){e.dispose(i),e.dispose(s)}}}}},"./node_modules/@uirouter/core/lib/view/index.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r("./node_modules/@uirouter/core/lib/view/view.js"))},"./node_modules/@uirouter/core/lib/view/view.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/common/common.js"),o=r("./node_modules/@uirouter/core/lib/common/hof.js"),i=r("./node_modules/@uirouter/core/lib/common/predicates.js"),s=r("./node_modules/@uirouter/core/lib/common/trace.js"),u=function(){function e(){var e=this;this._uiViews=[],this._viewConfigs=[],this._viewConfigFactories={},this._pluginapi={_rootViewContext:this._rootViewContext.bind(this),_viewConfigFactory:this._viewConfigFactory.bind(this),_registeredUIViews:function(){return e._uiViews},_activeViewConfigs:function(){return e._viewConfigs}}}return e.prototype._rootViewContext=function(e){return this._rootContext=e||this._rootContext},e.prototype._viewConfigFactory=function(e,t){this._viewConfigFactories[e]=t},e.prototype.createViewConfig=function(e,t){var r=this._viewConfigFactories[t.$type];if(!r)throw new Error("ViewService: No view config factory registered for type "+t.$type);var n=r(e,t);return i.isArray(n)?n:[n]},e.prototype.deactivateViewConfig=function(e){s.trace.traceViewServiceEvent("<- Removing",e),n.removeFrom(this._viewConfigs,e)},e.prototype.activateViewConfig=function(e){s.trace.traceViewServiceEvent("-> Registering",e),this._viewConfigs.push(e)},e.prototype.sync=function(){var t=this,r=this._uiViews.map(function(e){return[e.fqn,e]}).reduce(n.applyPairs,{});function i(e){for(var t=e.viewDecl.$context,r=0;++r&&t.parent;)t=t.parent;return r}var s=o.curry(function(e,t,r,n){return t*(e(r)-e(n))});this._uiViews.sort(s(function(e){var t=function(e){return e&&e.parent?t(e.parent)+1:1};return 1e4*e.fqn.split(".").length+t(e.creationContext)},1)).map(function(n){var o=t._viewConfigs.filter(e.matches(r,n));return o.length>1&&o.sort(s(i,-1)),[n,o[0]]}).forEach(function(e){var r=e[0],n=e[1];-1!==t._uiViews.indexOf(r)&&r.configUpdated(n)})},e.prototype.registerUIView=function(e){s.trace.traceViewServiceUIViewEvent("-> Registering",e);var t=this._uiViews;return t.filter(function(t){return t.fqn===e.fqn}).length&&s.trace.traceViewServiceUIViewEvent("!!!! duplicate uiView named:",e),t.push(e),this.sync(),function(){-1!==t.indexOf(e)?(s.trace.traceViewServiceUIViewEvent("<- Deregistering",e),n.removeFrom(t)(e)):s.trace.traceViewServiceUIViewEvent("Tried removing non-registered uiView",e)}},e.prototype.available=function(){return this._uiViews.map(o.prop("fqn"))},e.prototype.active=function(){return this._uiViews.filter(o.prop("$config")).map(o.prop("name"))},e.normalizeUIViewTarget=function(e,t){void 0===t&&(t="");var r=t.split("@"),n=r[0]||"$default",o=i.isString(r[1])?r[1]:"^",s=/^(\^(?:\.\^)*)\.(.*$)/.exec(n);s&&(o=s[1],n=s[2]),"!"===n.charAt(0)&&(n=n.substr(1),o="");/^(\^(?:\.\^)*)$/.exec(o)?o=o.split(".").reduce(function(e,t){return e.parent},e).name:"."===o&&(o=e.name);return{uiViewName:n,uiViewContextAnchor:o}},e}();u.matches=function(e,t){return function(r){if(t.$type!==r.viewDecl.$type)return!1;var o=r.viewDecl,i=o.$uiViewName.split("."),s=t.fqn.split(".");if(!n.equals(i,s.slice(0-i.length)))return!1;var u=1-i.length||void 0,a=s.slice(0,u).join("."),c=e[a].creationContext;return o.$uiViewContextAnchor===(c&&c.name)}},t.ViewService=u},"./node_modules/angular-ui-router/lib/angular.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/angular/index.js"),o=angular;t.ng=n&&n.module?n:o},"./node_modules/angular-ui-router/lib/directives/stateDirectives.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,i,s=r("./node_modules/angular-ui-router/lib/angular.js"),u=r("./node_modules/@uirouter/core/lib/index.js");function a(e){var t,r=e.match(/^\s*({[^}]*})\s*$/);if(r&&(e="("+r[1]+")"),!(t=e.replace(/\n/g," ").match(/^\s*([^(]*?)\s*(\((.*)\))?\s*$/))||4!==t.length)throw new Error("Invalid state ref '"+e+"'");return{state:t[1]||null,paramExpr:t[3]||null}}function c(e){var t=e.parent().inheritedData("$uiView"),r=u.parse("$cfg.path")(t);return r?u.tail(r).state.name:void 0}function l(e,t,r){var n=r.uiState||e.current.name,o=u.extend(function(e,t){return{relative:c(e)||t.$current,inherit:!0,source:"sref"}}(t,e),r.uiStateOpts||{}),i=e.href(n,r.uiStateParams,o);return{uiState:n,uiStateParams:r.uiStateParams,uiStateOpts:o,href:i}}function d(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),r="FORM"===e[0].nodeName;return{attr:r?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!r}}function f(e,t,r,n,o){return function(i){var s=i.which||i.button,u=o();if(!(s>1||i.ctrlKey||i.metaKey||i.shiftKey||e.attr("target"))){var a=r(function(){t.go(u.uiState,u.uiStateParams,u.uiStateOpts)});i.preventDefault();var c=n.isAnchor&&!u.href?1:0;i.preventDefault=function(){c--<=0&&r.cancel(a)}}}}function m(e,t,r,n){var o;n&&(o=n.events),u.isArray(o)||(o=["click"]);for(var i=e.on?"on":"bind",s=0,a=o;s<a.length;s++){var c=a[s];e[i](c,r)}t.$on("$destroy",function(){for(var t=e.off?"off":"unbind",n=0,i=o;n<i.length;n++){var s=i[n];e[t](s,r)}})}n=["$uiRouter","$timeout",function(e,t){var r=e.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,o,i,s){var c,p=d(o),h=s[1]||s[0],v=null,_={},g=function(){return l(r,o,_)},y=a(i.uiSref);function j(){var e=g();v&&v(),h&&(v=h.$$addStateInfo(e.uiState,e.uiStateParams)),null!=e.href&&i.$set(p.attr,e.href)}_.uiState=y.state,_.uiStateOpts=i.uiSrefOpts?n.$eval(i.uiSrefOpts):{},y.paramExpr&&(n.$watch(y.paramExpr,function(e){_.uiStateParams=u.extend({},e),j()},!0),_.uiStateParams=u.extend({},n.$eval(y.paramExpr))),j(),n.$on("$destroy",e.stateRegistry.onStatesChanged(j)),n.$on("$destroy",e.transitionService.onSuccess({},j)),p.clickable&&(c=f(o,r,t,p,g),m(o,n,c,_.uiStateOpts))}}}],o=["$uiRouter","$timeout",function(e,t){var r=e.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,o,i,s){var a,c=d(o),p=s[1]||s[0],h=null,v={},_=function(){return l(r,o,v)},g=["uiState","uiStateParams","uiStateOpts"],y=g.reduce(function(e,t){return e[t]=u.noop,e},{});function j(){var e=_();h&&h(),p&&(h=p.$$addStateInfo(e.uiState,e.uiStateParams)),null!=e.href&&i.$set(c.attr,e.href)}g.forEach(function(e){v[e]=i[e]?n.$eval(i[e]):null,i.$observe(e,function(t){y[e](),y[e]=n.$watch(t,function(t){v[e]=t,j()},!0)})}),j(),n.$on("$destroy",e.stateRegistry.onStatesChanged(j)),n.$on("$destroy",e.transitionService.onSuccess({},j)),c.clickable&&(a=f(o,r,t,c,_),m(o,n,a,v.uiStateOpts))}}}],i=["$state","$stateParams","$interpolate","$uiRouter",function(e,t,r,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,o,i){var s,l,d=[];s=r(i.uiSrefActiveEq||"",!1)(t);try{l=t.$eval(i.uiSrefActive)}catch(e){}function f(e){e.promise.then(p)}function m(t,r,n){var i={state:e.get(t,c(o))||{name:t},params:r,activeClass:n};return d.push(i),function(){u.removeFrom(d)(i)}}function p(){var r=function(e){return e.split(/\s/).filter(u.identity)},n=function(e){return e.map(function(e){return e.activeClass}).map(r).reduce(u.unnestR,[])},i=n(d).concat(r(s)).reduce(u.uniqR,[]),a=n(d.filter(function(t){return e.includes(t.state.name,t.params)})),c=!!d.filter(function(t){return e.is(t.state.name,t.params)}).length?r(s):[],l=a.concat(c).reduce(u.uniqR,[]),f=i.filter(function(e){return!u.inArray(l,e)});t.$evalAsync(function(){l.forEach(function(e){return o.addClass(e)}),f.forEach(function(e){return o.removeClass(e)})})}l=l||r(i.uiSrefActive||"",!1)(t),u.isObject(l)&&u.forEach(l,function(e,r){if(u.isString(e)){var n=a(e);m(n.state,t.$eval(n.paramExpr),r)}}),this.$$addStateInfo=function(e,t){if(!(u.isObject(l)&&d.length>0)){var r=m(e,t,l);return p(),r}},t.$on("$stateChangeSuccess",p),t.$on("$destroy",n.transitionService.onStart({},f)),n.globals.transition&&f(n.globals.transition),p()}]}}],s.ng.module("ui.router.state").directive("uiSref",n).directive("uiSrefActive",i).directive("uiSrefActiveEq",i).directive("uiState",o)},"./node_modules/angular-ui-router/lib/directives/viewDirective.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/angular-ui-router/lib/angular.js"),o=r("./node_modules/angular/index.js"),i=r("./node_modules/@uirouter/core/lib/index.js"),s=r("./node_modules/angular-ui-router/lib/statebuilders/views.js"),u=r("./node_modules/angular-ui-router/lib/services.js");function a(e,t,r,s,a,c){var l=i.parse("viewDecl.controllerAs"),f=i.parse("viewDecl.resolveAs");return{restrict:"ECA",priority:-400,compile:function(s){var c=s.html();return s.empty(),function(s,m){var p=m.data("$uiView");if(!p)return m.html(c),void e(m.contents())(s);var h=p.$cfg||{viewDecl:{},getTemplate:o.noop},v=h.path&&new i.ResolveContext(h.path);m.html(h.getTemplate(m,v)||c),i.trace.traceUIViewFill(p.$uiView,m.html());var _=e(m.contents()),g=h.controller,y=l(h),j=f(h),b=v&&u.getLocals(v);if(s[j]=b,g){var w=t(g,i.extend({},b,{$scope:s,$element:m}));y&&(s[y]=w,s[y][j]=b),m.data("$ngControllerController",w),m.children().data("$ngControllerController",w),d(a,r,w,s,h)}if(i.isString(h.viewDecl.component))var S=h.viewDecl.component,P=i.kebobString(S),E=new RegExp("^(x-|data-)?"+P+"$","i"),T=s.$watch(function(){var e=[].slice.call(m[0].children).filter(function(e){return e&&e.tagName&&E.exec(e.tagName)});return e&&n.ng.element(e).data("$"+S+"Controller")},function(e){e&&(d(a,r,e,s,h),T())});_(s)}}}}t.uiView=["$view","$animate","$uiViewScroll","$interpolate","$q",function(e,t,r,o,u){var a={$cfg:{viewDecl:{$context:e._pluginapi._rootViewContext()}},$uiView:{}},c={count:0,restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(l,d,f){return function(l,d,m){var p,h,v,_,g=m.onload||"",y=m.autoscroll,j={enter:function(e,r,o){n.ng.version.minor>2?t.enter(e,null,r).then(o):t.enter(e,null,r,o)},leave:function(e,r){n.ng.version.minor>2?t.leave(e).then(r):t.leave(e,r)}},b=void 0,w=d.inheritedData("$uiView")||a,S=o(m.uiView||m.name||"")(l)||"$default",P={$type:"ng1",id:c.count++,name:S,fqn:w.$uiView.fqn?w.$uiView.fqn+"."+S:S,config:null,configUpdated:function(e){if(e&&!(e instanceof s.Ng1ViewConfig))return;if(t=b,r=e,t===r)return;var t,r;i.trace.traceUIViewConfigUpdated(P,e&&e.viewDecl&&e.viewDecl.$context),b=e,E(e)},get creationContext(){var e=i.parse("$cfg.viewDecl.$context")(w),t=i.parse("$uiView.creationContext")(w);return e||t}};function E(e){var t=l.$new(),n=u.defer(),o=u.defer(),s={$cfg:e,$uiView:P},a={$animEnter:n.promise,$animLeave:o.promise,$$animLeave:o};t.$emit("$viewContentLoading",S);var c=f(t,function(e){e.data("$uiViewAnim",a),e.data("$uiView",s),j.enter(e,d,function(){n.resolve(),v&&v.$emit("$viewContentAnimationEnded"),(i.isDefined(y)&&!y||l.$eval(y))&&r(e)}),function(){if(p&&(i.trace.traceUIViewEvent("Removing (previous) el",p.data("$uiView")),p.remove(),p=null),v&&(i.trace.traceUIViewEvent("Destroying scope",P),v.$destroy(),v=null),h){var e=h.data("$uiViewAnim");i.trace.traceUIViewEvent("Animate out",e),j.leave(h,function(){e.$$animLeave.resolve(),p=null}),p=h,h=null}}()});h=c,(v=t).$emit("$viewContentLoaded",e||b),v.$eval(g)}i.trace.traceUIViewEvent("Linking",P),d.data("$uiView",{$uiView:P}),E(),_=e.registerUIView(P),l.$on("$destroy",function(){i.trace.traceUIViewEvent("Destroying/Unregistering",P),_()})}}};return c}],a.$inject=["$compile","$controller","$transitions","$view","$q","$timeout"];var c="function"==typeof n.ng.module("ui.router").component,l=0;function d(e,t,r,n,o){!i.isFunction(r.$onInit)||o.viewDecl.component&&c||r.$onInit();var s=i.tail(o.path).state.self,u={bind:r};if(i.isFunction(r.uiOnParamsChanged)){var a=new i.ResolveContext(o.path).getResolvable("$transition$").data;n.$on("$destroy",t.onSuccess({},function(e){if(e!==a&&-1===e.exiting().indexOf(s)){var t=e.params("to"),n=e.params("from"),o=e.treeChanges().to.map(function(e){return e.paramSchema}).reduce(i.unnestR,[]),u=e.treeChanges().from.map(function(e){return e.paramSchema}).reduce(i.unnestR,[]),c=o.filter(function(e){var r=u.indexOf(e);return-1===r||!u[r].type.equals(t[e.id],n[e.id])});if(c.length){var l=c.map(function(e){return e.id}),d=i.filter(t,function(e,t){return-1!==l.indexOf(t)});r.uiOnParamsChanged(d,e)}}},u))}if(i.isFunction(r.uiCanExit)){var d=l++,f=function(e){return!!e&&(e._uiCanExitIds&&!0===e._uiCanExitIds[d]||f(e.redirectedFrom()))},m={exiting:s.name};n.$on("$destroy",t.onBefore(m,function(t){var n,o=t._uiCanExitIds=t._uiCanExitIds||{};return f(t)||(n=e.when(r.uiCanExit(t))).then(function(e){return o[d]=!1!==e}),n},u))}}n.ng.module("ui.router.state").directive("uiView",t.uiView),n.ng.module("ui.router.state").directive("uiView",a)},"./node_modules/angular-ui-router/lib/index.js":function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0});var o=r("./node_modules/@uirouter/core/lib/index.js");t.core=o,n(r("./node_modules/@uirouter/core/lib/index.js")),n(r("./node_modules/angular-ui-router/lib/services.js")),n(r("./node_modules/angular-ui-router/lib/statebuilders/views.js")),n(r("./node_modules/angular-ui-router/lib/stateProvider.js")),n(r("./node_modules/angular-ui-router/lib/urlRouterProvider.js")),r("./node_modules/angular-ui-router/lib/injectables.js"),r("./node_modules/angular-ui-router/lib/directives/stateDirectives.js"),r("./node_modules/angular-ui-router/lib/stateFilters.js"),r("./node_modules/angular-ui-router/lib/directives/viewDirective.js"),r("./node_modules/angular-ui-router/lib/viewScroll.js"),t.default="ui.router"},"./node_modules/angular-ui-router/lib/injectables.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"./node_modules/angular-ui-router/lib/locationServices.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/index.js"),o=function(){function e(e){this._urlListeners=[],this.$locationProvider=e;var t=n.val(e);n.createProxyFunctions(t,this,t,["hashPrefix"])}return e.prototype.dispose=function(){},e.prototype.onChange=function(e){var t=this;return this._urlListeners.push(e),function(){return n.removeFrom(t._urlListeners)(e)}},e.prototype.html5Mode=function(){var e=this.$locationProvider.html5Mode();return(e=n.isObject(e)?e.enabled:e)&&this.$sniffer.history},e.prototype.url=function(e,t,r){return void 0===t&&(t=!1),e&&this.$location.url(e),t&&this.$location.replace(),r&&this.$location.state(r),this.$location.url()},e.prototype._runtimeServices=function(e,t,r,o){var i=this;this.$location=t,this.$sniffer=r,e.$on("$locationChangeSuccess",function(e){return i._urlListeners.forEach(function(t){return t(e)})});var s=n.val(t),u=n.val(o);n.createProxyFunctions(s,this,s,["replace","path","search","hash"]),n.createProxyFunctions(s,this,s,["port","protocol","host"]),n.createProxyFunctions(u,this,u,["baseHref"])},e.monkeyPatchPathParameterType=function(e){var t=e.urlMatcherFactory.type("path");t.encode=function(e){return null!=e?e.toString().replace(/(~|\/)/g,function(e){return{"~":"~~","/":"~2F"}[e]}):e},t.decode=function(e){return null!=e?e.toString().replace(/(~~|~2F)/g,function(e){return{"~~":"~","~2F":"/"}[e]}):e}},e}();t.Ng1LocationServices=o},"./node_modules/angular-ui-router/lib/services.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/angular-ui-router/lib/angular.js"),o=r("./node_modules/@uirouter/core/lib/index.js"),i=r("./node_modules/angular-ui-router/lib/statebuilders/views.js"),s=r("./node_modules/angular-ui-router/lib/templateFactory.js"),u=r("./node_modules/angular-ui-router/lib/stateProvider.js"),a=r("./node_modules/angular-ui-router/lib/statebuilders/onEnterExitRetain.js"),c=r("./node_modules/angular-ui-router/lib/locationServices.js"),l=r("./node_modules/angular-ui-router/lib/urlRouterProvider.js");n.ng.module("ui.router.angular1",[]);var d=n.ng.module("ui.router.init",[]),f=n.ng.module("ui.router.util",["ng","ui.router.init"]),m=n.ng.module("ui.router.router",["ui.router.util"]),p=n.ng.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]),h=n.ng.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]),v=(n.ng.module("ui.router.compat",["ui.router"]),null);function _(e){(v=this.router=new o.UIRouter).stateProvider=new u.StateProvider(v.stateRegistry,v.stateService),v.stateRegistry.decorator("views",i.ng1ViewsBuilder),v.stateRegistry.decorator("onExit",a.getStateHookBuilder("onExit")),v.stateRegistry.decorator("onRetain",a.getStateHookBuilder("onRetain")),v.stateRegistry.decorator("onEnter",a.getStateHookBuilder("onEnter")),v.viewService._pluginapi._viewConfigFactory("ng1",i.getNg1ViewConfigFactory());var t=v.locationService=v.locationConfig=new c.Ng1LocationServices(e);function r(e,r,n,o,i,s){return t._runtimeServices(o,e,n,r),delete v.router,delete v.$get,v}return c.Ng1LocationServices.monkeyPatchPathParameterType(v),v.router=v,v.$get=r,r.$inject=["$location","$browser","$sniffer","$rootScope","$http","$templateCache"],v}_.$inject=["$locationProvider"];var g=function(e){return["$uiRouterProvider",function(t){var r=t.router[e];return r.$get=function(){return r},r}]};function y(e,t,r){o.services.$injector=e,o.services.$q=t,r.stateRegistry.get().map(function(e){return e.$$state().resolvables}).reduce(o.unnestR,[]).filter(function(e){return"deferred"===e.deps}).forEach(function(t){return t.deps=e.annotate(t.resolveFn)})}y.$inject=["$injector","$q","$uiRouter"];function j(e){e.$watch(function(){o.trace.approximateDigests++})}j.$inject=["$rootScope"],t.watchDigests=j,d.provider("$uiRouter",_),m.provider("$urlRouter",["$uiRouterProvider",function(e){return e.urlRouterProvider=new l.UrlRouterProvider(e)}]),f.provider("$urlService",g("urlService")),f.provider("$urlMatcherFactory",["$uiRouterProvider",function(){return v.urlMatcherFactory}]),f.provider("$templateFactory",function(){return new s.TemplateFactory}),p.provider("$stateRegistry",g("stateRegistry")),p.provider("$uiRouterGlobals",g("globals")),p.provider("$transitions",g("transitionService")),p.provider("$state",["$uiRouterProvider",function(){return o.extend(v.stateProvider,{$get:function(){return v.stateService}})}]),p.factory("$stateParams",["$uiRouter",function(e){return e.globals.params}]),h.factory("$view",function(){return v.viewService}),h.service("$trace",function(){return o.trace}),h.run(j),f.run(["$urlMatcherFactory",function(e){}]),p.run(["$state",function(e){}]),m.run(["$urlRouter",function(e){}]),d.run(y),t.getLocals=function(e){return e.getTokens().filter(o.isString).map(function(t){var r=e.getResolvable(t);return[t,"NOWAIT"===e.getPolicy(r).async?r.promise:r.data]}).reduce(o.applyPairs,{})}},"./node_modules/angular-ui-router/lib/stateFilters.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/angular-ui-router/lib/angular.js");function o(e){var t=function(t,r,n){return e.is(t,r,n)};return t.$stateful=!0,t}function i(e){var t=function(t,r,n){return e.includes(t,r,n)};return t.$stateful=!0,t}o.$inject=["$state"],t.$IsStateFilter=o,i.$inject=["$state"],t.$IncludedByStateFilter=i,n.ng.module("ui.router.state").filter("isState",o).filter("includedByState",i)},"./node_modules/angular-ui-router/lib/stateProvider.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/index.js"),o=function(){function e(t,r){this.stateRegistry=t,this.stateService=r,n.createProxyFunctions(n.val(e.prototype),this,n.val(this))}return e.prototype.decorator=function(e,t){return this.stateRegistry.decorator(e,t)||this},e.prototype.state=function(e,t){return n.isObject(e)?t=e:t.name=e,this.stateRegistry.register(t),this},e.prototype.onInvalid=function(e){return this.stateService.onInvalid(e)},e}();t.StateProvider=o},"./node_modules/angular-ui-router/lib/statebuilders/onEnterExitRetain.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/index.js"),o=r("./node_modules/angular-ui-router/lib/services.js");t.getStateHookBuilder=function(e){return function(t,r){var i=t[e],s="onExit"===e?"from":"to";return i?function(e,t){var r=new n.ResolveContext(e.treeChanges(s)),u=n.extend(o.getLocals(r),{$state$:t,$transition$:e});return n.services.$injector.invoke(i,this,u)}:void 0}}},"./node_modules/angular-ui-router/lib/statebuilders/views.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/index.js");t.getNg1ViewConfigFactory=function(){var e=null;return function(t,r){return e=e||n.services.$injector.get("$templateFactory"),[new s(t,r,e)]}};var o=function(e,t){return e.reduce(function(e,r){return e||n.isDefined(t[r])},!1)};t.ng1ViewsBuilder=function(e){if(!e.parent)return{};var t=["component","bindings","componentProvider"],r=["templateProvider","templateUrl","template","notify","async"].concat(["controller","controllerProvider","controllerAs","resolveAs"]),i=t.concat(r);if(n.isDefined(e.views)&&o(i,e))throw new Error("State '"+e.name+"' has a 'views' object. It cannot also have \"view properties\" at the state level.  Move the following properties into a view (in the 'views' object):  "+i.filter(function(t){return n.isDefined(e[t])}).join(", "));var s={},u=e.views||{$default:n.pick(e,i)};return n.forEach(u,function(i,u){if(u=u||"$default",n.isString(i)&&(i={component:i}),i=n.extend({},i),o(t,i)&&o(r,i))throw new Error("Cannot combine: "+t.join("|")+" with: "+r.join("|")+" in stateview: '"+u+"@"+e.name+"'");i.resolveAs=i.resolveAs||"$resolve",i.$type="ng1",i.$context=e,i.$name=u;var a=n.ViewService.normalizeUIViewTarget(i.$context,i.$name);i.$uiViewName=a.uiViewName,i.$uiViewContextAnchor=a.uiViewContextAnchor,s[u]=i}),s};var i=0,s=function(){function e(e,t,r){var n=this;this.path=e,this.viewDecl=t,this.factory=r,this.$id=i++,this.loaded=!1,this.getTemplate=function(e,t){return n.component?n.factory.makeComponentTemplate(e,t,n.component,n.viewDecl.bindings):n.template}}return e.prototype.load=function(){var e=this,t=n.services.$q,r=new n.ResolveContext(this.path),o=this.path.reduce(function(e,t){return n.extend(e,t.paramValues)},{}),i={template:t.when(this.factory.fromConfig(this.viewDecl,o,r)),controller:t.when(this.getController(r))};return t.all(i).then(function(t){return n.trace.traceViewServiceEvent("Loaded",e),e.controller=t.controller,n.extend(e,t.template),e})},e.prototype.getController=function(e){var t=this.viewDecl.controllerProvider;if(!n.isInjectable(t))return this.viewDecl.controller;var r=n.services.$injector.annotate(t),o=n.isArray(t)?n.tail(t):t;return new n.Resolvable("",o,r).get(e)},e}();t.Ng1ViewConfig=s},"./node_modules/angular-ui-router/lib/templateFactory.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/angular-ui-router/lib/angular.js"),o=r("./node_modules/@uirouter/core/lib/index.js"),i=function(){function e(){var e=this;this._useHttp=n.ng.version.minor<3,this.$get=["$http","$templateCache","$injector",function(t,r,n){return e.$templateRequest=n.has&&n.has("$templateRequest")&&n.get("$templateRequest"),e.$http=t,e.$templateCache=r,e}]}return e.prototype.useHttpService=function(e){this._useHttp=e},e.prototype.fromConfig=function(e,t,r){var n=function(e){return o.services.$q.when(e).then(function(e){return{template:e}})},i=function(e){return o.services.$q.when(e).then(function(e){return{component:e}})};return o.isDefined(e.template)?n(this.fromString(e.template,t)):o.isDefined(e.templateUrl)?n(this.fromUrl(e.templateUrl,t)):o.isDefined(e.templateProvider)?n(this.fromProvider(e.templateProvider,t,r)):o.isDefined(e.component)?i(e.component):o.isDefined(e.componentProvider)?i(this.fromComponentProvider(e.componentProvider,t,r)):n("<ui-view></ui-view>")},e.prototype.fromString=function(e,t){return o.isFunction(e)?e(t):e},e.prototype.fromUrl=function(e,t){return o.isFunction(e)&&(e=e(t)),null==e?null:this._useHttp?this.$http.get(e,{cache:this.$templateCache,headers:{Accept:"text/html"}}).then(function(e){return e.data}):this.$templateRequest(e)},e.prototype.fromProvider=function(e,t,r){var n=o.services.$injector.annotate(e),i=o.isArray(e)?o.tail(e):e;return new o.Resolvable("",i,n).get(r)},e.prototype.fromComponentProvider=function(e,t,r){var n=o.services.$injector.annotate(e),i=o.isArray(e)?o.tail(e):e;return new o.Resolvable("",i,n).get(r)},e.prototype.makeComponentTemplate=function(e,t,r,i){i=i||{};var u=n.ng.version.minor>=3?"::":"",a=function(e){var t=o.kebobString(e);return/^(x|data)-/.exec(t)?"x-"+t:t},c=function(e){var t=o.services.$injector.get(e+"Directive");if(!t||!t.length)throw new Error("Unable to find component named '"+e+"'");return t.map(s).reduce(o.unnestR,[])}(r).map(function(r){var n=r.name,s=r.type,c=a(n);if(e.attr(c)&&!i[n])return c+"='"+e.attr(c)+"'";var l=i[n]||n;if("@"===s)return c+"='{{"+u+"$resolve."+l+"}}'";if("&"===s){var d=t.getResolvable(l),f=d&&d.data,m=f&&o.services.$injector.annotate(f)||[];return c+"='$resolve."+l+(o.isArray(f)?"["+(f.length-1)+"]":"")+"("+m.join(",")+")'"}return c+"='"+u+"$resolve."+l+"'"}).join(" "),l=a(r);return"<"+l+" "+c+"></"+l+">"},e}();t.TemplateFactory=i;var s=function(e){return o.isObject(e.bindToController)?u(e.bindToController):u(e.scope)},u=function(e){return Object.keys(e||{}).map(function(t){return[t,/^([=<@&])[?]?(.*)/.exec(e[t])]}).filter(function(e){return o.isDefined(e)&&o.isArray(e[1])}).map(function(e){return{name:e[1][2]||e[0],type:e[1][1]}})}},"./node_modules/angular-ui-router/lib/urlRouterProvider.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/@uirouter/core/lib/index.js"),o=r("./node_modules/@uirouter/core/lib/index.js"),i=function(){function e(e){this._router=e,this._urlRouter=e.urlRouter}return e.prototype.$get=function(){var e=this._urlRouter;return e.update(!0),e.interceptDeferred||e.listen(),e},e.prototype.rule=function(e){var t=this;if(!o.isFunction(e))throw new Error("'rule' must be a function");var r=new n.BaseUrlRule(function(){return e(o.services.$injector,t._router.locationService)},o.identity);return this._urlRouter.rule(r),this},e.prototype.otherwise=function(e){var t=this,r=this._urlRouter;if(o.isString(e))r.otherwise(e);else{if(!o.isFunction(e))throw new Error("'rule' must be a string or function");r.otherwise(function(){return e(o.services.$injector,t._router.locationService)})}return this},e.prototype.when=function(t,r){return(o.isArray(r)||o.isFunction(r))&&(r=e.injectableHandler(this._router,r)),this._urlRouter.when(t,r),this},e.injectableHandler=function(e,t){return function(r){return o.services.$injector.invoke(t,null,{$match:r,$stateParams:e.globals.params})}},e.prototype.deferIntercept=function(e){this._urlRouter.deferIntercept(e)},e}();t.UrlRouterProvider=i},"./node_modules/angular-ui-router/lib/viewScroll.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r("./node_modules/angular-ui-router/lib/angular.js").ng.module("ui.router.state").provider("$uiViewScroll",function(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,r){return e?t:function(e){return r(function(){e[0].scrollIntoView()},0,!1)}}]})},"./node_modules/moment/locale sync recursive ^\\.\\/.*$":function(e,t,r){var n={"./af":"./node_modules/moment/locale/af.js","./af.js":"./node_modules/moment/locale/af.js","./ar":"./node_modules/moment/locale/ar.js","./ar-dz":"./node_modules/moment/locale/ar-dz.js","./ar-dz.js":"./node_modules/moment/locale/ar-dz.js","./ar-kw":"./node_modules/moment/locale/ar-kw.js","./ar-kw.js":"./node_modules/moment/locale/ar-kw.js","./ar-ly":"./node_modules/moment/locale/ar-ly.js","./ar-ly.js":"./node_modules/moment/locale/ar-ly.js","./ar-ma":"./node_modules/moment/locale/ar-ma.js","./ar-ma.js":"./node_modules/moment/locale/ar-ma.js","./ar-sa":"./node_modules/moment/locale/ar-sa.js","./ar-sa.js":"./node_modules/moment/locale/ar-sa.js","./ar-tn":"./node_modules/moment/locale/ar-tn.js","./ar-tn.js":"./node_modules/moment/locale/ar-tn.js","./ar.js":"./node_modules/moment/locale/ar.js","./az":"./node_modules/moment/locale/az.js","./az.js":"./node_modules/moment/locale/az.js","./be":"./node_modules/moment/locale/be.js","./be.js":"./node_modules/moment/locale/be.js","./bg":"./node_modules/moment/locale/bg.js","./bg.js":"./node_modules/moment/locale/bg.js","./bm":"./node_modules/moment/locale/bm.js","./bm.js":"./node_modules/moment/locale/bm.js","./bn":"./node_modules/moment/locale/bn.js","./bn.js":"./node_modules/moment/locale/bn.js","./bo":"./node_modules/moment/locale/bo.js","./bo.js":"./node_modules/moment/locale/bo.js","./br":"./node_modules/moment/locale/br.js","./br.js":"./node_modules/moment/locale/br.js","./bs":"./node_modules/moment/locale/bs.js","./bs.js":"./node_modules/moment/locale/bs.js","./ca":"./node_modules/moment/locale/ca.js","./ca.js":"./node_modules/moment/locale/ca.js","./cs":"./node_modules/moment/locale/cs.js","./cs.js":"./node_modules/moment/locale/cs.js","./cv":"./node_modules/moment/locale/cv.js","./cv.js":"./node_modules/moment/locale/cv.js","./cy":"./node_modules/moment/locale/cy.js","./cy.js":"./node_modules/moment/locale/cy.js","./da":"./node_modules/moment/locale/da.js","./da.js":"./node_modules/moment/locale/da.js","./de":"./node_modules/moment/locale/de.js","./de-at":"./node_modules/moment/locale/de-at.js","./de-at.js":"./node_modules/moment/locale/de-at.js","./de-ch":"./node_modules/moment/locale/de-ch.js","./de-ch.js":"./node_modules/moment/locale/de-ch.js","./de.js":"./node_modules/moment/locale/de.js","./dv":"./node_modules/moment/locale/dv.js","./dv.js":"./node_modules/moment/locale/dv.js","./el":"./node_modules/moment/locale/el.js","./el.js":"./node_modules/moment/locale/el.js","./en-au":"./node_modules/moment/locale/en-au.js","./en-au.js":"./node_modules/moment/locale/en-au.js","./en-ca":"./node_modules/moment/locale/en-ca.js","./en-ca.js":"./node_modules/moment/locale/en-ca.js","./en-gb":"./node_modules/moment/locale/en-gb.js","./en-gb.js":"./node_modules/moment/locale/en-gb.js","./en-ie":"./node_modules/moment/locale/en-ie.js","./en-ie.js":"./node_modules/moment/locale/en-ie.js","./en-il":"./node_modules/moment/locale/en-il.js","./en-il.js":"./node_modules/moment/locale/en-il.js","./en-nz":"./node_modules/moment/locale/en-nz.js","./en-nz.js":"./node_modules/moment/locale/en-nz.js","./eo":"./node_modules/moment/locale/eo.js","./eo.js":"./node_modules/moment/locale/eo.js","./es":"./node_modules/moment/locale/es.js","./es-do":"./node_modules/moment/locale/es-do.js","./es-do.js":"./node_modules/moment/locale/es-do.js","./es-us":"./node_modules/moment/locale/es-us.js","./es-us.js":"./node_modules/moment/locale/es-us.js","./es.js":"./node_modules/moment/locale/es.js","./et":"./node_modules/moment/locale/et.js","./et.js":"./node_modules/moment/locale/et.js","./eu":"./node_modules/moment/locale/eu.js","./eu.js":"./node_modules/moment/locale/eu.js","./fa":"./node_modules/moment/locale/fa.js","./fa.js":"./node_modules/moment/locale/fa.js","./fi":"./node_modules/moment/locale/fi.js","./fi.js":"./node_modules/moment/locale/fi.js","./fo":"./node_modules/moment/locale/fo.js","./fo.js":"./node_modules/moment/locale/fo.js","./fr":"./node_modules/moment/locale/fr.js","./fr-ca":"./node_modules/moment/locale/fr-ca.js","./fr-ca.js":"./node_modules/moment/locale/fr-ca.js","./fr-ch":"./node_modules/moment/locale/fr-ch.js","./fr-ch.js":"./node_modules/moment/locale/fr-ch.js","./fr.js":"./node_modules/moment/locale/fr.js","./fy":"./node_modules/moment/locale/fy.js","./fy.js":"./node_modules/moment/locale/fy.js","./gd":"./node_modules/moment/locale/gd.js","./gd.js":"./node_modules/moment/locale/gd.js","./gl":"./node_modules/moment/locale/gl.js","./gl.js":"./node_modules/moment/locale/gl.js","./gom-latn":"./node_modules/moment/locale/gom-latn.js","./gom-latn.js":"./node_modules/moment/locale/gom-latn.js","./gu":"./node_modules/moment/locale/gu.js","./gu.js":"./node_modules/moment/locale/gu.js","./he":"./node_modules/moment/locale/he.js","./he.js":"./node_modules/moment/locale/he.js","./hi":"./node_modules/moment/locale/hi.js","./hi.js":"./node_modules/moment/locale/hi.js","./hr":"./node_modules/moment/locale/hr.js","./hr.js":"./node_modules/moment/locale/hr.js","./hu":"./node_modules/moment/locale/hu.js","./hu.js":"./node_modules/moment/locale/hu.js","./hy-am":"./node_modules/moment/locale/hy-am.js","./hy-am.js":"./node_modules/moment/locale/hy-am.js","./id":"./node_modules/moment/locale/id.js","./id.js":"./node_modules/moment/locale/id.js","./is":"./node_modules/moment/locale/is.js","./is.js":"./node_modules/moment/locale/is.js","./it":"./node_modules/moment/locale/it.js","./it.js":"./node_modules/moment/locale/it.js","./ja":"./node_modules/moment/locale/ja.js","./ja.js":"./node_modules/moment/locale/ja.js","./jv":"./node_modules/moment/locale/jv.js","./jv.js":"./node_modules/moment/locale/jv.js","./ka":"./node_modules/moment/locale/ka.js","./ka.js":"./node_modules/moment/locale/ka.js","./kk":"./node_modules/moment/locale/kk.js","./kk.js":"./node_modules/moment/locale/kk.js","./km":"./node_modules/moment/locale/km.js","./km.js":"./node_modules/moment/locale/km.js","./kn":"./node_modules/moment/locale/kn.js","./kn.js":"./node_modules/moment/locale/kn.js","./ko":"./node_modules/moment/locale/ko.js","./ko.js":"./node_modules/moment/locale/ko.js","./ky":"./node_modules/moment/locale/ky.js","./ky.js":"./node_modules/moment/locale/ky.js","./lb":"./node_modules/moment/locale/lb.js","./lb.js":"./node_modules/moment/locale/lb.js","./lo":"./node_modules/moment/locale/lo.js","./lo.js":"./node_modules/moment/locale/lo.js","./lt":"./node_modules/moment/locale/lt.js","./lt.js":"./node_modules/moment/locale/lt.js","./lv":"./node_modules/moment/locale/lv.js","./lv.js":"./node_modules/moment/locale/lv.js","./me":"./node_modules/moment/locale/me.js","./me.js":"./node_modules/moment/locale/me.js","./mi":"./node_modules/moment/locale/mi.js","./mi.js":"./node_modules/moment/locale/mi.js","./mk":"./node_modules/moment/locale/mk.js","./mk.js":"./node_modules/moment/locale/mk.js","./ml":"./node_modules/moment/locale/ml.js","./ml.js":"./node_modules/moment/locale/ml.js","./mn":"./node_modules/moment/locale/mn.js","./mn.js":"./node_modules/moment/locale/mn.js","./mr":"./node_modules/moment/locale/mr.js","./mr.js":"./node_modules/moment/locale/mr.js","./ms":"./node_modules/moment/locale/ms.js","./ms-my":"./node_modules/moment/locale/ms-my.js","./ms-my.js":"./node_modules/moment/locale/ms-my.js","./ms.js":"./node_modules/moment/locale/ms.js","./mt":"./node_modules/moment/locale/mt.js","./mt.js":"./node_modules/moment/locale/mt.js","./my":"./node_modules/moment/locale/my.js","./my.js":"./node_modules/moment/locale/my.js","./nb":"./node_modules/moment/locale/nb.js","./nb.js":"./node_modules/moment/locale/nb.js","./ne":"./node_modules/moment/locale/ne.js","./ne.js":"./node_modules/moment/locale/ne.js","./nl":"./node_modules/moment/locale/nl.js","./nl-be":"./node_modules/moment/locale/nl-be.js","./nl-be.js":"./node_modules/moment/locale/nl-be.js","./nl.js":"./node_modules/moment/locale/nl.js","./nn":"./node_modules/moment/locale/nn.js","./nn.js":"./node_modules/moment/locale/nn.js","./pa-in":"./node_modules/moment/locale/pa-in.js","./pa-in.js":"./node_modules/moment/locale/pa-in.js","./pl":"./node_modules/moment/locale/pl.js","./pl.js":"./node_modules/moment/locale/pl.js","./pt":"./node_modules/moment/locale/pt.js","./pt-br":"./node_modules/moment/locale/pt-br.js","./pt-br.js":"./node_modules/moment/locale/pt-br.js","./pt.js":"./node_modules/moment/locale/pt.js","./ro":"./node_modules/moment/locale/ro.js","./ro.js":"./node_modules/moment/locale/ro.js","./ru":"./node_modules/moment/locale/ru.js","./ru.js":"./node_modules/moment/locale/ru.js","./sd":"./node_modules/moment/locale/sd.js","./sd.js":"./node_modules/moment/locale/sd.js","./se":"./node_modules/moment/locale/se.js","./se.js":"./node_modules/moment/locale/se.js","./si":"./node_modules/moment/locale/si.js","./si.js":"./node_modules/moment/locale/si.js","./sk":"./node_modules/moment/locale/sk.js","./sk.js":"./node_modules/moment/locale/sk.js","./sl":"./node_modules/moment/locale/sl.js","./sl.js":"./node_modules/moment/locale/sl.js","./sq":"./node_modules/moment/locale/sq.js","./sq.js":"./node_modules/moment/locale/sq.js","./sr":"./node_modules/moment/locale/sr.js","./sr-cyrl":"./node_modules/moment/locale/sr-cyrl.js","./sr-cyrl.js":"./node_modules/moment/locale/sr-cyrl.js","./sr.js":"./node_modules/moment/locale/sr.js","./ss":"./node_modules/moment/locale/ss.js","./ss.js":"./node_modules/moment/locale/ss.js","./sv":"./node_modules/moment/locale/sv.js","./sv.js":"./node_modules/moment/locale/sv.js","./sw":"./node_modules/moment/locale/sw.js","./sw.js":"./node_modules/moment/locale/sw.js","./ta":"./node_modules/moment/locale/ta.js","./ta.js":"./node_modules/moment/locale/ta.js","./te":"./node_modules/moment/locale/te.js","./te.js":"./node_modules/moment/locale/te.js","./tet":"./node_modules/moment/locale/tet.js","./tet.js":"./node_modules/moment/locale/tet.js","./tg":"./node_modules/moment/locale/tg.js","./tg.js":"./node_modules/moment/locale/tg.js","./th":"./node_modules/moment/locale/th.js","./th.js":"./node_modules/moment/locale/th.js","./tl-ph":"./node_modules/moment/locale/tl-ph.js","./tl-ph.js":"./node_modules/moment/locale/tl-ph.js","./tlh":"./node_modules/moment/locale/tlh.js","./tlh.js":"./node_modules/moment/locale/tlh.js","./tr":"./node_modules/moment/locale/tr.js","./tr.js":"./node_modules/moment/locale/tr.js","./tzl":"./node_modules/moment/locale/tzl.js","./tzl.js":"./node_modules/moment/locale/tzl.js","./tzm":"./node_modules/moment/locale/tzm.js","./tzm-latn":"./node_modules/moment/locale/tzm-latn.js","./tzm-latn.js":"./node_modules/moment/locale/tzm-latn.js","./tzm.js":"./node_modules/moment/locale/tzm.js","./ug-cn":"./node_modules/moment/locale/ug-cn.js","./ug-cn.js":"./node_modules/moment/locale/ug-cn.js","./uk":"./node_modules/moment/locale/uk.js","./uk.js":"./node_modules/moment/locale/uk.js","./ur":"./node_modules/moment/locale/ur.js","./ur.js":"./node_modules/moment/locale/ur.js","./uz":"./node_modules/moment/locale/uz.js","./uz-latn":"./node_modules/moment/locale/uz-latn.js","./uz-latn.js":"./node_modules/moment/locale/uz-latn.js","./uz.js":"./node_modules/moment/locale/uz.js","./vi":"./node_modules/moment/locale/vi.js","./vi.js":"./node_modules/moment/locale/vi.js","./x-pseudo":"./node_modules/moment/locale/x-pseudo.js","./x-pseudo.js":"./node_modules/moment/locale/x-pseudo.js","./yo":"./node_modules/moment/locale/yo.js","./yo.js":"./node_modules/moment/locale/yo.js","./zh-cn":"./node_modules/moment/locale/zh-cn.js","./zh-cn.js":"./node_modules/moment/locale/zh-cn.js","./zh-hk":"./node_modules/moment/locale/zh-hk.js","./zh-hk.js":"./node_modules/moment/locale/zh-hk.js","./zh-tw":"./node_modules/moment/locale/zh-tw.js","./zh-tw.js":"./node_modules/moment/locale/zh-tw.js"};function o(e){var t=i(e);return r(t)}function i(e){var t=n[e];if(!(t+1)){var r=new Error('Cannot find module "'+e+'".');throw r.code="MODULE_NOT_FOUND",r}return t}o.keys=function(){return Object.keys(n)},o.resolve=i,e.exports=o,o.id="./node_modules/moment/locale sync recursive ^\\.\\/.*$"},"./src/LandingPage/landingPageModule.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(r("./node_modules/babel-runtime/regenerator/index.js")),o=c(r("./node_modules/babel-runtime/helpers/asyncToGenerator.js")),i=c(r("./node_modules/angular/index.js")),s=r("./src/Utilities.js"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r("./src/store/modules/projects.js")),a=c(r("./node_modules/angular-ui-router/lib/index.js"));function c(e){return e&&e.__esModule?e:{default:e}}var l="landing",d=new s.StaticUtilities("LandingPage");function f(e,t){var r,i,s=this;e.state(l,{url:"/landing",parent:"base",views:{main:{template:"<landing-page></landing-page>"}},resolve:{main:function(){return d.lazyLoader(t,"landingPageComponent")},data:["$ngRedux",(i=(0,o.default)(n.default.mark(function e(t){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.dispatch(u.loadUserProjects()));case 1:case"end":return e.stop()}},e,s)})),function(e){return i.apply(this,arguments)})]}}).state("landing-logged",{url:"/landing",parent:"app",views:{main:{template:"<landing-page></landing-page>"}},resolve:{main:function(){return d.lazyLoader(t,"landingPageComponent")},data:["$ngRedux",(r=(0,o.default)(n.default.mark(function e(t){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.dispatch(u.loadUserProjects()));case 1:case"end":return e.stop()}},e,s)})),function(e){return r.apply(this,arguments)})]}})}f.$inject=["$stateProvider","$compileProvider"],i.default.module(l,[a.default]).config(f),t.default=l},"./src/Storage.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r("./node_modules/babel-runtime/core-js/json/stringify.js")),o=s(r("./node_modules/babel-runtime/helpers/classCallCheck.js")),i=s(r("./node_modules/babel-runtime/helpers/createClass.js"));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){(0,o.default)(this,e),this.storage=window.localStorage}return(0,i.default)(e,[{key:"set",value:function(e,t){if("string"!=typeof e)throw new TypeError("this.storage key should be a string!");var r="string"==typeof t?t:(0,n.default)(t);this.storage.setItem(e,r)}},{key:"get",value:function(e){try{return JSON.parse(this.storage.getItem(e))}catch(t){return this.storage.getItem(e)}}},{key:"remove",value:function(e){this.storage.removeItem(e)}},{key:"clear",value:function(){this.storage.clear()}},{key:"check",value:function(){console.log("this.storage contains:\n");var e={};for(var t in this.storage)console.log(t+": "+this.storage.getItem(t)),e[t]=this.storage.getItem(t);return e}}]),e}();t.default=u},"./src/plugins/axios.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r("./node_modules/babel-runtime/core-js/promise.js"));function o(e){return e&&e.__esModule?e:{default:e}}var i=o(r("./node_modules/axios/index.js")).default.create();i.setAuthToken=function(e){i.defaults.headers.common.Authorization="Token "+e},i.unSetAuthToken=function(){i.defaults.headers.common.Authorization=null},i.setLanguageHeader=function(e){i.defaults.headers.common["Accept-Language"]=e},i.setShowPopUp=function(e){i.popUpFunction=e},i.setHandleAuthProblem=function(e){i.authProblemFunction=e},i.interceptors.request.use(function(e){return e},function(e){return console.error(e),i.popUpFunction(),n.default.reject(e)}),i.interceptors.response.use(function(e){return e},function(e){return e&&e.response&&(401===e.response.status||403===e.response.status?i.authProblemFunction():i.popUpFunction()),n.default.reject(e)}),t.default=i},"./src/plugins/language.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentLanguage=t.setLanguage=t.getLanguage=t.configureDates=t.setDateLocaleProvider=t.setScope=t.setCatalog=t.config=void 0;var n=u(r("./node_modules/babel-runtime/regenerator/index.js")),o=u(r("./node_modules/babel-runtime/helpers/asyncToGenerator.js")),i=u(r("./src/plugins/axios.js")),s=u(r("./node_modules/moment/moment.js"));function u(e){return e&&e.__esModule?e:{default:e}}r("./node_modules/moment/locale/fr.js"),r("./node_modules/moment/locale/pt.js"),r("./node_modules/moment/locale/es.js");var a,c,l=window.navigator,d=l.languages&&l.languages[0]||l.language||l.userLanguage,f=t.config={gettextCatalog:{},language:d,scope:{},mdDateLocaleProvider:{}};t.setCatalog=function(e){f.gettextCatalog=e},t.setScope=function(e){f.scope=e},t.setDateLocaleProvider=function(e){f.mdDateLocaleProvider=e},t.configureDates=(a=(0,o.default)(n.default.mark(function e(t){var r;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s.default.locale(t),r=(0,s.default)(),f.mdDateLocaleProvider.months=r.localeData().months(),f.mdDateLocaleProvider.shortMonths=r.localeData().monthsShort(),f.mdDateLocaleProvider.days=r.localeData().weekdays(),f.mdDateLocaleProvider.shortDays=r.localeData().weekdaysShort(),window.moment=r;case 7:case"end":return e.stop()}},e,void 0)})),function(e){return a.apply(this,arguments)}),t.getLanguage=(c=(0,o.default)(n.default.mark(function e(){var r,o;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.default.setLanguageHeader(f.language),e.next=3,i.default.get("/translation/json/");case 3:r=e.sent,o=r.data,f.gettextCatalog.setCurrentLanguage(f.language),f.gettextCatalog.setStrings(f.language,o.catalog),t.configureDates(f.language),f.scope.$digest();case 9:case"end":return e.stop()}},e,void 0)})),function(){return c.apply(this,arguments)}),t.setLanguage=function(e){return f.language=e,t.getLanguage()},t.getCurrentLanguage=function(){return f.language}},"./src/store/modules/countries.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.csvExport=t.getCurrentCountryProjects=t.getCurrentCountryDistrictProjects=t.getCurrentCountryMapData=t.getCurrentCountryFacilityList=t.getCurrentCountrySecondSubLevel=t.getCurrentCountryFirstSubLevel=t.getCurrentCountrySubLevelNames=t.getCountriesLib=t.getCountryCoverPicture=t.getCountryCoverPage=t.getCurrentCountry=t.getCountryFields=t.getCountriesList=t.getCountry=t.mapData=void 0;var n,o=v(r("./node_modules/babel-runtime/core-js/promise.js")),i=v(r("./node_modules/babel-runtime/core-js/object/freeze.js")),s=v(r("./node_modules/babel-runtime/regenerator/index.js")),u=v(r("./node_modules/babel-runtime/helpers/asyncToGenerator.js")),a=v(r("./node_modules/babel-runtime/helpers/extends.js"));t.csvExport=(n=(0,u.default)(s.default.mark(function e(t){var r,n;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.default.post("/api/projects/csv-export/",t);case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)});t.loadCountries=function(){var e=this;return t=(0,u.default)(s.default.mark(function t(r,n){var o,i;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n().countries.list.length){e.next=8;break}return e.next=4,c.default.get("/api/countries/");case 4:o=e.sent,(i=o.data).sort(function(e,t){return e.name.localeCompare(t.name)}),r({type:"SET_COUNTRIES_LIST",countries:i});case 8:case"end":return e.stop()}},t,e)})),function(e,r){return t.apply(this,arguments)};var t},t.loadCountryFields=function(e){var t=this;return r=(0,u.default)(s.default.mark(function r(n,o){var i,u,a;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((i=o().countries.countryFields.filter(function(t){return t.country===e}))&&0!==i.length){t.next=8;break}return t.next=4,c.default.get("/api/country-fields/"+e+"/");case 4:u=t.sent,(a=u.data).sort(function(e,t){return e.id-t.id}),n({type:"UPDATE_COUNTRY_FIELDS_LIST",fields:a});case 8:case"end":return t.stop()}},r,t)})),function(e,t){return r.apply(this,arguments)};var r},t.loadCountryMapData=function(){var e=this;return r=(0,u.default)(s.default.mark(function r(n,o){var u,a,l,d;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=o(),!(a=t.getCurrentCountry(u))||!a.code){e.next=10;break}if(g[a.code]){e.next=10;break}return e.next=7,c.default.get("/static/country-geodata/"+a.code+".json");case 7:l=e.sent,d=l.data,g[a.code]=(0,i.default)(d);case 10:case"end":return e.stop()}},r,e)})),function(e,t){return r.apply(this,arguments)};var r},t.loadCountryLandingPageInfo=function(){var e=this;return r=(0,u.default)(s.default.mark(function r(n,o){var i,u,a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=t.getCurrentCountry(o()))||!i.code){e.next=7;break}return e.next=4,c.default.get("/api/landing/"+i.code.toUpperCase()+"/");case 4:u=e.sent,a=u.data,n({type:"SET_COUNTRY_COVER_DATA",cover:a});case 7:case"end":return e.stop()}},r,e)})),function(e,t){return r.apply(this,arguments)};var r},t.loadCurrentCountryDistrictsProject=function(){var e=this;return r=(0,u.default)(s.default.mark(function r(n,o){var i,u,a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=t.getCurrentCountry(o()))||!i.id){e.next=7;break}return e.next=4,c.default.get("/api/projects/by-view/map/"+i.id+"/");case 4:u=e.sent,a=u.data,n({type:"SET_CURRENT_COUNTRY_DISTRICT_PROJECTS",projects:a});case 7:case"end":return e.stop()}},r,e)})),function(e,t){return r.apply(this,arguments)};var r},t.loadCountryProjectsOrAll=function(e){var t=this;return r=(0,u.default)(s.default.mark(function r(n){var o,i,u;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=["/api/projects/by-view/list/"],e&&o.push(e+"/"),t.next=4,c.default.get(o.join(""));case 4:i=t.sent,u=i.data,n({type:"SET_CURRENT_COUNTRY_PROJECTS",projects:u});case 7:case"end":return t.stop()}},r,t)})),function(e){return r.apply(this,arguments)};var r},t.loadCurrentCountryProjects=function(){var e=this;return r=(0,u.default)(s.default.mark(function r(n,o){var i;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(i=t.getCurrentCountry(o()))&&n(t.loadCountryProjectsOrAll(i.id));case 2:case"end":return e.stop()}},r,e)})),function(e,t){return r.apply(this,arguments)};var r},t.setCurrentCountry=function(e){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return i=(0,u.default)(s.default.mark(function i(u,a){var c,l;return s.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(c=a().countries.currentCountry,!e||e===c){r.next=9;break}return u({type:"SET_CURRENT_COUNTRY",country:e}),(l={}).countryFields=u(t.loadCountryFields(e)),l.mapData=u(t.loadCountryMapData()),l.landingPage=u(t.loadCountryLandingPageInfo()),l.districts=u(t.loadCurrentCountryDistrictsProject()),r.abrupt("return",o.default.all(n.map(function(e){return l[e]})));case 9:return r.abrupt("return",o.default.resolve());case 10:case"end":return r.stop()}},i,r)})),function(e,t){return i.apply(this,arguments)};var i},t.setCurrentCountryFromCode=function(e){var r=this;return n=(0,u.default)(s.default.mark(function n(o,i){var u;return s.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:(u=i().countries.list.find(function(t){return t.code.toLocaleLowerCase()===e.toLocaleLowerCase()}))&&u.id?o(t.setCurrentCountry(u.id,["landingPage"])):o({type:"UNSET_CURRENT_COUNTRY"});case 2:case"end":return r.stop()}},n,r)})),function(e,t){return n.apply(this,arguments)};var n},t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments[1];switch(t.type){case"SET_COUNTRIES_LIST":return(0,a.default)({},e,{list:t.countries});case"SET_CURRENT_COUNTRY":return(0,a.default)({},e,{currentCountry:t.country});case"UNSET_CURRENT_COUNTRY":return(0,a.default)({},e,{currentCountry:null,currentCountryCoverPage:{}});case"SET_COUNTRY_COVER_DATA":return(0,a.default)({},e,{currentCountryCoverPage:t.cover});case"UPDATE_COUNTRY_FIELDS_LIST":return(0,a.default)({},e,{countryFields:(0,l.default)(t.fields,e.countryFields,"id")});case"SET_CURRENT_COUNTRY_PROJECTS":return(0,a.default)({},e,{currentCountryProjects:t.projects});case"SET_CURRENT_COUNTRY_DISTRICT_PROJECTS":return(0,a.default)({},e,{currentCountryDistrictsProjects:t.projects});default:return e}};var c=v(r("./src/plugins/axios.js")),l=v(r("./node_modules/lodash/unionBy.js")),d=v(r("./node_modules/lodash/forEach.js")),f=r("./node_modules/reselect/lib/index.js"),m=r("./src/store/modules/projects.js"),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r("./src/store/modules/system.js")),h=r("./src/plugins/language.js");function v(e){return e&&e.__esModule?e:{default:e}}var _={list:[],countryFields:[],currentCountryDistricts:[],currentCountry:null,currentCountryCoverPage:{},currentCountryProjects:[],currentCountryDistrictsProjects:[]},g=t.mapData={},y=(t.getCountry=function(e,t){return e.countries.list.find(function(e){return e.id===t})},t.getCountriesList=(0,f.createSelector)(function(e){return e.countries.list},function(e){return e?e.map(function(e){var t=e.code.toLocaleLowerCase();return(0,a.default)({},e,{code:t,flag:"/static/flags/"+t+".png",prettyName:e.name.split("-").join(" ")})}):[]}));t.getCountryFields=function(e){return e.countries.countryFields.filter(function(t){return t.country===e.countries.currentCountry}).map(function(e){return(0,a.default)({},e)})},t.getCurrentCountry=function(e){return(0,a.default)({},y(e).find(function(t){return t.id===e.countries.currentCountry}))},t.getCountryCoverPage=function(e){var t=(0,a.default)({},e.countries.currentCountryCoverPage),r=p.getLandingPageDefaults(e);return(0,d.default)(r,function(e,r){var n=t[r];null!==n&&void 0!==n&&""!==n||(t[r]=e)}),t.partners=t.default_partners.concat(t.partner_logos),t},t.getCountryCoverPicture=function(e){var r=t.getCountryCoverPage(e);return r.cover?{background:"url("+r.cover+") 0 0","background-size":"cover","background-repeat":"no-repeat"}:null},t.getCountriesLib=function(e){var t={};return e.countries.list&&e.countries.list.forEach(function(e){t[e.id]=e.name}),t},t.getCurrentCountrySubLevelNames=function(e){var r=t.getCurrentCountry(e),n=p.getSubLevelTypes(e);try{var o=n.find(function(e){return e.name===r.map_data.first_sub_level.name}),i=n.find(function(e){return e.name===r.map_data.second_sub_level.name});return[o=o?o.displayName:r.map_data.first_sub_level.name,i=i?i.displayName:r.map_data.second_sub_level.name]}catch(e){return["",""]}},t.getCurrentCountryFirstSubLevel=function(e){var r=(0,h.getCurrentLanguage)(),n=t.getCurrentCountry(e);return n&&n.map_data&&n.map_data.first_sub_level?n.map_data.first_sub_level.elements.map(function(e){return{id:e.name,name:e["name:"+r]||e["name:en"]||e.name}}):[]},t.getCurrentCountrySecondSubLevel=function(e){var r=(0,h.getCurrentLanguage)(),n=t.getCurrentCountry(e);return n&&n.map_data&&n.map_data.second_sub_level?n.map_data.second_sub_level.elements.map(function(e){return{id:e.name,name:e["name:"+r]||e["name:en"]||e.name}}):[]},t.getCurrentCountryFacilityList=function(e){var r=t.getCurrentCountry(e);return r&&r.map_data&&r.map_data.facilities?r.map_data.facilities:[]},t.getCurrentCountryMapData=function(e){var r=t.getCurrentCountry(e);return r.mapData=g[r.code],r.districts=t.getCurrentCountryFirstSubLevel(e),r},t.getCurrentCountryDistrictProjects=function(e){var t={},r=e.countries.currentCountryDistrictsProjects;for(var n in r)t[n]=r[n].map(function(t){return t=(0,a.default)({},t,(0,m.isMemberOrViewer)(e,t))});return t},t.getCurrentCountryProjects=function(e){return e.countries.currentCountryProjects.map(function(t){return t=(0,a.default)({},t,(0,m.isMemberOrViewer)(e,t))})}},"./src/store/modules/projects.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.searchProjects=t.postProjectSaveActions=t.saveCountryFields=t.saveTeamViewers=t.checkCurrentProjectValidity=t.getSimilarProject=t.getCoverageData=t.getMapsDomainData=t.getMapsAxisData=t.getCurrentVersionDate=t.getCurrentVersion=t.getCoverageVersion=t.getToolkitVersion=t.getViewers=t.getTeam=t.getNewProjectForEditing=t.getCurrentDraftProjectForEditing=t.getCurrentEdits=t.getCurrentPublishedProjectForEditing=t.getCurrentProjectForEditing=t.getProjectCountryFields=t.getStoredCountryFields=t.getCurrentDraftInViewMode=t.getCurrentDraft=t.getCurrentPublished=t.parseProjectForViewMode=t.convertCountryFieldsAnswer=t.getCurrentPublicProjectDetails=t.getCurrentPublicProject=t.getCurrentProject=t.getCurrentProjectIfExist=t.getVanillaProject=t.getEmptyProject=t.getUserDefaultProject=t.getUserProjects=t.getProjectStructure=t.getFlatProjectStructure=t.getDraftedProjects=t.getPublishedProjects=t.getSavedProjectList=t.getCurrentProjectId=t.isMemberOrViewer=void 0;var n,o,i,s,u=k(r("./node_modules/babel-runtime/core-js/object/keys.js")),a=k(r("./node_modules/babel-runtime/core-js/json/stringify.js")),c=k(r("./node_modules/babel-runtime/helpers/slicedToArray.js")),l=k(r("./node_modules/babel-runtime/regenerator/index.js")),d=k(r("./node_modules/babel-runtime/core-js/promise.js")),f=k(r("./node_modules/babel-runtime/helpers/asyncToGenerator.js")),m=k(r("./node_modules/babel-runtime/core-js/object/assign.js")),p=k(r("./node_modules/babel-runtime/helpers/typeof.js")),h=k(r("./node_modules/babel-runtime/helpers/toConsumableArray.js")),v=k(r("./node_modules/babel-runtime/helpers/extends.js"));t.saveTeamViewers=(n=(0,f.default)(l.default.mark(function e(t){var r,n=t.id,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={team:o.map(function(e){return e.id}),viewers:i.map(function(e){return e.id})},e.next=3,_.default.put("/api/projects/"+n+"/groups/",r);case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)}),t.saveCountryFields=(o=(0,f.default)(l.default.mark(function e(){var t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments[1],i=arguments[2],s=arguments[3];return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=n.map(function(e){var t=e.country,r=e.question,n=e.type;return{country:t,answer:e.answer,type:n,question:r,project:i}}),s="published"===s?"publish":"draft",e.prev=2,e.next=5,_.default.post("/api/country-fields/"+o+"/"+i+"/"+s+"/",{fields:n});case 5:return t=e.sent,r=t.data,e.abrupt("return",r.fields);case 10:return e.prev=10,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",!1);case 14:case"end":return e.stop()}},e,this,[[2,10]])})),function(){return o.apply(this,arguments)}),t.postProjectSaveActions=(i=(0,f.default)(l.default.mark(function e(r,n,o,i,s,u){var a,f,m,p,h,v,_,g,y,j,b;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=S.getProfile(s).id,f=t.getStoredCountryFields(s)(!0),m=t.saveCountryFields(f,r.draft.country,r.id,u),p=t.saveTeamViewers(r,n,o),e.next=6,d.default.all([p,m]);case 6:if(h=e.sent,v=(0,c.default)(h,2),_=v[0],g=v[1],y=_.team.some(function(e){return e===a})?[r.id]:[],j=_.viewers.some(function(e){return e===a})?[r.id]:[],!1!==g){e.next=16;break}return(b=new Error).response={custom:!0,message:"Failed to save country fields"},e.abrupt("return",d.default.reject(b));case 16:return"published"===u&&(r.published.fields=g),r.draft.fields=g,i({type:"UPDATE_SAVE_PROJECT",project:r}),i({type:"SET_PROJECT_TEAM_VIEWERS",teamViewers:_}),i(S.updateTeamViewers(y,j)),i(w.loadCurrentCountryProjects()),i(w.loadCurrentCountryDistrictsProject()),e.abrupt("return",d.default.resolve(r));case 24:case"end":return e.stop()}},e,this)})),function(e,t,r,n,o,s){return i.apply(this,arguments)}),t.searchProjects=(s=(0,f.default)(l.default.mark(function e(t){var r,n,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.default.post("/api/search/projects/",{health_topic:o,location:i,organisation:s,project_name:u,query:t,technology_platform:a});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)});t.loadUserProjects=function(){var e=this;return r=(0,f.default)(l.default.mark(function r(n,o){var i,s,u;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(i=o()).user.profile||t.getSavedProjectList(i)){e.next=9;break}return e.next=5,_.default.get("/api/projects/member-of/");case 5:s=e.sent,(u=s.data).sort(function(e,t){return t.id-e.id}),n({type:"SET_PROJECT_LIST",projects:u});case 9:return e.abrupt("return",d.default.resolve());case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",d.default.reject(e.t0));case 16:case"end":return e.stop()}},r,e,[[0,12]])})),function(e,t){return r.apply(this,arguments)};var r},t.loadProjectDetails=function(){var e=this;return t=(0,f.default)(l.default.mark(function t(r,n){var o,i,s,u,a,f,m,p,h;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(o=n().projects.currentProject)||-1===o){e.next=15;break}return i=_.default.get("/api/projects/"+o+"/toolkit/versions/"),s=_.default.get("/api/projects/"+o+"/coverage/versions/"),u=_.default.get("/api/projects/"+o+"/groups/"),e.next=8,d.default.all([i,s,u]);case 8:a=e.sent,f=(0,c.default)(a,3),m=f[0],p=f[1],h=f[2],r({type:"SET_PROJECT_INFO",info:{toolkitVersions:m.data,coverageVersions:p.data}}),r({type:"SET_PROJECT_TEAM_VIEWERS",teamViewers:h.data});case 15:return e.abrupt("return",d.default.resolve());case 18:return e.prev=18,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",d.default.reject(e.t0));case 22:case"end":return e.stop()}},t,e,[[0,18]])})),function(e,r){return t.apply(this,arguments)};var t},t.setCurrentProject=function(e){var r=this;return n=(0,f.default)(l.default.mark(function n(o,i){var s,u,a,c,f,m,p,h;return l.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(e=parseInt(e,10))||-1===e||e===i().projects.currentProject){r.next=22;break}if(o({type:"SET_CURRENT_PROJECT",id:e}),!(s=t.getCurrentProjectIfExist(i()))){r.next=9;break}return u=o(w.setCurrentCountry(s.country,["mapData"])),a=o(t.loadProjectDetails()),c=o(P.loadToolkitData()),r.abrupt("return",d.default.all([u,a,c]));case 9:return r.next=11,_.default.get("/api/projects/"+e+"/");case 11:if(f=r.sent,m=f.data,!S.getProfile(i())){r.next=19;break}return r.next=17,_.default.get("/api/projects/"+e+"/groups/");case 17:p=r.sent,o({type:"SET_PROJECT_TEAM_VIEWERS",teamViewers:p.data});case 19:o({type:"SET_CURRENT_PUBLIC_PROJECT_DETAIL",project:m}),r.next=23;break;case 22:-1===e&&(o({type:"SET_CURRENT_PROJECT",id:e}),h={id:-1,draft:{fields:[]},public:{}},o({type:"SET_PROJECT_TEAM_VIEWERS",teamViewers:{team:[],viewers:[]}}),o({type:"UPDATE_SAVE_PROJECT",project:h}));case 23:return r.abrupt("return",d.default.resolve());case 24:case"end":return r.stop()}},n,r)})),function(e,t){return n.apply(this,arguments)};var n},t.snapShotProject=function(){var e=this;return r=(0,f.default)(l.default.mark(function r(n,o){var i;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=o().projects.currentProject,e.next=3,_.default.post("/api/projects/"+i+"/version/");case 3:return e.next=5,n(t.loadProjectDetails());case 5:case"end":return e.stop()}},r,e)})),function(e,t){return r.apply(this,arguments)};var r},t.loadProjectStructure=function(e){var r=this;return n=(0,f.default)(l.default.mark(function n(o,i){var s,u,a,c;return l.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(s=i(),u=t.getProjectStructure(s),!(0,y.default)(u)&&!e){r.next=9;break}return r.next=5,_.default.get("/api/projects/structure/");case 5:return a=r.sent,c=a.data,r.next=9,o({type:"SET_PROJECT_STRUCTURE",structure:c});case 9:case"end":return r.stop()}},n,r)})),function(e,t){return n.apply(this,arguments)};var n},t.processForm=function(e){var t=e.organisation?e.organisation.name:"",r=e.organisation?e.organisation.id:null;return e=(0,v.default)({},e,(0,T.retainNationalOrDistrictCoverage)(e)),e=(0,v.default)({},e,{organisation_name:t,organisation:r},(0,T.createDateFields)(e),(0,T.convertObjectArrayToStringArray)(e),(0,T.parseOutInteroperabilityLinks)(e),{coverageType:void 0,platforms:(0,T.parsePlatformCollection)(e)},(0,T.extractIdFromObjects)(e),(0,T.handleNationalLevelCoverage)(e),{coverage:(0,T.handleCoverage)(e.coverage),coverage_second_level:(0,T.handleCoverage)(e.coverage_second_level)}),e=(0,v.default)({},e,(0,T.retainOnlyIds)(e)),e=(0,v.default)({},e,(0,T.removeEmptyChildObjects)(e)),(0,T.removeKeysWithoutValues)(e)},t.saveDraft=function(e,r,n){var o=this;return i=(0,f.default)(l.default.mark(function i(s,u){var a,c,f,m;return l.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e=t.processForm(e),a=e.id?"put":"post",c=e.id?"/api/projects/draft/"+e.id+"/":"/api/projects/draft/",o.prev=3,o.next=6,_.default[a](c,e);case 6:return f=o.sent,m=f.data,o.abrupt("return",t.postProjectSaveActions(m,r,n,s,u(),"draft"));case 11:return o.prev=11,o.t0=o.catch(3),console.log(o.t0),o.abrupt("return",d.default.reject(o.t0));case 15:case"end":return o.stop()}},i,o,[[3,11]])})),function(e,t){return i.apply(this,arguments)};var i},t.discardDraft=function(){var e=this;return r=(0,f.default)(l.default.mark(function r(n,o){var i,s,u,a,c;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.getCurrentPublishedProjectForEditing(o()),s=t.processForm(i),u=t.getStoredCountryFields(o())(!1),e.next=5,_.default.put("/api/projects/draft/"+i.id+"/",s);case 5:return a=e.sent,c=a.data,e.next=9,t.saveCountryFields(u,c.draft.country,c.id,"published");case 9:return c.draft.fields=e.sent,n({type:"UPDATE_SAVE_PROJECT",project:c}),e.abrupt("return",d.default.resolve(c));case 12:case"end":return e.stop()}},r,e)})),function(e,t){return r.apply(this,arguments)};var r},t.publish=function(e,r,n){var o=this;return i=(0,f.default)(l.default.mark(function i(s,u){var a,c;return l.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e=t.processForm(e),o.prev=1,o.next=4,_.default.put("/api/projects/publish/"+e.id+"/",e);case 4:return a=o.sent,c=a.data,o.abrupt("return",t.postProjectSaveActions(c,r,n,s,u(),"published"));case 9:return o.prev=9,o.t0=o.catch(1),console.log(o.t0),o.abrupt("return",d.default.reject(o.t0));case 13:case"end":return o.stop()}},i,o,[[1,9]])})),function(e,t){return i.apply(this,arguments)};var i},t.searchDuplicateProjectName=function(e){var r=this;return n=(0,f.default)(l.default.mark(function n(o){var i;return l.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.searchProjects(e);case 2:i=r.sent,o({type:"SET_SIMILAR_NAME_LIST",list:i});case 4:case"end":return r.stop()}},n,r)})),function(e){return n.apply(this,arguments)};var n},t.clearSimilarNameList=function(){var e=this;return t=(0,f.default)(l.default.mark(function t(r){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r({type:"SET_SIMILAR_NAME_LIST",list:[]});case 1:case"end":return e.stop()}},t,e)})),function(e){return t.apply(this,arguments)};var t},t.updateProjectCountryFields=function(e){var r=e.id,n=e.answer,o=e.question,i=e.type,s=e.country,u=e.schema_id;return function(e,c){var l=t.getCurrentProjectId(c());switch(i){case 3:n=!0===n?"true":"false";break;case 5:n=(0,a.default)(n)}var d={id:r,answer:n,question:o,type:i,country:s,schema_id:u=u||r};e({type:"UPDATE_COUNTRY_FIELD_ANSWER",projectId:l,countryField:d})}},t.updateEditedProject=function(e){return function(t,r){var n={},o=r().projects.editedProject;(0,u.default)(e).forEach(function(t){var r=(0,j.default)(o[t],e[t]);r||(n[t]=e[t])}),(0,u.default)(n).length>0&&t({type:"EDITED_PROJECT_UPDATE",update:n})}},t.resetEditedProject=function(){return function(e){e({type:"EDITED_PROJECT_RESET"})}},t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{editedProject:{}},t=arguments[1];switch(t.type){case"SET_PROJECT_LIST":var r=t.projects.slice();return(0,v.default)({},e,{list:r});case"SET_SIMILAR_NAME_LIST":var n=t.list.slice();return(0,v.default)({},e,{similarProjectNames:n});case"UPDATE_SAVE_PROJECT":var o=[].concat((0,h.default)(e.list)),i=o.findIndex(function(e){return e.id===t.project.id});return-1!==i?o.splice(i,1,(0,v.default)({},t.project)):o.push((0,v.default)({},t.project)),(0,v.default)({},e,{list:o});case"UPDATE_COUNTRY_FIELD_ANSWER":var s=[].concat((0,h.default)(e.list)),u=s.findIndex(function(e){return e.id===t.projectId}),a=[].concat((0,h.default)(s[u].draft.fields)),c=a.findIndex(function(e){return e.schema_id===t.countryField.schema_id});return-1!==c?a.splice(c,1,(0,v.default)({},t.countryField)):a.push((0,v.default)({},t.countryField)),s[u].draft.fields=a,(0,v.default)({},e,{list:s});case"SET_CURRENT_PROJECT":var l=t.id;return(0,v.default)({},e,{currentProject:l});case"SET_CURRENT_PUBLIC_PROJECT_DETAIL":var d=t.project;return(0,v.default)({},e,{currentPublicProject:d});case"SET_PROJECT_STRUCTURE":var f=t.structure;return(0,v.default)({},e,{structure:f});case"SET_PROJECT_INFO":var m=t.info.toolkitVersions,p=t.info.coverageVersions,_=t.info.teamViewers;return(0,v.default)({},e,{toolkitVersions:m,coverageVersions:p,teamViewers:_});case"SET_PROJECT_TEAM_VIEWERS":var g=t.teamViewers;return(0,v.default)({},e,{teamViewers:g});case"CLEAR_USER_PROJECTS":return{structure:e.structure};case"EDITED_PROJECT_UPDATE":return(0,v.default)({},e,{editedProject:(0,v.default)({},e.editedProject,t.update)});case"EDITED_PROJECT_RESET":return(0,v.default)({},e,{editedProject:{}});default:return e}};var _=k(r("./src/plugins/axios.js")),g=k(r("./node_modules/lodash/forOwn.js")),y=k(r("./node_modules/lodash/isEmpty.js")),j=k(r("./node_modules/lodash/isEqual.js")),b=r("./src/store/static_data/project_definition.js"),w=R(r("./src/store/modules/countries.js")),S=R(r("./src/store/modules/user.js")),P=R(r("./src/store/modules/toolkit.js")),E=r("./node_modules/reselect/lib/index.js"),T=r("./src/store/project_utils.js"),C=R(r("./src/store/modules/system.js"));function R(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function k(e){return e&&e.__esModule?e:{default:e}}t.isMemberOrViewer=function(e,t){var r=S.getProfile(e);if(r&&r.member&&r.viewer){var n=r.member.indexOf(t.id)>-1,o=!n&&r.viewer.indexOf(t.id)>-1;return{isMember:n,isViewer:o,isTeam:n||o}}return{isMember:!1,isViewer:!1,isTeam:!1}},t.getCurrentProjectId=function(e){return e.projects.currentProject},t.getSavedProjectList=(0,E.createSelector)(function(e){return e.projects.list},function(e){return t.getVanillaProject(e)},function(e,t){if(e)return e.filter(function(e){return-1!==e.id}).map(function(e){return(0,v.default)({},e,{draft:(0,v.default)({},t,{donors:[],implementing_partners:[]},e.draft)})})}),t.getPublishedProjects=function(e){return e.projects.list?t.getSavedProjectList(e).map(function(r){return r=(0,v.default)({},r.published,t.isMemberOrViewer(e,r))}):[]},t.getDraftedProjects=function(e){return e.projects.list?t.getSavedProjectList(e).map(function(r){return r=(0,v.default)({},r.draft,t.isMemberOrViewer(e,r))}):[]},t.getFlatProjectStructure=function(e){var t=e.projects.structure;if(t){var r=[];t.strategies.forEach(function(e){e.subGroups.forEach(function(e){r=[].concat((0,h.default)(r),(0,h.default)(e.strategies.map(function(e){return(0,v.default)({},e)})))})});var n=[];t.health_focus_areas.forEach(function(e){n=[].concat((0,h.default)(n),(0,h.default)(e.health_focus_areas))});var o=[];return t.hsc_challenges.forEach(function(e){o=[].concat((0,h.default)(o),(0,h.default)(e.challenges))}),(0,v.default)({},t,{strategies:r,health_focus_areas:n,hsc_challenges:o})}return{}},t.getProjectStructure=(0,E.createSelector)(function(e){return e.projects.structure},function(e){return(0,v.default)({},e)}),t.getUserProjects=function(e){var r=t.getFlatProjectStructure(e);return e.projects.list?t.getSavedProjectList(e).map(function(n){var o=n.public_id,i=!!o;n=i?(0,v.default)({},n.published):(0,v.default)({},n.draft);var s=w.getCountry(e,n.country);return n=(0,v.default)({},n,t.isMemberOrViewer(e,n),{isPublished:i,public_id:o,country_name:s?s.name:""},(0,T.convertIdArrayToObjectArray)(n,r,T.dashFieldConvertToObject))}):[]},t.getUserDefaultProject=function(e){var t=e&&e.projects?e.projects.list:null;return t&&t[0]&&-1!==t[0].id?""+t[0].id:null},t.getEmptyProject=function(){return(0,v.default)({},b.project_definition)},t.getVanillaProject=function(e){var r=t.getEmptyProject(),n=t.getProjectStructure(e),o=S.getProfile(e);return o&&(r.country=o.country?o.country.id:null,r.organisation=o.organisation?o.organisation:null),n&&(r.interoperability_links=n.interoperability_links),(0,v.default)({},r)},t.getCurrentProjectIfExist=function(e){return t.getUserProjects(e).find(function(t){return t.id===e.projects.currentProject})},t.getCurrentProject=function(e){var r=t.getCurrentProjectIfExist(e);return r||(r=t.getCurrentPublicProject(e))||(r=t.getVanillaProject(e)),(0,v.default)({},r)},t.getCurrentPublicProject=function(e){var t=e.projects.currentPublicProject?e.projects.currentPublicProject:{};if(t&&t.id&&(t=t.published&&t.published.name?t.published:t.draft),null===t)return null;var r=t.country?w.getCountry(e,t.country):void 0;return(0,v.default)({},t,{country_name:r?r.name:t.country_name,isPublic:!0})},t.getCurrentPublicProjectDetails=function(e,r){var n=r?t.getCurrentDraft(e):t.getCurrentPublished(e),o=r?"draft":"published";return n||((n=e.projects.currentPublicProject?e.projects.currentPublicProject[o]:void 0)?(n.hasPublishedVersion=!(!e.projects.currentPublicProject.published||!e.projects.currentPublicProject.published.name),n.disableDraft=!e.projects.currentPublicProject.draft,t.parseProjectForViewMode(e,n)):(0,v.default)({},t.getVanillaProject(e)))},t.convertCountryFieldsAnswer=function(e){return e.map(function(e){switch((e=(0,v.default)({},e)).type){case 2:e.answer=parseInt(e.answer,10);break;case 3:e.answer="true"===e.answer;break;case 5:e.answer=JSON.parse(e.answer)}return e})},t.parseProjectForViewMode=function(e,r){var n=t.getEmptyProject(),o=t.getFlatProjectStructure(e),i=w.getCountry(e,r.country);return r=(0,v.default)({},n,r),r=(0,v.default)({},r,{country_name:i?i.name:""},(0,T.convertIdArrayToObjectArray)(r,o,T.dashFieldConvertToObject),{coverageType:(0,T.setCoverageType)(r.coverage,r.national_level_deployment),coverage_second_level:r.coverage_second_level?r.coverage_second_level:[{}],coverage:r.coverage?r.coverage:[{}]}),(0,v.default)({},r,(0,T.convertIdArrayToObjectArray)(r,o,[{key:"platforms.strategies",structure_key:"strategies"}]),{hasPublishedVersion:void 0===r.hasPublishedVersion||r.hasPublishedVersion})},t.getCurrentPublished=function(e){var r=t.getPublishedProjects(e).find(function(t){return t.id===e.projects.currentProject});if(r)return t.parseProjectForViewMode(e,r)},t.getCurrentDraft=function(e){var r=t.getDraftedProjects(e).find(function(t){return t.id===e.projects.currentProject});if(r)return(0,v.default)({},r,{hasPublishedVersion:!!t.getPublishedProjects(e).find(function(t){return t.id===e.projects.currentProject})})},t.getCurrentDraftInViewMode=function(e){var r=t.getCurrentDraft(e);if(r)return t.parseProjectForViewMode(e,r)},t.getStoredCountryFields=function(e){return function(r){var n=r?t.getCurrentDraft(e):t.getCurrentPublished(e);if(void 0===n){var o=e.projects.list.find(function(e){return-1===e.id});o&&(n=o.draft)}return n?n.fields:[]}},t.getProjectCountryFields=function(e){return function(r){var n=w.getCountryFields(e),o=t.convertCountryFieldsAnswer(t.getStoredCountryFields(e)(r)),i=n.map(function(e){var t=o.find(function(t){return t.schema_id===e.id});return(0,v.default)({},e,{answer:t?t.answer:e.answer})});return[].concat((0,h.default)(i))}},t.getCurrentProjectForEditing=function(e,r){var n=t.getFlatProjectStructure(e);return r||(r=t.getVanillaProject(e)),r.start_date=(0,T.convertDate)(r.start_date),r.implementation_dates=(0,T.convertDate)(r.implementation_dates),r.end_date=(0,T.convertDate)(r.end_date),r=(0,T.convertStringArrayToObjectArray)(r),r=(0,T.fillEmptyCollectionsWithDefault)(r),"object"!==(0,p.default)(r.organisation)&&(r.organisation={id:r.organisation,name:r.organisation_name}),(r=(0,v.default)({},r,t.isMemberOrViewer(e,r),(0,T.convertIdArrayToObjectArray)(r,n,T.fieldToConvertToObject),(0,T.handleInteroperabilityLinks)(r,n))).forceSetCoverage?r.forceSetCoverage=void 0:r.coverageType=(0,T.setCoverageType)(r.coverage,r.national_level_deployment),(0,v.default)({},b.project_definition,r)},t.getCurrentPublishedProjectForEditing=function(e){var r=t.getPublishedProjects(e).find(function(t){return t.id===e.projects.currentProject});if(r)return t.getCurrentProjectForEditing(e,r)},t.getCurrentEdits=function(e){var t=e.projects.editedProject;return(0,v.default)({},t,{forceSetCoverage:!!t.coverageType})},t.getCurrentDraftProjectForEditing=function(e){var r=(0,v.default)({},t.getCurrentDraft(e),t.getCurrentEdits(e));return t.getCurrentProjectForEditing(e,r)},t.getNewProjectForEditing=function(e){var r=t.getVanillaProject(e);return(0,v.default)({},r,t.getCurrentEdits(e))},t.getTeam=function(e){return e.projects.teamViewers?e.projects.teamViewers.team.map(function(t){return e.system.profiles.find(function(e){return e.id===t})}):[]},t.getViewers=function(e){return e.projects.teamViewers?e.projects.teamViewers.viewers.map(function(t){return e.system.profiles.find(function(e){return e.id===t})}):[]},t.getToolkitVersion=function(e){var t=e.projects.toolkitVersions;return t?t.slice():[]},t.getCoverageVersion=function(e){var t=e.projects.coverageVersions;return t?t.slice():[]},t.getCurrentVersion=function(e){return t.getToolkitVersion(e).length},t.getCurrentVersionDate=function(e){var r=t.getToolkitVersion(e).slice(-1)[0];return r?r.modified:null},t.getMapsAxisData=function(e){var r={labels:C.getAxis(e).map(function(e){return e.name}),data:[]},n=t.getToolkitVersion(e),o=P.getToolkitData(e),i=(0,T.getTodayString)();if(n.length>0&&(r.data=n.map(function(e){return{date:e.modified.split("T")[0],axis1:e.data[0].axis_score/100,axis2:e.data[1].axis_score/100,axis3:e.data[2].axis_score/100,axis4:e.data[3].axis_score/100,axis5:e.data[4].axis_score/100,axis6:e.data[5].axis_score/100}})),6===o.length){var s={axis1:o[0].axis_score/100,axis2:o[1].axis_score/100,axis3:o[2].axis_score/100,axis4:o[3].axis_score/100,axis5:o[4].axis_score/100,axis6:o[5].axis_score/100,date:i};r.data.push(s)}return r},t.getMapsDomainData=function(e){var r=C.getDomains(e),n=C.getAxis(e),o={labels:n.map(function(e){return e.name})},i=t.getToolkitVersion(e),s=P.getToolkitData(e),u=(0,T.getTodayString)();return n.forEach(function(e,t){if(o[e.name]={labels:r.filter(function(t){return t.axis===e.id}).map(function(e){return e.name}),data:[]},i.length>0&&(o[e.name].data=i.map(function(e){var r={};return r.date=e.modified.split("T")[0],e.data[t].domains.forEach(function(e,t){r["axis"+(t+1)]=e.domain_percentage/100}),r})),s.length>0){var n={date:u};s[t].domains.forEach(function(e,t){n["axis"+(t+1)]=e.domain_percentage/100}),o[e.name].data.push(n)}}),o},t.getCoverageData=function(e){var r=t.getCoverageVersion(e),n=t.getCurrentProject(e),o=n.coverage?n.coverage.slice():[];o.push((0,m.default)({},n.national_level_deployment)),r.push({data:o});var i=(0,T.getTodayString)();return r.reduce(function(e,t,r){return e.data[r]={},e.data[r].date=t.modified?t.modified.split("T")[0]:i,t.data.forEach(function(t){(0,g.default)(t,function(t,n){var o=["clients","facilities","health_workers"].indexOf(n);if(o>-1){var i="axis"+(o+1);e.data[r][i]=(e.data[r][i]||0)+t}})}),e},{labels:[],data:[]})},t.getSimilarProject=function(e){var r=t.getPublishedProjects(e);return e.projects.similarProjectNames?e.projects.similarProjectNames.map(function(e){return(e=(0,m.default)({},e)).isOwn=r.some(function(t){return t.id===e.id}),e}):[]},t.checkCurrentProjectValidity=function(e){var t=e.projects.currentPublicProject;return t&&""===t.public_id&&null===t.draft?{isValid:!1,id:t.id}:{isValid:!0}}},"./src/store/modules/system.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addOrganisation=t.searchOrganisation=t.getSubLevelTypes=t.getDomainsForThematic=t.getThematicOverview=t.getQuestions=t.getDomains=t.getAxis=t.getLandingPageDefaults=t.getSearchFilters=t.getLanguages=t.getSearchResult=t.getUserProfiles=void 0;var n,o,i=m(r("./node_modules/babel-runtime/regenerator/index.js")),s=m(r("./node_modules/babel-runtime/helpers/asyncToGenerator.js")),u=m(r("./node_modules/babel-runtime/helpers/toConsumableArray.js")),a=m(r("./node_modules/babel-runtime/helpers/extends.js"));t.searchOrganisation=(n=(0,s.default)(i.default.mark(function e(t){var r,n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.default.get("/api/organisations/?name="+t);case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)}),t.addOrganisation=(o=(0,s.default)(i.default.mark(function e(t){var r,n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.default.post("/api/organisations/",{name:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)});t.loadUserProfiles=function(){var e=this;return t=(0,s.default)(i.default.mark(function t(r){var n,o;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.default.get("/api/userprofiles/");case 2:n=e.sent,o=n.data,r({type:"SET_USER_PROFILES",profiles:o});case 5:case"end":return e.stop()}},t,e)})),function(e){return t.apply(this,arguments)};var t},t.loadStaticData=function(){var e=this;return t=(0,s.default)(i.default.mark(function t(r){var n,o;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.default.get("/api/static-data/");case 2:n=e.sent,o=n.data,r({type:"SET_AXIS",axis:o.axis}),r({type:"SET_DOMAINS",domains:o.domains}),r({type:"SET_LANDING_PAGE_DEFAULTS",landing_page_defaults:o.landing_page_defaults}),r({type:"SET_LANGUAGES",languages:o.languages}),r({type:"SET_SEARCH_FILTERS",search_filters:o.search_filters}),r({type:"SET_THEMATIC_OVERVIEW",thematic_overview:o.thematic_overview}),r({type:"SET_TOOLKIT_QUESTIONS",toolkit_questions:o.toolkit_questions}),r({type:"SET_SUB_LEVEL_TYPES",sub_level_types:o.sub_level_types});case 12:case"end":return e.stop()}},t,e)})),function(e){return t.apply(this,arguments)};var t},t.searchProjects=function(e,t){var r=this;return n=(0,s.default)(i.default.mark(function n(o){var s,u,a,l,d;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:for(u in s={query:e},t)a=t[u],s[a.name]=a.value;return r.next=4,c.default.post("/api/search/projects/",s);case 4:l=r.sent,d=l.data,o({type:"SET_PROJECT_SEARCH_RESULT",projects:d});case 7:case"end":return r.stop()}},n,r)})),function(e){return n.apply(this,arguments)};var n},t.unsetSearchedProjects=function(){return function(e){e({type:"UNSET_PROJECT_SEARCH_RESULT"})}},t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments[1];switch(t.type){case"SET_USER_PROFILES":return(0,a.default)({},e,{profiles:t.profiles});case"SET_PROJECT_SEARCH_RESULT":return(0,a.default)({},e,{projectSearch:t.projects});case"UNSET_PROJECT_SEARCH_RESULT":return(0,a.default)({},e,{projectSearch:[]});case"SET_AXIS":return(0,a.default)({},e,{axis:t.axis});case"SET_DOMAINS":return(0,a.default)({},e,{domains:t.domains});case"SET_LANDING_PAGE_DEFAULTS":return(0,a.default)({},e,{landing_page_defaults:t.landing_page_defaults});case"SET_LANGUAGES":return(0,a.default)({},e,{languages:t.languages});case"SET_SEARCH_FILTERS":return(0,a.default)({},e,{search_filters:t.search_filters});case"SET_THEMATIC_OVERVIEW":return(0,a.default)({},e,{thematic_overview:t.thematic_overview});case"SET_TOOLKIT_QUESTIONS":return(0,a.default)({},e,{toolkit_questions:t.toolkit_questions});case"SET_SUB_LEVEL_TYPES":return(0,a.default)({},e,{sub_level_types:t.sub_level_types});default:return e}};var c=m(r("./src/plugins/axios.js")),l=f(r("./src/store/modules/projects.js")),d=f(r("./src/store/modules/countries.js"));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var p={profiles:[],search_filters:[],languages:[],projectSearch:[],thematic_overview:[],axis:[],domains:[],landing_page_defaults:{},toolkit_questions:[],sub_level_types:[]};t.getUserProfiles=function(e){return e.system.profiles?e.system.profiles.slice():[]},t.getSearchResult=function(e){return(e.system.projectSearch?e.system.projectSearch:[]).map(function(t){var r=d.getCountry(e,t.country);return(0,a.default)({},t,l.isMemberOrViewer(e,t),{country_name:r?r.name:""})})},t.getLanguages=function(e){return e.system.languages.map(function(e){return(0,a.default)({},e,{flag:"/static/flags/"+e.flag})})},t.getSearchFilters=function(e){return[].concat((0,u.default)(e.system.search_filters))},t.getLandingPageDefaults=function(e){return(0,a.default)({},e.system.landing_page_defaults)},t.getAxis=function(e){return[].concat((0,u.default)(e.system.axis))},t.getDomains=function(e){return[].concat((0,u.default)(e.system.domains))},t.getQuestions=function(e){return[].concat((0,u.default)(e.system.toolkit_questions))},t.getThematicOverview=function(e){var t=e.system.thematic_overview;return t.categories.map(function(e){return(0,a.default)({},e,{domains:t.sub_categories.filter(function(t){return t.category===e.id})})})},t.getDomainsForThematic=function(e){var r=t.getAxis(e),n=t.getDomains(e),o=t.getThematicOverview(e);return[].concat((0,u.default)(o.map(function(e){return{name:e.name,domains:e.domains}})),(0,u.default)(r.map(function(e){return{name:e.name,domains:n.filter(function(t){return t.axis===e.id}).map(function(e){return{name:e.name}})}})))},t.getSubLevelTypes=function(e){return[].concat((0,u.default)(e.system.sub_level_types.map(function(e){return(0,a.default)({},e)})))}},"./src/store/modules/toolkit.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAxisDetail=t.getDomainStructure=t.getStructure=t.getToolkitData=void 0;var n=l(r("./node_modules/babel-runtime/regenerator/index.js")),o=l(r("./node_modules/babel-runtime/core-js/promise.js")),i=l(r("./node_modules/babel-runtime/helpers/asyncToGenerator.js")),s=l(r("./node_modules/babel-runtime/helpers/extends.js"));t.loadToolkitData=f,t.saveAnswer=function(e){var t=this;return r=(0,i.default)(n.default.mark(function r(i,s){var u,c,l;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(u=s().projects.currentProject)){t.next=9;break}return t.next=5,a.default.post("/api/projects/"+u+"/toolkit/score/",e);case 5:c=t.sent,l=c.data,i({type:"UPDATE_TOOLKIT_DATA",data:l}),i(f());case 9:return t.abrupt("return",o.default.resolve());case 12:return t.prev=12,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",o.default.reject(t.t0));case 16:case"end":return t.stop()}},r,t,[[0,12]])})),function(e,t){return r.apply(this,arguments)};var r},t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments[1];switch(t.type){case"SET_TOOLKIT_DATA":return(0,s.default)({},e,{toolkitData:t.data});case"UPDATE_TOOLKIT_DATA":var r=t.data,n=(0,u.default)(e.toolkitData);return n[r.axis].domains[r.domain].questions[r.question].answers[r.answer]=r.value,(0,s.default)({},e,{toolkitData:n});case"CLEAR_TOOLKIT_DATA":return(0,s.default)({},d);default:return e}};var u=l(r("./node_modules/lodash/cloneDeep.js")),a=l(r("./src/plugins/axios.js")),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r("./src/store/modules/system.js"));function l(e){return e&&e.__esModule?e:{default:e}}var d={toolkitData:[]};t.getToolkitData=function(e){var t=e.toolkit.toolkitData;return t?(0,u.default)(t):[]},t.getStructure=function(e){var t=c.getAxis(e),r=c.getDomains(e),n=c.getQuestions(e);return t.map(function(e){return(0,s.default)({},e,{domains:r.filter(function(t){return t.axis===e.id}).map(function(e){return(0,s.default)({},e,{questions:n.filter(function(t){return t.domain===e.id}).map(function(e){return(0,s.default)({},e,{id:e.domain+"-"+e.question_id})})})})})})},t.getDomainStructure=function(e,r,n){var o=t.getStructure(e);return o&&o[r]&&o[r].domains[n]?o[r].domains[n]:{}},t.getAxisDetail=function(e,r){var n=c.getAxis(e).find(function(e){return e.id===r}),o=c.getDomains(e),i=t.getToolkitData(e).find(function(e){return e.id===r}),u=i?i.domains.map(function(e,t){return(0,s.default)({},e,o.find(function(t){return t.id===e.id}),{index:t})}):[];return(0,s.default)({},n,i,{domains:u})};function f(){var e,t=this;return e=(0,i.default)(n.default.mark(function e(r,i){var s,u,c;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(s=i().projects.currentProject)){e.next=8;break}return e.next=5,a.default.get("/api/projects/"+s+"/toolkit/data/");case 5:u=e.sent,c=u.data,r({type:"SET_TOOLKIT_DATA",data:c});case 8:return e.abrupt("return",o.default.resolve());case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",o.default.reject(e.t0));case 14:case"end":return e.stop()}},e,t,[[0,11]])})),function(t,r){return e.apply(this,arguments)}}},"./src/store/modules/user.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetPassword=t.verifyEmail=t.handleProfile=t.storeData=t.isSuperUser=t.getUserLanguage=t.getProfile=void 0;var n,o,i=g(r("./node_modules/babel-runtime/core-js/object/assign.js")),s=g(r("./node_modules/babel-runtime/core-js/promise.js")),u=g(r("./node_modules/babel-runtime/regenerator/index.js")),a=g(r("./node_modules/babel-runtime/helpers/asyncToGenerator.js")),c=g(r("./node_modules/babel-runtime/helpers/extends.js"));t.verifyEmail=(n=(0,a.default)(u.default.mark(function e(t){var r,n;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.default.post("/api/rest-auth/registration/verify-email/",t);case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)}),t.resetPassword=(o=(0,a.default)(u.default.mark(function e(t){var r,n;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.default.post("/api/rest-auth/password/reset/",t);case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)});t.loadProfile=function(){var e=this;return r=(0,a.default)(u.default.mark(function r(n,o){var i,s,a,c;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=o(),!y.get("login")||i.user.profile){e.next=10;break}return s=i.user.user_profile_id||y.get("user_profile_id"),e.next=5,l.default.get("/api/userprofiles/"+s+"/");case 5:a=e.sent,c=a.data,c=t.handleProfile(c),(0,v.setLanguage)(c.language),n({type:"SET_PROFILE",profile:c});case 10:case"end":return e.stop()}},r,e)})),function(e,t){return r.apply(this,arguments)};var r},t.doSignup=function(e){var r=this,n=e.account_type,o=e.password1,i=e.password2,c=e.email;return d=(0,a.default)(u.default.mark(function e(a){var d,f,m;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.default.post("/api/rest-auth/registration/",{account_type:n,password1:o,password2:i,email:c});case 3:return d=e.sent,(f=d.data).token=f.key,f.is_superuser=!1,t.storeData(f,c),a({type:"SET_USER",user:f}),e.next=11,a(t.loadProfile());case 11:return e.abrupt("return",s.default.resolve());case 14:return e.prev=14,e.t0=e.catch(0),m=e.t0.response,e.abrupt("return",s.default.reject(m.data));case 18:case"end":return e.stop()}},e,r,[[0,14]])})),function(e){return d.apply(this,arguments)};var d},t.doLogin=function(e){var r=this,n=e.username,o=e.password;return i=(0,a.default)(u.default.mark(function e(i){var a,c,d;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.default.post("/api/api-token-auth/",{username:n,password:o});case 3:return a=e.sent,c=a.data,t.storeData(c,n),i({type:"SET_USER",user:c}),e.next=9,i(t.loadProfile());case 9:return e.next=11,i(m.loadUserProjects());case 11:return e.abrupt("return",s.default.resolve());case 14:return e.prev=14,e.t0=e.catch(0),d=e.t0.response,e.abrupt("return",s.default.reject(d.data));case 18:case"end":return e.stop()}},e,r,[[0,14]])})),function(e){return i.apply(this,arguments)};var i},t.saveProfile=function(e){var r=this;return n=(0,a.default)(u.default.mark(function n(o,s){var a,c,d,f,h,_,g;return u.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=s(),c=a.user.user_profile_id||y.get("user_profile_id"),d=c?"/api/userprofiles/"+c+"/":"/api/userprofiles/",f=c?"put":"post",(h=(0,i.default)({},e)).organisation=h.organisation.id,h.country=h.country.id,r.next=9,l.default[f](d,h);case 9:_=r.sent,g=_.data,g=t.handleProfile(g),(0,v.setLanguage)(g.language),o({type:"SET_PROFILE",profile:g}),o(p.loadStaticData()),o(m.loadProjectStructure(!0));case 16:case"end":return r.stop()}},n,r)})),function(e,t){return n.apply(this,arguments)};var n},t.doLogout=function(){return function(e){y.clear(),l.default.unSetAuthToken();try{e({type:"CLEAR_USER_PROJECTS"}),e({type:"CLEAR_TOOLKIT_DATA"}),e({type:"CLEAR_CMS_DATA"})}catch(e){console.warn(e)}try{e({type:"UNSET_USER"})}catch(e){console.warn(e)}}},t.updateTeamViewers=function(e,t){return function(r,n){var o=n().user.profile.member,i=n().user.profile.viewer,s=(0,d.default)(o,e),u=(0,d.default)(i,t);s.length===o.length&&u.length===i.length||r({type:"UPDATE_TEAM_VIEWER",member:s,viewer:u})}},t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case"SET_USER":return(0,c.default)({},e,t.user);case"SET_PROFILE":var r=e.profile?(0,c.default)({},e.profile,t.profile):(0,c.default)({},t.profile);return(0,c.default)({},e,{profile:r});case"UPDATE_TEAM_VIEWER":var n=e.profile||{};return n.member=t.member,n.viewer=t.viewer,(0,c.default)({},e,{profile:n});case"UNSET_USER":return{};default:return e}};var l=g(r("./src/plugins/axios.js")),d=g(r("./node_modules/lodash/union.js")),f=g(r("./src/Storage.js")),m=_(r("./src/store/modules/projects.js")),p=_(r("./src/store/modules/system.js")),h=_(r("./src/store/modules/countries.js")),v=r("./src/plugins/language.js");function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}var y=new f.default;t.getProfile=function(e){if(e.user.profile){var t=h.getCountriesList(e),r=void 0;return t&&t.length>0&&(r=(0,c.default)({},t.find(function(t){return t.id===e.user.profile.country}))),(0,c.default)({},e.user.profile,{country:r})}},t.getUserLanguage=function(e){var t=p.getLanguages(e),r=e&&e.user&&e.user.profile?e.user.profile.language:void 0;return t.find(function(e){return e.code===r})},t.isSuperUser=function(e){return e.user.profile.is_superuser},t.storeData=function(e,t){y.set("token",e.token),y.set("user_profile_id",e.user_profile_id),y.set("is_superuser",e.is_superuser),y.set("email",t),y.set("login",!0),l.default.setAuthToken(e.token)},t.handleProfile=function(e){return e.email=y.get("email"),e.is_superuser=y.get("is_superuser"),e.organisation?(e.organisation_id=e.organisation,e.organisation={name:e.organisation_name||"",id:e.organisation_id}):e.organisation=null,e}},"./src/store/project_utils.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTodayString=t.dashFieldConvertToObject=t.fieldToConvertToObject=t.fieldToForceToInt=t.fieldsToMapWithId=t.fieldsToConvertToObjectArray=t.fieldsWithCustomValue=void 0;var n=p(r("./node_modules/babel-runtime/core-js/number/is-nan.js")),o=p(r("./node_modules/babel-runtime/core-js/object/keys.js")),i=p(r("./node_modules/babel-runtime/core-js/object/assign.js")),s=p(r("./node_modules/babel-runtime/helpers/extends.js"));t.concatCustom=y,t.mergeCustomAndDefault=function(e){var t={};return h.forEach(function(r){t[r]=y(e[r])}),(0,s.default)({},t)},t.parsePlatformCollection=function(e){return e.platforms.map(function(e){var t=e.id,r=e.strategies&&e.strategies.length>0?e.strategies:[];return e={},t&&(e.id=t),r&&(e.strategies=r.map(function(e){return e.id}).filter(function(e){return e})),t?e:void 0})},t.convertDate=function(e){if(e)return(0,m.default)(e,"YYYY-MM-DDTHH:mm:ss.SSSZ").toDate();return},t.convertStringArrayToObjectArray=function(e){return v.forEach(function(t){e[t]&&(e[t]=e[t].map(function(e){return"string"==typeof e?{value:e}:e}),0===e[t].length&&e[t].push({}))}),(0,i.default)({},e)},t.convertObjectArrayToStringArray=function(e){var t={};return v.forEach(function(r){e[r]&&(t[r]=e[r].map(function(e){return e.value}).filter(function(e){return e}))}),(0,s.default)({},t)},t.fillEmptyCollectionsWithDefault=function(e){return e.coverage=(0,l.default)(e.coverage)?[{}]:e.coverage,e.coverage_second_level=(0,l.default)(e.coverage_second_level)?[{}]:e.coverage_second_level,e.platforms=(0,l.default)(e.platforms)?[{}]:e.platforms,(0,s.default)({},e)},t.setCoverageType=function(e,t){var r=null;t&&(t.clients||t.facilities||t.health_workers)?r=2:e&&e.length>1?r=1:e&&Array.isArray(e)&&e[0]&&e[0].district&&(r=1);return r},t.createDateFields=function(e){var t=e.start_date?(0,m.default)(e.start_date).toJSON():null,r=e.end_date?(0,m.default)(e.end_date).toJSON():null,n=e.implementation_dates?(0,m.default)(e.implementation_dates).toJSON():null;return{start_date:t,end_date:r,implementation_dates:n}},t.deleteUndefinedAndDoubleDollarKeys=j,t.removeEmptyChildObjects=function(e){var t={};return["coverage","platforms","his_bucket","hsc_challenges","publications","links","reports"].forEach(function(r){e[r]&&(t[r]=e[r].filter(function(e){return"number"==typeof e||((e=j(e=(0,s.default)({},e))).hasOwnProperty("available")&&delete e.available,(0,o.default)(e).length>0)}))}),(0,s.default)({},t)},t.removeKeysWithoutValues=function(e){var t={};for(var r in e){var n=e[r];(null!==n&&void 0!==n&&""!==n||(0,a.default)(n)&&(0,f.default)(n).some(function(e){return!(0,c.default)(e)}))&&(t[r]=n)}return t},t.retainNationalOrDistrictCoverage=function(e){var t=null,r=null;1===e.coverageType?r=e.coverage.map(function(e){return(0,s.default)({},e)}):t=(0,s.default)({},e.national_level_deployment);return{national_level_deployment:t,coverage:r}},t.extractIdFromObjects=function(e){var t={};return _.forEach(function(r){t[r]=e[r].map(function(e){return e.id}).filter(function(e){return e})}),t},t.parseOutInteroperabilityLinks=function(e){return{interoperability_links:e.interoperability_links.filter(function(e){return e&&e.id}).map(function(e){return{id:e.id,link:e.link,selected:e.selected}})}},t.convertIdArrayToObjectArray=function(e,t,r){var n={};return r.forEach(function(r){var o=r.structure_key;if(2===(r=r.key.split(".")).length){var i=r[0];r=r[1],n[i]=e[i].map(function(e){return(e=(0,s.default)({},e))[r]&&(e[r]=b(e[r],t,r,o)),e})}else 1===r.length&&(r=r[0],n[r]=b(e[r],t,r,o))}),n},t.handleInteroperabilityLinks=function(e,t){return{interoperability_links:t.interoperability_links.map(function(t){var r=e.interoperability_links.find(function(e){return e.id===t.id}),n=r||{},o=n.selected,i=n.link;return(0,s.default)({},t,{selected:o,link:i})})}},t.retainOnlyIds=function(e){var t={};return g.forEach(function(r){t[r]=e[r].filter(function(e){return!(0,n.default)(parseInt(e,10))})}),t},t.handleNationalLevelCoverage=function(e){var t=e.national_level_deployment;return{national_level_deployment:w((0,s.default)({},t))}},t.handleCoverage=function(e){return(e=e||[]).map(function(e){return w(e)}).filter(function(e){return e})};var u=p(r("./node_modules/lodash/concat.js")),a=p(r("./node_modules/lodash/isPlainObject.js")),c=p(r("./node_modules/lodash/isNull.js")),l=p(r("./node_modules/lodash/isEmpty.js")),d=p(r("./node_modules/lodash/isNil.js")),f=p(r("./node_modules/lodash/values.js")),m=p(r("./node_modules/moment/moment.js"));function p(e){return e&&e.__esModule?e:{default:e}}var h=t.fieldsWithCustomValue=["interoperability_standards","licenses"],v=t.fieldsToConvertToObjectArray=["donors","implementing_partners"],_=t.fieldsToMapWithId=["health_focus_areas"],g=t.fieldToForceToInt=["his_bucket","hsc_challenges"];t.fieldToConvertToObject=[{key:"platforms.strategies",structure_key:"strategies"},{key:"health_focus_areas",structure_key:"health_focus_areas"}],t.dashFieldConvertToObject=[{key:"health_focus_areas",structure_key:"health_focus_areas"},{key:"platforms",structure_key:"technology_platforms"},{key:"licenses",structure_key:"licenses"},{key:"hsc_challenges",structure_key:"hsc_challenges"},{key:"his_bucket",structure_key:"his_bucket"},{key:"interoperability_standards",structure_key:"interoperability_standards"}],t.getTodayString=function(){var e=new Date;return[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-")};function y(e){return(0,u.default)(e.custom,e.standard).filter(function(e){return!(0,d.default)(e)&&!(0,l.default)(e)})}function j(e){var t={};return(0,o.default)(e).forEach(function(r){void 0!==e[r]&&"$$hashKey"!==r&&(t[r]=e[r])}),t}function b(e,t,r,o){return e.map(function(e){return!(0,n.default)(parseInt(e,10))?t[o].find(function(t){return t.id===e}):(0,s.default)({},e,t[o].find(function(t){return t.id===e.id}))}).filter(function(e){return e})}function w(e){if(e={district:e.district,clients:e.clients,health_workers:e.health_workers,facilities:e.facilities,facilities_list:e.facilities_list},!((0,d.default)(e.clients)&&(0,d.default)(e.health_workers)&&(0,d.default)(e.facilities)))return e.clients=(0,d.default)(e.clients)?0:e.clients,e.health_workers=(0,d.default)(e.health_workers)?0:e.health_workers,e.facilities=(0,d.default)(e.facilities)?0:e.facilities,e}},"./src/store/static_data/project_definition.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.project_definition={name:null,organisation:{id:void 0,name:""},country:null,countryName:null,coverage:[{}],coverage_second_level:[{}],coverageType:1,start_date:void 0,end_date:void 0,platforms:[{name:null,strategies:[]}],licenses:[],fields:[],donors:[{}],application:[],reports:[{}],publications:[{}],links:[{}],contact_name:null,contact_email:null,implementation_overview:null,implementation_dates:null,geographic_scope:null,interoperability_links:[],interoperability_standards:[],wiki:"",repository:"",mobile_application:"",implementing_partners:[{}],data_exchanges:[],his_bucket:[],hsc_challenges:[],health_focus_areas:[],government_investor:void 0}}}]);