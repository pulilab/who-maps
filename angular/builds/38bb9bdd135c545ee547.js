(window.webpackJsonp=window.webpackJsonp||[]).push([[57,4,13,16,17,18,58,60,400,401,402,403],{"./node_modules/babel-runtime/core-js/set.js":function(e,t,r){e.exports={default:r("./node_modules/core-js/library/fn/set.js"),__esModule:!0}},"./node_modules/core-js/library/fn/set.js":function(e,t,r){r("./node_modules/core-js/library/modules/es6.object.to-string.js"),r("./node_modules/core-js/library/modules/es6.string.iterator.js"),r("./node_modules/core-js/library/modules/web.dom.iterable.js"),r("./node_modules/core-js/library/modules/es6.set.js"),r("./node_modules/core-js/library/modules/es7.set.to-json.js"),r("./node_modules/core-js/library/modules/es7.set.of.js"),r("./node_modules/core-js/library/modules/es7.set.from.js"),e.exports=r("./node_modules/core-js/library/modules/_core.js").Set},"./node_modules/core-js/library/modules/_array-from-iterable.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_for-of.js");e.exports=function(e,t){var r=[];return n(e,!1,r.push,r,t),r}},"./node_modules/core-js/library/modules/_array-methods.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_ctx.js"),o=r("./node_modules/core-js/library/modules/_iobject.js"),a=r("./node_modules/core-js/library/modules/_to-object.js"),s=r("./node_modules/core-js/library/modules/_to-length.js"),l=r("./node_modules/core-js/library/modules/_array-species-create.js");e.exports=function(e,t){var r=1==e,u=2==e,i=3==e,d=4==e,c=6==e,m=5==e||c,f=t||l;return function(t,l,p){for(var j,_,v=a(t),h=o(v),g=n(l,p,3),y=s(h.length),b=0,C=r?f(t,y):u?f(t,0):void 0;y>b;b++)if((m||b in h)&&(_=g(j=h[b],b,v),e))if(r)C[b]=_;else if(_)switch(e){case 3:return!0;case 5:return j;case 6:return b;case 2:C.push(j)}else if(d)return!1;return c?-1:i||d?d:C}}},"./node_modules/core-js/library/modules/_array-species-constructor.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_is-object.js"),o=r("./node_modules/core-js/library/modules/_is-array.js"),a=r("./node_modules/core-js/library/modules/_wks.js")("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),n(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},"./node_modules/core-js/library/modules/_array-species-create.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_array-species-constructor.js");e.exports=function(e,t){return new(n(e))(t)}},"./node_modules/core-js/library/modules/_collection-strong.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/library/modules/_object-dp.js").f,o=r("./node_modules/core-js/library/modules/_object-create.js"),a=r("./node_modules/core-js/library/modules/_redefine-all.js"),s=r("./node_modules/core-js/library/modules/_ctx.js"),l=r("./node_modules/core-js/library/modules/_an-instance.js"),u=r("./node_modules/core-js/library/modules/_for-of.js"),i=r("./node_modules/core-js/library/modules/_iter-define.js"),d=r("./node_modules/core-js/library/modules/_iter-step.js"),c=r("./node_modules/core-js/library/modules/_set-species.js"),m=r("./node_modules/core-js/library/modules/_descriptors.js"),f=r("./node_modules/core-js/library/modules/_meta.js").fastKey,p=r("./node_modules/core-js/library/modules/_validate-collection.js"),j=m?"_s":"size",_=function(e,t){var r,n=f(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};e.exports={getConstructor:function(e,t,r,i){var d=e(function(e,n){l(e,d,t,"_i"),e._t=t,e._i=o(null),e._f=void 0,e._l=void 0,e[j]=0,void 0!=n&&u(n,r,e[i],e)});return a(d.prototype,{clear:function(){for(var e=p(this,t),r=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];e._f=e._l=void 0,e[j]=0},delete:function(e){var r=p(this,t),n=_(r,e);if(n){var o=n.n,a=n.p;delete r._i[n.i],n.r=!0,a&&(a.n=o),o&&(o.p=a),r._f==n&&(r._f=o),r._l==n&&(r._l=a),r[j]--}return!!n},forEach:function(e){p(this,t);for(var r,n=s(e,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(e){return!!_(p(this,t),e)}}),m&&n(d.prototype,"size",{get:function(){return p(this,t)[j]}}),d},def:function(e,t,r){var n,o,a=_(e,t);return a?a.v=r:(e._l=a={i:o=f(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=a),n&&(n.n=a),e[j]++,"F"!==o&&(e._i[o]=a)),e},getEntry:_,setStrong:function(e,t,r){i(e,t,function(e,r){this._t=p(e,t),this._k=r,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?d(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,d(1))},r?"entries":"values",!r,!0),c(t)}}},"./node_modules/core-js/library/modules/_collection-to-json.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_classof.js"),o=r("./node_modules/core-js/library/modules/_array-from-iterable.js");e.exports=function(e){return function(){if(n(this)!=e)throw TypeError(e+"#toJSON isn't generic");return o(this)}}},"./node_modules/core-js/library/modules/_collection.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/library/modules/_global.js"),o=r("./node_modules/core-js/library/modules/_export.js"),a=r("./node_modules/core-js/library/modules/_meta.js"),s=r("./node_modules/core-js/library/modules/_fails.js"),l=r("./node_modules/core-js/library/modules/_hide.js"),u=r("./node_modules/core-js/library/modules/_redefine-all.js"),i=r("./node_modules/core-js/library/modules/_for-of.js"),d=r("./node_modules/core-js/library/modules/_an-instance.js"),c=r("./node_modules/core-js/library/modules/_is-object.js"),m=r("./node_modules/core-js/library/modules/_set-to-string-tag.js"),f=r("./node_modules/core-js/library/modules/_object-dp.js").f,p=r("./node_modules/core-js/library/modules/_array-methods.js")(0),j=r("./node_modules/core-js/library/modules/_descriptors.js");e.exports=function(e,t,r,_,v,h){var g=n[e],y=g,b=v?"set":"add",C=y&&y.prototype,w={};return j&&"function"==typeof y&&(h||C.forEach&&!s(function(){(new y).entries().next()}))?(y=t(function(t,r){d(t,y,e,"_c"),t._c=new g,void 0!=r&&i(r,v,t[b],t)}),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in C&&(!h||"clear"!=e)&&l(y.prototype,e,function(r,n){if(d(this,y,e),!t&&h&&!c(r))return"get"==e&&void 0;var o=this._c[e](0===r?0:r,n);return t?this:o})}),h||f(y.prototype,"size",{get:function(){return this._c.size}})):(y=_.getConstructor(t,e,v,b),u(y.prototype,r),a.NEED=!0),m(y,e),w[e]=y,o(o.G+o.W+o.F,w),h||_.setStrong(y,e,v),y}},"./node_modules/core-js/library/modules/_set-collection-from.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/library/modules/_export.js"),o=r("./node_modules/core-js/library/modules/_a-function.js"),a=r("./node_modules/core-js/library/modules/_ctx.js"),s=r("./node_modules/core-js/library/modules/_for-of.js");e.exports=function(e){n(n.S,e,{from:function(e){var t,r,n,l,u=arguments[1];return o(this),(t=void 0!==u)&&o(u),void 0==e?new this:(r=[],t?(n=0,l=a(u,arguments[2],2),s(e,!1,function(e){r.push(l(e,n++))})):s(e,!1,r.push,r),new this(r))}})}},"./node_modules/core-js/library/modules/_set-collection-of.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/library/modules/_export.js");e.exports=function(e){n(n.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},"./node_modules/core-js/library/modules/_validate-collection.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_is-object.js");e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},"./node_modules/core-js/library/modules/es6.set.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/library/modules/_collection-strong.js"),o=r("./node_modules/core-js/library/modules/_validate-collection.js");e.exports=r("./node_modules/core-js/library/modules/_collection.js")("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(o(this,"Set"),e=0===e?0:e,e)}},n)},"./node_modules/core-js/library/modules/es7.set.from.js":function(e,t,r){r("./node_modules/core-js/library/modules/_set-collection-from.js")("Set")},"./node_modules/core-js/library/modules/es7.set.of.js":function(e,t,r){r("./node_modules/core-js/library/modules/_set-collection-of.js")("Set")},"./node_modules/core-js/library/modules/es7.set.to-json.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_export.js");n(n.P+n.R,"Set",{toJSON:r("./node_modules/core-js/library/modules/_collection-to-json.js")("Set")})},"./node_modules/lodash/_baseMap.js":function(e,t,r){var n=r("./node_modules/lodash/_baseEach.js"),o=r("./node_modules/lodash/isArrayLike.js");e.exports=function(e,t){var r=-1,a=o(e)?Array(e.length):[];return n(e,function(e,n,o){a[++r]=t(e,n,o)}),a}},"./node_modules/lodash/map.js":function(e,t,r){var n=r("./node_modules/lodash/_arrayMap.js"),o=r("./node_modules/lodash/_baseIteratee.js"),a=r("./node_modules/lodash/_baseMap.js"),s=r("./node_modules/lodash/isArray.js");e.exports=function(e,t){return(s(e)?n:a)(e,o(t,3))}},"./node_modules/moment/locale sync recursive ^\\.\\/.*$":function(e,t,r){var n={"./af":"./node_modules/moment/locale/af.js","./af.js":"./node_modules/moment/locale/af.js","./ar":"./node_modules/moment/locale/ar.js","./ar-dz":"./node_modules/moment/locale/ar-dz.js","./ar-dz.js":"./node_modules/moment/locale/ar-dz.js","./ar-kw":"./node_modules/moment/locale/ar-kw.js","./ar-kw.js":"./node_modules/moment/locale/ar-kw.js","./ar-ly":"./node_modules/moment/locale/ar-ly.js","./ar-ly.js":"./node_modules/moment/locale/ar-ly.js","./ar-ma":"./node_modules/moment/locale/ar-ma.js","./ar-ma.js":"./node_modules/moment/locale/ar-ma.js","./ar-sa":"./node_modules/moment/locale/ar-sa.js","./ar-sa.js":"./node_modules/moment/locale/ar-sa.js","./ar-tn":"./node_modules/moment/locale/ar-tn.js","./ar-tn.js":"./node_modules/moment/locale/ar-tn.js","./ar.js":"./node_modules/moment/locale/ar.js","./az":"./node_modules/moment/locale/az.js","./az.js":"./node_modules/moment/locale/az.js","./be":"./node_modules/moment/locale/be.js","./be.js":"./node_modules/moment/locale/be.js","./bg":"./node_modules/moment/locale/bg.js","./bg.js":"./node_modules/moment/locale/bg.js","./bm":"./node_modules/moment/locale/bm.js","./bm.js":"./node_modules/moment/locale/bm.js","./bn":"./node_modules/moment/locale/bn.js","./bn.js":"./node_modules/moment/locale/bn.js","./bo":"./node_modules/moment/locale/bo.js","./bo.js":"./node_modules/moment/locale/bo.js","./br":"./node_modules/moment/locale/br.js","./br.js":"./node_modules/moment/locale/br.js","./bs":"./node_modules/moment/locale/bs.js","./bs.js":"./node_modules/moment/locale/bs.js","./ca":"./node_modules/moment/locale/ca.js","./ca.js":"./node_modules/moment/locale/ca.js","./cs":"./node_modules/moment/locale/cs.js","./cs.js":"./node_modules/moment/locale/cs.js","./cv":"./node_modules/moment/locale/cv.js","./cv.js":"./node_modules/moment/locale/cv.js","./cy":"./node_modules/moment/locale/cy.js","./cy.js":"./node_modules/moment/locale/cy.js","./da":"./node_modules/moment/locale/da.js","./da.js":"./node_modules/moment/locale/da.js","./de":"./node_modules/moment/locale/de.js","./de-at":"./node_modules/moment/locale/de-at.js","./de-at.js":"./node_modules/moment/locale/de-at.js","./de-ch":"./node_modules/moment/locale/de-ch.js","./de-ch.js":"./node_modules/moment/locale/de-ch.js","./de.js":"./node_modules/moment/locale/de.js","./dv":"./node_modules/moment/locale/dv.js","./dv.js":"./node_modules/moment/locale/dv.js","./el":"./node_modules/moment/locale/el.js","./el.js":"./node_modules/moment/locale/el.js","./en-au":"./node_modules/moment/locale/en-au.js","./en-au.js":"./node_modules/moment/locale/en-au.js","./en-ca":"./node_modules/moment/locale/en-ca.js","./en-ca.js":"./node_modules/moment/locale/en-ca.js","./en-gb":"./node_modules/moment/locale/en-gb.js","./en-gb.js":"./node_modules/moment/locale/en-gb.js","./en-ie":"./node_modules/moment/locale/en-ie.js","./en-ie.js":"./node_modules/moment/locale/en-ie.js","./en-il":"./node_modules/moment/locale/en-il.js","./en-il.js":"./node_modules/moment/locale/en-il.js","./en-nz":"./node_modules/moment/locale/en-nz.js","./en-nz.js":"./node_modules/moment/locale/en-nz.js","./eo":"./node_modules/moment/locale/eo.js","./eo.js":"./node_modules/moment/locale/eo.js","./es":"./node_modules/moment/locale/es.js","./es-do":"./node_modules/moment/locale/es-do.js","./es-do.js":"./node_modules/moment/locale/es-do.js","./es-us":"./node_modules/moment/locale/es-us.js","./es-us.js":"./node_modules/moment/locale/es-us.js","./es.js":"./node_modules/moment/locale/es.js","./et":"./node_modules/moment/locale/et.js","./et.js":"./node_modules/moment/locale/et.js","./eu":"./node_modules/moment/locale/eu.js","./eu.js":"./node_modules/moment/locale/eu.js","./fa":"./node_modules/moment/locale/fa.js","./fa.js":"./node_modules/moment/locale/fa.js","./fi":"./node_modules/moment/locale/fi.js","./fi.js":"./node_modules/moment/locale/fi.js","./fo":"./node_modules/moment/locale/fo.js","./fo.js":"./node_modules/moment/locale/fo.js","./fr":"./node_modules/moment/locale/fr.js","./fr-ca":"./node_modules/moment/locale/fr-ca.js","./fr-ca.js":"./node_modules/moment/locale/fr-ca.js","./fr-ch":"./node_modules/moment/locale/fr-ch.js","./fr-ch.js":"./node_modules/moment/locale/fr-ch.js","./fr.js":"./node_modules/moment/locale/fr.js","./fy":"./node_modules/moment/locale/fy.js","./fy.js":"./node_modules/moment/locale/fy.js","./gd":"./node_modules/moment/locale/gd.js","./gd.js":"./node_modules/moment/locale/gd.js","./gl":"./node_modules/moment/locale/gl.js","./gl.js":"./node_modules/moment/locale/gl.js","./gom-latn":"./node_modules/moment/locale/gom-latn.js","./gom-latn.js":"./node_modules/moment/locale/gom-latn.js","./gu":"./node_modules/moment/locale/gu.js","./gu.js":"./node_modules/moment/locale/gu.js","./he":"./node_modules/moment/locale/he.js","./he.js":"./node_modules/moment/locale/he.js","./hi":"./node_modules/moment/locale/hi.js","./hi.js":"./node_modules/moment/locale/hi.js","./hr":"./node_modules/moment/locale/hr.js","./hr.js":"./node_modules/moment/locale/hr.js","./hu":"./node_modules/moment/locale/hu.js","./hu.js":"./node_modules/moment/locale/hu.js","./hy-am":"./node_modules/moment/locale/hy-am.js","./hy-am.js":"./node_modules/moment/locale/hy-am.js","./id":"./node_modules/moment/locale/id.js","./id.js":"./node_modules/moment/locale/id.js","./is":"./node_modules/moment/locale/is.js","./is.js":"./node_modules/moment/locale/is.js","./it":"./node_modules/moment/locale/it.js","./it.js":"./node_modules/moment/locale/it.js","./ja":"./node_modules/moment/locale/ja.js","./ja.js":"./node_modules/moment/locale/ja.js","./jv":"./node_modules/moment/locale/jv.js","./jv.js":"./node_modules/moment/locale/jv.js","./ka":"./node_modules/moment/locale/ka.js","./ka.js":"./node_modules/moment/locale/ka.js","./kk":"./node_modules/moment/locale/kk.js","./kk.js":"./node_modules/moment/locale/kk.js","./km":"./node_modules/moment/locale/km.js","./km.js":"./node_modules/moment/locale/km.js","./kn":"./node_modules/moment/locale/kn.js","./kn.js":"./node_modules/moment/locale/kn.js","./ko":"./node_modules/moment/locale/ko.js","./ko.js":"./node_modules/moment/locale/ko.js","./ky":"./node_modules/moment/locale/ky.js","./ky.js":"./node_modules/moment/locale/ky.js","./lb":"./node_modules/moment/locale/lb.js","./lb.js":"./node_modules/moment/locale/lb.js","./lo":"./node_modules/moment/locale/lo.js","./lo.js":"./node_modules/moment/locale/lo.js","./lt":"./node_modules/moment/locale/lt.js","./lt.js":"./node_modules/moment/locale/lt.js","./lv":"./node_modules/moment/locale/lv.js","./lv.js":"./node_modules/moment/locale/lv.js","./me":"./node_modules/moment/locale/me.js","./me.js":"./node_modules/moment/locale/me.js","./mi":"./node_modules/moment/locale/mi.js","./mi.js":"./node_modules/moment/locale/mi.js","./mk":"./node_modules/moment/locale/mk.js","./mk.js":"./node_modules/moment/locale/mk.js","./ml":"./node_modules/moment/locale/ml.js","./ml.js":"./node_modules/moment/locale/ml.js","./mn":"./node_modules/moment/locale/mn.js","./mn.js":"./node_modules/moment/locale/mn.js","./mr":"./node_modules/moment/locale/mr.js","./mr.js":"./node_modules/moment/locale/mr.js","./ms":"./node_modules/moment/locale/ms.js","./ms-my":"./node_modules/moment/locale/ms-my.js","./ms-my.js":"./node_modules/moment/locale/ms-my.js","./ms.js":"./node_modules/moment/locale/ms.js","./mt":"./node_modules/moment/locale/mt.js","./mt.js":"./node_modules/moment/locale/mt.js","./my":"./node_modules/moment/locale/my.js","./my.js":"./node_modules/moment/locale/my.js","./nb":"./node_modules/moment/locale/nb.js","./nb.js":"./node_modules/moment/locale/nb.js","./ne":"./node_modules/moment/locale/ne.js","./ne.js":"./node_modules/moment/locale/ne.js","./nl":"./node_modules/moment/locale/nl.js","./nl-be":"./node_modules/moment/locale/nl-be.js","./nl-be.js":"./node_modules/moment/locale/nl-be.js","./nl.js":"./node_modules/moment/locale/nl.js","./nn":"./node_modules/moment/locale/nn.js","./nn.js":"./node_modules/moment/locale/nn.js","./pa-in":"./node_modules/moment/locale/pa-in.js","./pa-in.js":"./node_modules/moment/locale/pa-in.js","./pl":"./node_modules/moment/locale/pl.js","./pl.js":"./node_modules/moment/locale/pl.js","./pt":"./node_modules/moment/locale/pt.js","./pt-br":"./node_modules/moment/locale/pt-br.js","./pt-br.js":"./node_modules/moment/locale/pt-br.js","./pt.js":"./node_modules/moment/locale/pt.js","./ro":"./node_modules/moment/locale/ro.js","./ro.js":"./node_modules/moment/locale/ro.js","./ru":"./node_modules/moment/locale/ru.js","./ru.js":"./node_modules/moment/locale/ru.js","./sd":"./node_modules/moment/locale/sd.js","./sd.js":"./node_modules/moment/locale/sd.js","./se":"./node_modules/moment/locale/se.js","./se.js":"./node_modules/moment/locale/se.js","./si":"./node_modules/moment/locale/si.js","./si.js":"./node_modules/moment/locale/si.js","./sk":"./node_modules/moment/locale/sk.js","./sk.js":"./node_modules/moment/locale/sk.js","./sl":"./node_modules/moment/locale/sl.js","./sl.js":"./node_modules/moment/locale/sl.js","./sq":"./node_modules/moment/locale/sq.js","./sq.js":"./node_modules/moment/locale/sq.js","./sr":"./node_modules/moment/locale/sr.js","./sr-cyrl":"./node_modules/moment/locale/sr-cyrl.js","./sr-cyrl.js":"./node_modules/moment/locale/sr-cyrl.js","./sr.js":"./node_modules/moment/locale/sr.js","./ss":"./node_modules/moment/locale/ss.js","./ss.js":"./node_modules/moment/locale/ss.js","./sv":"./node_modules/moment/locale/sv.js","./sv.js":"./node_modules/moment/locale/sv.js","./sw":"./node_modules/moment/locale/sw.js","./sw.js":"./node_modules/moment/locale/sw.js","./ta":"./node_modules/moment/locale/ta.js","./ta.js":"./node_modules/moment/locale/ta.js","./te":"./node_modules/moment/locale/te.js","./te.js":"./node_modules/moment/locale/te.js","./tet":"./node_modules/moment/locale/tet.js","./tet.js":"./node_modules/moment/locale/tet.js","./tg":"./node_modules/moment/locale/tg.js","./tg.js":"./node_modules/moment/locale/tg.js","./th":"./node_modules/moment/locale/th.js","./th.js":"./node_modules/moment/locale/th.js","./tl-ph":"./node_modules/moment/locale/tl-ph.js","./tl-ph.js":"./node_modules/moment/locale/tl-ph.js","./tlh":"./node_modules/moment/locale/tlh.js","./tlh.js":"./node_modules/moment/locale/tlh.js","./tr":"./node_modules/moment/locale/tr.js","./tr.js":"./node_modules/moment/locale/tr.js","./tzl":"./node_modules/moment/locale/tzl.js","./tzl.js":"./node_modules/moment/locale/tzl.js","./tzm":"./node_modules/moment/locale/tzm.js","./tzm-latn":"./node_modules/moment/locale/tzm-latn.js","./tzm-latn.js":"./node_modules/moment/locale/tzm-latn.js","./tzm.js":"./node_modules/moment/locale/tzm.js","./ug-cn":"./node_modules/moment/locale/ug-cn.js","./ug-cn.js":"./node_modules/moment/locale/ug-cn.js","./uk":"./node_modules/moment/locale/uk.js","./uk.js":"./node_modules/moment/locale/uk.js","./ur":"./node_modules/moment/locale/ur.js","./ur.js":"./node_modules/moment/locale/ur.js","./uz":"./node_modules/moment/locale/uz.js","./uz-latn":"./node_modules/moment/locale/uz-latn.js","./uz-latn.js":"./node_modules/moment/locale/uz-latn.js","./uz.js":"./node_modules/moment/locale/uz.js","./vi":"./node_modules/moment/locale/vi.js","./vi.js":"./node_modules/moment/locale/vi.js","./x-pseudo":"./node_modules/moment/locale/x-pseudo.js","./x-pseudo.js":"./node_modules/moment/locale/x-pseudo.js","./yo":"./node_modules/moment/locale/yo.js","./yo.js":"./node_modules/moment/locale/yo.js","./zh-cn":"./node_modules/moment/locale/zh-cn.js","./zh-cn.js":"./node_modules/moment/locale/zh-cn.js","./zh-hk":"./node_modules/moment/locale/zh-hk.js","./zh-hk.js":"./node_modules/moment/locale/zh-hk.js","./zh-tw":"./node_modules/moment/locale/zh-tw.js","./zh-tw.js":"./node_modules/moment/locale/zh-tw.js"};function o(e){var t=a(e);return r(t)}function a(e){var t=n[e];if(!(t+1)){var r=new Error('Cannot find module "'+e+'".');throw r.code="MODULE_NOT_FOUND",r}return t}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id="./node_modules/moment/locale sync recursive ^\\.\\/.*$"},"./src/Dashboard/Dashboard.html":function(e,t,r){e.exports='\n<div id="dashboard-container" layout="column">\n\n  <md-card md-whiteframe="2" class="rel" layout="row">\n    <div class="littleheader">\n      <translate>DASHBOARD</translate>\n    </div>\n\n    <md-tabs md-border-bottom md-center-tabs="true" flex class="dashboard-tab-container" md-selected="vm.currentTab">\n\n      \x3c!-- MAP VIEW --\x3e\n\n      <md-tab label="{{\'map view\' | translate }}">\n\n        <div class="tab-wrap map" id="map" ng-class="{\'emptyy\': !vm.projectsData}">\n\n          <md-card md-whiteframe="2" class="countrychoser">\n            <md-input-container>\n              <md-select\n                class="no-border"\n                md-container-class="country-chooser topalign"\n                ng-model-options="{trackBy: \'$value.id\', allowInvalid: true}"\n                placeholder="{{\'Select a country\'|translate}}"\n                ng-model="vm.selectedCountry">\n\n                <md-option ng-repeat="country in vm.countries track by $index" ng-value="country">{{country.name}}</md-option>\n\n              </md-select>\n            </md-input-container>\n          </md-card>\n\n          <countrymap\n            big="true"\n            district-level-coverage="vm.districtProjects"\n            national-level-coverage="vm.nationalLevelCoverage"\n            map-data="vm.mapData">\n          </countrymap>\n\n        </div>\n\n      </md-tab>\n\n\n      \x3c!-- LIST VIEW --\x3e\n      <md-tab label="{{\'list view\' | translate }}">\n        <div class="tab-wrap" id="list">\n\n          <div class="headercont" layout="row">\n            <md-card md-whiteframe="2" class="countrychoser" flex="nogrow">\n              <md-input-container>\n                <md-select\n                  class="no-border"\n                  md-container-class="country-chooser topalign"\n                  ng-model-options="{trackBy: \'$value.id\'}"\n                  placeholder="{{\'Select a country\'|translate}}"\n                  ng-model="vm.selectedCountry">\n\n                  <md-option ng-value="vm.showAllCountries">\n                    <translate>Show all countries</translate>\n                  </md-option>\n                  <md-option ng-repeat="country in vm.countries track by $index" ng-value="{{country}}">{{country.name}}</md-option>\n\n                </md-select>\n              </md-input-container>\n            </md-card>\n\n            <div class="exports" layout="row" flex="grow" layout-align="end center" ng-show="vm.projectsData && vm.projectsData.length > 0">\n              <span class="exports-label">\n                <translate>Export list:</translate></span>\n              <md-button class="md-primary md-raised md-small" ng-click="vm.exportPDF()">\n                <md-icon>file_download</md-icon>\n                <translate>PDF</translate>\n              </md-button>\n              <md-button class="md-primary md-raised md-small" ng-click="vm.exportCSV()">\n                <md-icon>file_download</md-icon>\n                <translate>CSV</translate>\n              </md-button>\n            </div>\n\n            <div class="starry" layout="row" flex="nogrow" layout-align="end center">\n              <span><md-icon>visibility</md-icon><translate>Viewer</translate></span>\n              <span><md-icon>grade</md-icon><translate>Team member</translate></span>\n            </div>\n          </div>\n\n          <md-content class="projectcont">\n            <div class="scroll-wrapper">\n              <div class="headerrow" layout="row" layout-padding md-whiteframe="2">\n                <div flex="30" ng-click="vm.orderTable(\'name\')">\n                  <translate>Project name</translate>\n                  <md-icon ng-show="vm.header.name.up" >expand_more</md-icon>\n                  <md-icon ng-show="vm.header.name.down" >expand_less</md-icon>\n                </div>\n                <div flex="20" ng-click="vm.orderTable(\'country\')">\n                  <translate>Country</translate>\n                  <md-icon ng-show="vm.header.country.up" >expand_more</md-icon>\n                  <md-icon ng-show="vm.header.country.down" >expand_less</md-icon>\n                </div>\n                <div flex="20" ng-click="vm.orderTable(\'organisation_name\')">\n                  <translate>Organisation name</translate>\n                  <md-icon ng-show="vm.header.organisation_name.up" >expand_more</md-icon>\n                  <md-icon ng-show="vm.header.organisation_name.down" >expand_less</md-icon>\n                </div>\n                <div flex="20" ng-click="vm.orderTable(\'donors\')">\n                  <translate>Donors</translate>\n                  <md-icon ng-show="vm.header.donors.up" >expand_more</md-icon>\n                  <md-icon ng-show="vm.header.donors.down" >expand_less</md-icon>\n                </div>\n                <div flex="20" ng-click="vm.orderTable(\'contact_name\')">\n                  <translate>Contact Name</translate>\n                  <md-icon ng-show="vm.header.contact_name.up" >expand_more</md-icon>\n                  <md-icon ng-show="vm.header.contact_name.down" >expand_less</md-icon>\n                </div>\n                <div flex="30" ng-click="vm.orderTable(\'implementation_overview\')">\n                  <translate>Overview of digital health implementation</translate>\n                  <md-icon ng-show="vm.header.implementation_overview.up" >expand_more</md-icon>\n                  <md-icon ng-show="vm.header.implementation_overview.down" >expand_less</md-icon>\n                </div>\n                <div flex="20" ng-click="vm.orderTable(\'implementing_partners\')">\n                  <translate>Implementing partners</translate>\n                  <md-icon ng-show="vm.header.implementing_partners.up" >expand_more</md-icon>\n                  <md-icon ng-show="vm.header.implementing_partners.down" >expand_less</md-icon>\n                </div>\n                <div flex="20" ng-click="vm.orderTable(\'geographic_scope\')">\n                  <translate>Geographic scope</translate>\n                  <md-icon ng-show="vm.header.geographic_scope.up" >expand_more</md-icon>\n                  <md-icon ng-show="vm.header.geographic_scope.down" >expand_less</md-icon>\n                </div>\n                <div flex="20" ng-click="vm.orderTable(\'health_focus_areas\')">\n                  <translate>Health Focus Areas</translate>\n                  <md-icon ng-show="vm.header.health_focus_areas.up" >expand_more</md-icon>\n                  <md-icon ng-show="vm.header.health_focus_areas.down" >expand_less</md-icon>\n                </div>\n              </div>\n\n              <div\n                class="projectrow"\n                layout="row"\n                layout-padding\n                ng-repeat="project in vm.projectsData track by $index"\n                ng-class="{\'member\': project.isMember, \'viewer\': project.isViewer}">\n\n                <div flex="30" class="projectlink" layout="row">\n                  <div layout="row" flex class="name">\n                    <div>\n                      <md-icon class="member" ng-show="project.isMember">grade</md-icon>\n                      <md-icon class="viewer" ng-show="project.isViewer">visibility</md-icon>\n                    </div>\n                    <div>\n                      <div class="name">\n                        {{project.name}}\n                      </div>\n\n                      <div class="country-approved" ng-show="project.approved">\n                        <i class="material-icons">assignment_turned_in</i>\n                        <translate>Verified by country</translate>\n                      </div>\n\n                      <div class="links">\n                        <md-button  ui-sref="editProject({ appName: project.id, editMode: \'publish\' })" class="md-primary md-raised md-small"><translate>Project Details</translate></md-button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div flex="20" class="cap">\n                  {{vm.countriesLib[project.country]}}\n                </div>\n                <div flex="20">{{project.organisation_name}}</div>\n                <div flex="20">\n                        <span ng-repeat="donor in project.donors">\n                            {{donor}}{{$last ? \'\' : \', \'}}\n                        </span>\n                </div>\n                <div flex="20">{{project.contact_name}}, <a ng-href="mailto:{{project.contact_email}}">{{project.contact_email}}</a></div>\n                <div flex="30">{{project.implementation_overview}}</div>\n                <div flex="20">{{vm.printImplementingPartners(project)}}</div>\n                <div flex="20">{{project.geographic_scope}}</div>\n                <div flex="20">{{project.health_focus_areas.join(\', \')}}</div>\n\n              </div>\n              <div ng-if="!vm.projectsData.length" class="projectrow" layout="row" layout-padding>\n                <div flex><translate>There is no project to show in this country.</translate></div>\n              </div>\n            </div>\n          </md-content>\n        </div>\n      </md-tab>\n    </md-tabs>\n\n    <div class="dashboard-filter-container" flex layout="row">\n      <div class="filter-wrapper" layout="row" flex="100">\n        <div class="filter-project-counter" md-whiteframe="2">\n          <div class="project-counter-name">\n            <div class="description">\n              <translate>Number of Projects</translate>\n            </div>\n            <div class="country-name">\n              \x3c!-- in {{vm.selectedCountry.name}} --\x3e\n              <translate>in selected country</translate>\n            </div>\n          </div>\n          <div class="project-counter-arrow">\n            <img src="'+r("./src/Dashboard/img/after-white.svg")+'" />\n          </div>\n          <div class="project-counter-number">\n            {{ vm.projectsData.length}}\n          </div>\n        </div>\n\n        <div class="filter-list">\n\n          <div class="description"><translate>Apply filters to map:</translate></div>\n\n          <div class="country-approval-switch" layout="row" layout-align="start center" ng-show="vm.selectedCountry.project_approval">\n            <md-switch class="md-primary" ng-model="vm.showOnlyApproved" aria-label="show only verified"></md-switch>\n            <span class="md-label">\n              <translate>Show only verified projects</translate>\n            </span>\n          </div>\n\n          <div class="list-headers" ng-repeat="header in vm.filters">\n\n            <div class="header" ng-click="header.open = !header.open">\n              <md-icon ng-hide="header.open" >expand_more</md-icon>\n              <md-icon ng-show="header.open" >expand_less</md-icon>\n              {{header.name}} ({{header.items.length}})\n            </div>\n\n            <div class="list-item" ng-repeat="item in header.items  | orderBy: \'name\' " ng-show="header.open">\n              <md-checkbox class="md-primary small" ng-model="item.value" aria-label="item.name">\n                {{item.name}}\n              </md-checkbox>\n            </div>\n\n          </div>\n        </div>\n      </div>\n    </div>\n  </md-card>\n\n  <disclaimer></disclaimer>\n</div>\n'},"./src/Dashboard/Dashboard.scss":function(e,t,r){},"./src/Dashboard/DashboardModuleController.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=b(r("./node_modules/babel-runtime/regenerator/index.js")),o=b(r("./node_modules/babel-runtime/helpers/asyncToGenerator.js")),a=b(r("./node_modules/babel-runtime/core-js/array/from.js")),s=b(r("./node_modules/babel-runtime/core-js/set.js")),l=b(r("./node_modules/babel-runtime/core-js/get-iterator.js")),u=b(r("./node_modules/babel-runtime/helpers/toConsumableArray.js")),i=b(r("./node_modules/babel-runtime/helpers/slicedToArray.js")),d=b(r("./node_modules/babel-runtime/helpers/classCallCheck.js")),c=b(r("./node_modules/babel-runtime/helpers/createClass.js")),m=b(r("./node_modules/lodash/cloneDeep.js")),f=b(r("./node_modules/lodash/forEach.js")),p=b(r("./node_modules/lodash/isEmpty.js")),j=b(r("./node_modules/lodash/map.js")),_=b(r("./node_modules/moment/moment.js")),v=b(r("./src/Dashboard/PDFExport/PDFExportController.js")),h=y(r("./src/store/modules/countries.js")),g=y(r("./src/store/modules/user.js"));function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function b(e){return e&&e.__esModule?e:{default:e}}var C=function(){function e(t,r,n,o,a){(0,d.default)(this,e),this.scope=t,this.filter=r,this.state=n,this.gettextCatalog=a,this.pdfExport=new v.default(a),this.$onInit=this.onInit.bind(this),this.$onDestroy=this.onDestroy.bind(this),this.generateFilters=this.generateFilters.bind(this),this.prepareFiltersCheckboxes=this.prepareFiltersCheckboxes.bind(this),this.watchers=this.watchers.bind(this),this.mapState=this.mapState.bind(this),this.checkIfFilterIsApplied=this.checkIfFilterIsApplied.bind(this),this.unsubscribe=o.connect(this.mapState,h)(this)}return(0,c.default)(e,[{key:"mapState",value:function(e){var t=h.getCurrentCountryMapData(e),r=h.getCurrentCountryDistrictProjects(e),n=(0,p.default)(this.selectedCountry)?h.getCurrentCountry(e):this.selectedCountry,o=h.getCurrentCountryProjects(e),a=(0,m.default)(o),s=this.filterNLDProjects(o,r);return{countryDistrictProjects:r,userProfile:g.getProfile(e),countries:h.getCountriesList(e),countriesLib:h.getCountriesLib(e),selectedCountry:n,mapData:t,districtProjects:r,projectsData:o,countryProjects:a,nationalLevelCoverage:s}}},{key:"onInit",value:function(){this.header=this.generateHeader(),this.lastFilter=null,this.showOnlyApproved=!1,this.filterBit=0,this.watchers(),this.showAllCountries={id:!1,name:"Show all countries"}}},{key:"onDestroy",value:function(){this.unsubscribe()}},{key:"watchers",value:function(){this.scope.$watchCollection(function(e){return e.vm.countryProjects},this.generateFilters),this.scope.$watch(function(e){return e.vm.filters},this.checkIfFilterIsApplied,!0),this.scope.$watch(function(e){return e.vm.selectedCountry},this.updateCountry.bind(this),!0),this.scope.$watchGroup([function(e){return e.vm.showOnlyApproved},function(e){return e.vm.filterBit}],this.applyFilters.bind(this)),this.scope.$watch(function(e){return e.vm.currentTab},this.handleTabSwitch.bind(this))}},{key:"checkIfFilterIsApplied",value:function(e,t){if(e&&t){var r=t.map(function(e){return e.open}),n=e.map(function(e){return e.open});r.every(function(e,t){return e===n[t]})&&Array.isArray(this.countryProjects)&&(this.filterBit+=1)}}},{key:"handleTabSwitch",value:function(e,t){0===e&&1===t&&!1===this.selectedCountry.id&&this.loadCountryProjectsOrAll(this.mapData.id)}},{key:"applyFilters",value:function(e){var t=this,r=(0,i.default)(e,1)[0],n=(r=this.selectedCountry.project_approval&&r)?this.countryProjects.filter(function(e){return e.approved}):this.countryProjects,o=[],a=[],s=function(e){var t=e.items.filter(function(e){return e.value}).map(function(e){return e.name});a=[].concat((0,u.default)(a),(0,u.default)(t));var r=function(e){return t.indexOf(e)>-1};if(t&&t.length>0){var s=!0,i=!1,d=void 0;try{for(var c,m=(0,l.default)(n);!(s=(c=m.next()).done);s=!0){var f=c.value;e.filterMappingFn(f).some(r)&&(o.includes(f)||o.push(f))}}catch(e){i=!0,d=e}finally{try{!s&&m.return&&m.return()}finally{if(i)throw d}}}},d=!0,c=!1,m=void 0;try{for(var f,p=(0,l.default)(this.filters);!(d=(f=p.next()).done);d=!0){s(f.value)}}catch(e){c=!0,m=e}finally{try{!d&&p.return&&p.return()}finally{if(c)throw m}}this.scope.$evalAsync(function(){a&&a.length>0?t.projectsData=o:t.projectsData=n,t.nationalLevelCoverage=t.filterNLDProjects(t.projectsData),t.districtProjects=t.filterDLDProjects(t.projectsData)})}},{key:"generateHeader",value:function(){return{name:{up:!1,down:!1},country:{up:!1,down:!1},organisation_name:{up:!1,down:!1},donors:{up:!1,down:!1},contact_name:{up:!1,down:!1},implementation_overview:{up:!1,down:!1},implementing_partners:{up:!1,down:!1},geographic_scope:{up:!1,down:!1},health_focus_areas:{up:!1,down:!1}}}},{key:"prepareFiltersCheckboxes",value:function(e){var t=new s.default,r=!0,n=!1,o=void 0;try{for(var u,i=(0,l.default)(this.countryProjects);!(r=(u=i.next()).done);r=!0){var d=u.value,c=[];c=(c=e instanceof Function?e(d):d[e])||[];var m=!0,f=!1,p=void 0;try{for(var j,_=(0,l.default)(c);!(m=(j=_.next()).done);m=!0){var v=j.value;t.add(v)}}catch(e){f=!0,p=e}finally{try{!m&&_.return&&_.return()}finally{if(f)throw p}}}}catch(e){n=!0,o=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw o}}return(t=(0,a.default)(t)).map(function(e){return{value:!1,name:e}})}},{key:"generateFilters",value:function(e){if(e&&Array.isArray(e)){var t=this.gettextCatalog,r={name:t.getString("Digital Health Interventions"),filterMappingFn:function(e){return Array.isArray(e.digital_strategies)?e.digital_strategies:[]},open:!1,items:this.prepareFiltersCheckboxes("digital_strategies")},n={name:t.getString("Health Focus Areas"),filterMappingFn:function(e){return Array.isArray(e.health_focus_areas)?e.health_focus_areas:[]},open:!1,items:this.prepareFiltersCheckboxes("health_focus_areas")},o={name:t.getString("Health Information Systems"),filterMappingFn:function(e){return Array.isArray(e.his_bucket)?e.his_bucket:[]},open:!1,items:this.prepareFiltersCheckboxes("his_bucket")},a={name:t.getString("Health System Challenges"),filterMappingFn:function(e){return Array.isArray(e.hsc_challenges)?e.hsc_challenges:[]},open:!1,items:this.prepareFiltersCheckboxes("hsc_challenges")},s={name:t.getString("Software"),filterMappingFn:function(e){return Array.isArray(e.platforms)?e.platforms:[]},open:!1,items:this.prepareFiltersCheckboxes("platforms")};this.filters=[r,n,o,a,s]}}},{key:"filterNLDProjects",value:function(e){var t=[];for(var r in this.countryDistrictProjects)t=t.concat(this.countryDistrictProjects[r]);return t=(t=(0,a.default)(new s.default(t))).map(function(e){return e.id}),e.filter(function(e){return-1===t.indexOf(e.id)})}},{key:"filterDLDProjects",value:function(e){var t={},r=e.map(function(e){return e.id});for(var n in this.countryDistrictProjects){var o=this.countryDistrictProjects[n].filter(function(e){return r.indexOf(e.id)>-1});o&&o.length>0&&(t[n]=o)}return t}},{key:"updateCountry",value:function(e,t){t&&e.id!==t.id&&(e.id?this.setCurrentCountry(e.id):this.setCurrentCountry(null),this.loadCountryProjectsOrAll(e.id)),0===this.projectsData.length&&this.loadCountryProjectsOrAll(e.id),e.id&&this.projectsData.some(function(t){return t.country!==e.id})&&this.loadCountryProjectsOrAll(e.id)}},{key:"exportPDF",value:function(){this.pdfExport.setData(this.projectsData,this.selectedCountry),this.pdfExport.makePDF()}},{key:"exportCSV",value:function(){var e=(0,o.default)(n.default.mark(function e(){var t,r,o,a;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,j.default)(this.projectsData,function(e){return e.id}),e.next=3,h.csvExport(t);case 3:r=e.sent,o=encodeURI("data:text/csv;charset=utf-8,"+r),(a=document.createElement("a")).setAttribute("href",o),a.setAttribute("download","clv-export-"+(0,_.default)().format("MMMM-Do-YYYY-h-mm-ss ")+".csv"),a.setAttribute("target","_blank"),document.body.appendChild(a),a.click();case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"orderTable",value:function(e){(0,f.default)(this.header,function(e){e.up=!1,e.down=!1}),this.header[e].down=!0;var t=null,r="-"+e;e!==this.lastFilter&&(t=e,r=e,this.header[e].down=!1,this.header[e].up=!0),this.lastFilter=t,this.projectsData=this.filter("orderBy")(this.projectsData,r)}},{key:"printImplementingPartners",value:function(e){var t=e.implementing_partners;return t.length>0?t.join(", ").trim():""}}],[{key:"factory",value:function(){function t(t,r,n,o,a){return new e(t,r,n,o,a)}return t.$inject=["$scope","$filter","$state","$ngRedux","gettextCatalog"],t}}]),e}();t.default=C},"./src/Dashboard/PDFExport/PDFExportController.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(r("./node_modules/babel-runtime/regenerator/index.js")),o=m(r("./node_modules/babel-runtime/core-js/promise.js")),a=m(r("./node_modules/babel-runtime/helpers/slicedToArray.js")),s=m(r("./node_modules/babel-runtime/helpers/asyncToGenerator.js")),l=m(r("./node_modules/babel-runtime/helpers/classCallCheck.js")),u=m(r("./node_modules/babel-runtime/helpers/createClass.js")),i=m(r("./node_modules/lodash/forEach.js")),d=m(r("./node_modules/moment/moment.js")),c=m(r("./src/Dashboard/PDFExport/images/base64Images.js"));function m(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t){(0,l.default)(this,e),this.onInit(),this.makePDF=this.makePDF.bind(this,t)}return(0,u.default)(e,[{key:"onInit",value:function(){this.logo=r("./src/Dashboard/PDFExport/images/dha-logo.svg"),this.exportDate=(0,d.default)().format("Do MMM, YYYY")}},{key:"printDate",value:function(e){return(0,d.default)(e).format("Do MMM, YYYY")}},{key:"setData",value:function(e,t,r){this.projectList=e,this.country=t,this.isAllCountry=t&&!1===t.id,this.countryFlag=r}},{key:"makePDF",value:function(){var e=(0,s.default)(n.default.mark(function e(t){var s,l,u,d,m,f,p,j=this;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.e(630).then(function(){var e=r("./node_modules/pdfmake/build/pdfmake.js");return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})}),l=r.e(629).then(function(){var e=r("./node_modules/pdfmake/build/vfs_fonts.js");return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})}),e.next=4,o.default.all([s,l]);case 4:u=e.sent,d=(0,a.default)(u,2),m=d[0],f=d[1],m.vfs=f.pdfMake.vfs,this.pdfMake=m.createPdf,p={content:[{table:{widths:["50%","50%"],headerRows:2,body:[[{text:t.getString("Digital Health Atlas"),fillColor:"#1A237E",color:"#FFFFFF",colSpan:2,style:"mainHeader",margin:[5,0,0,0]},""],[{text:this.country.name.toUpperCase(),fillColor:"#EEEEEE",color:"#000000",style:"headerSecondRow",margin:[5,0,0,0]},{text:t.getString("List exported on "+this.exportDate),fillColor:"#EEEEEE",color:"#000000",style:"headerSecondRowRight",margin:[0,0,5,0]}]]},layout:"noBorders",margin:[0,10]}],defaultStyle:{font:"Roboto",fontSize:10},pageSize:"A4",margin:[40,40,40,40],pageOrientation:"landscape",styles:{mainHeader:{bold:!0,fontSize:16},headerSecondRow:{alignment:"left",fontSize:12,bold:!0},headerSecondRowRight:{alignment:"right",fontSize:12},tableHeader:{bold:!0,fontSize:14},subHeader:{bold:!0,fontSize:10,color:"#8A8A8A"}},images:c.default},(0,i.default)(this.projectList,function(e,r){var n=e.country_name.replace("-"," ").toUpperCase();p.content.push({margin:[0,10],table:{widths:[118,118,118,118,118,118],headerRows:1,body:[[{text:r+1+". "+(e.name||""),fillColor:"#EEEEEE",style:"tableHeader",colSpan:j.isAllCountry?4:5},"","","",j.isAllCountry?{text:t.getString("UUID: "+(e.uuid||"")),style:"subHeader"}:"",j.isAllCountry?n:{text:t.getString("UUID: "+(e.uuid||"")),style:"subHeader"}],[[{text:t.getString("Date of:"),style:"subHeader"},j.printDate(e.implementation_dates)],[{text:t.getString("Organisation name:"),style:"subHeader"},e.organisation_name||""],[{text:t.getString("Donors:"),style:"subHeader"},e.donors.join(", ")],[{text:t.getString("Implementing partners:"),style:"subHeader"},e.implementing_partners||""],[{text:t.getString("Health Focus Area:"),style:"subHeader"},e.health_focus_areas?e.health_focus_areas.join(", "):""],[{text:t.getString("Point of contact:"),style:"subHeader"},(e.contact_name||"")+" - "+(e.contact_email||"")]],[{stack:[{text:t.getString("Overview of digital health implementation:"),style:"subHeader"},{text:e.implementation_overview||""}],colSpan:3},"","",{stack:[{text:t.getString("Geographical coverage:"),style:"subHeader"},e.geographic_scope||""],colSpan:3},"",""]]}})}),this.pdfMake(p).download("clv-searchable-export.pdf");case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=f},"./src/Dashboard/PDFExport/images/base64Images.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={blackSquare:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAZCAYAAAC/zUevAAAEDWlDQ1BJQ0MgUHJvZmlsZQAAOI2NVV1oHFUUPrtzZyMkzlNsNIV0qD8NJQ2TVjShtLp/3d02bpZJNtoi6GT27s6Yyc44M7v9oU9FUHwx6psUxL+3gCAo9Q/bPrQvlQol2tQgKD60+INQ6Ium65k7M5lpurHeZe58853vnnvuuWfvBei5qliWkRQBFpquLRcy4nOHj4g9K5CEh6AXBqFXUR0rXalMAjZPC3e1W99Dwntf2dXd/p+tt0YdFSBxH2Kz5qgLiI8B8KdVy3YBevqRHz/qWh72Yui3MUDEL3q44WPXw3M+fo1pZuQs4tOIBVVTaoiXEI/MxfhGDPsxsNZfoE1q66ro5aJim3XdoLFw72H+n23BaIXzbcOnz5mfPoTvYVz7KzUl5+FRxEuqkp9G/Ajia219thzg25abkRE/BpDc3pqvphHvRFys2weqvp+krbWKIX7nhDbzLOItiM8358pTwdirqpPFnMF2xLc1WvLyOwTAibpbmvHHcvttU57y5+XqNZrLe3lE/Pq8eUj2fXKfOe3pfOjzhJYtB/yll5SDFcSDiH+hRkH25+L+sdxKEAMZahrlSX8ukqMOWy/jXW2m6M9LDBc31B9LFuv6gVKg/0Szi3KAr1kGq1GMjU/aLbnq6/lRxc4XfJ98hTargX++DbMJBSiYMIe9Ck1YAxFkKEAG3xbYaKmDDgYyFK0UGYpfoWYXG+fAPPI6tJnNwb7ClP7IyF+D+bjOtCpkhz6CFrIa/I6sFtNl8auFXGMTP34sNwI/JhkgEtmDz14ySfaRcTIBInmKPE32kxyyE2Tv+thKbEVePDfW/byMM1Kmm0XdObS7oGD/MypMXFPXrCwOtoYjyyn7BV29/MZfsVzpLDdRtuIZnbpXzvlf+ev8MvYr/Gqk4H/kV/G3csdazLuyTMPsbFhzd1UabQbjFvDRmcWJxR3zcfHkVw9GfpbJmeev9F08WW8uDkaslwX6avlWGU6NRKz0g/SHtCy9J30o/ca9zX3Kfc19zn3BXQKRO8ud477hLnAfc1/G9mrzGlrfexZ5GLdn6ZZrrEohI2wVHhZywjbhUWEy8icMCGNCUdiBlq3r+xafL549HQ5jH+an+1y+LlYBifuxAvRN/lVVVOlwlCkdVm9NOL5BE4wkQ2SMlDZU97hX86EilU/lUmkQUztTE6mx1EEPh7OmdqBtAvv8HdWpbrJS6tJj3n0CWdM6busNzRV3S9KTYhqvNiqWmuroiKgYhshMjmhTh9ptWhsF7970j/SbMrsPE1suR5z7DMC+P/Hs+y7ijrQAlhyAgccjbhjPygfeBTjzhNqy28EdkUh8C+DU9+z2v/oyeH791OncxHOs5y2AtTc7nb/f73TWPkD/qwBnjX8BoJ98VVBg/m8AAABFSURBVEgN7dKxDQAwCANBk/13hhT5GUjxSJFLosOVpO9bnbO6/S33E1xBCSUQIO2EEgiQdkIJBEg7oQQCpJ1QAgHyi04MPosBMXfgJ8EAAAAASUVORK5CYII=",lightBlueSquare:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAZCAYAAAC/zUevAAAEDWlDQ1BJQ0MgUHJvZmlsZQAAOI2NVV1oHFUUPrtzZyMkzlNsNIV0qD8NJQ2TVjShtLp/3d02bpZJNtoi6GT27s6Yyc44M7v9oU9FUHwx6psUxL+3gCAo9Q/bPrQvlQol2tQgKD60+INQ6Ium65k7M5lpurHeZe58853vnnvuuWfvBei5qliWkRQBFpquLRcy4nOHj4g9K5CEh6AXBqFXUR0rXalMAjZPC3e1W99Dwntf2dXd/p+tt0YdFSBxH2Kz5qgLiI8B8KdVy3YBevqRHz/qWh72Yui3MUDEL3q44WPXw3M+fo1pZuQs4tOIBVVTaoiXEI/MxfhGDPsxsNZfoE1q66ro5aJim3XdoLFw72H+n23BaIXzbcOnz5mfPoTvYVz7KzUl5+FRxEuqkp9G/Ajia219thzg25abkRE/BpDc3pqvphHvRFys2weqvp+krbWKIX7nhDbzLOItiM8358pTwdirqpPFnMF2xLc1WvLyOwTAibpbmvHHcvttU57y5+XqNZrLe3lE/Pq8eUj2fXKfOe3pfOjzhJYtB/yll5SDFcSDiH+hRkH25+L+sdxKEAMZahrlSX8ukqMOWy/jXW2m6M9LDBc31B9LFuv6gVKg/0Szi3KAr1kGq1GMjU/aLbnq6/lRxc4XfJ98hTargX++DbMJBSiYMIe9Ck1YAxFkKEAG3xbYaKmDDgYyFK0UGYpfoWYXG+fAPPI6tJnNwb7ClP7IyF+D+bjOtCpkhz6CFrIa/I6sFtNl8auFXGMTP34sNwI/JhkgEtmDz14ySfaRcTIBInmKPE32kxyyE2Tv+thKbEVePDfW/byMM1Kmm0XdObS7oGD/MypMXFPXrCwOtoYjyyn7BV29/MZfsVzpLDdRtuIZnbpXzvlf+ev8MvYr/Gqk4H/kV/G3csdazLuyTMPsbFhzd1UabQbjFvDRmcWJxR3zcfHkVw9GfpbJmeev9F08WW8uDkaslwX6avlWGU6NRKz0g/SHtCy9J30o/ca9zX3Kfc19zn3BXQKRO8ud477hLnAfc1/G9mrzGlrfexZ5GLdn6ZZrrEohI2wVHhZywjbhUWEy8icMCGNCUdiBlq3r+xafL549HQ5jH+an+1y+LlYBifuxAvRN/lVVVOlwlCkdVm9NOL5BE4wkQ2SMlDZU97hX86EilU/lUmkQUztTE6mx1EEPh7OmdqBtAvv8HdWpbrJS6tJj3n0CWdM6busNzRV3S9KTYhqvNiqWmuroiKgYhshMjmhTh9ptWhsF7970j/SbMrsPE1suR5z7DMC+P/Hs+y7ijrQAlhyAgccjbhjPygfeBTjzhNqy28EdkUh8C+DU9+z2v/oyeH791OncxHOs5y2AtTc7nb/f73TWPkD/qwBnjX8BoJ98VVBg/m8AAABISURBVEgN7dKxDQAgCERRZP8t7WwcQRKSPwMWn+ZKyOPWPvfF8OTw/l7vEXxBCSUQIO2EEgiQdkIJBEg7oQQCpJ1QAgHyi04UvuAD7UMtw/MAAAAASUVORK5CYII=",digitalHealthAtlas:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKMAAAAWCAYAAACsayxGAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAkISURBVGiB7Zp9kNVVGcc/z3KXBRYWkTR5W9ykkEReTEcIUNJVXqaxyKLAACfSwd6oaLRwtLEcApkKoZgixbcExkkTZqgm0AVpHDYsAnMKIQmSlxSB5U1kYb/9cc6Pe+5v77177917Yar9zvzmvD3nPOe5v+f3vJxz7Uu9lpwAOuLQtHjPne1oQxvOA8pKsaikLyiJOXnOfSqYe3MR9lIRrLerteuVApKezFVmScsD2o+dqz0G/BcH/G8t5to5K6OkzZIOBs87kl6TtEDSJcXc1PmApA2BbJfExq4Pxpacrz0WC5I6SNobyNTqj74YSEzvN29LGWcqAGTWtHhPRtquQLdY34XAh4HJkm4ysy2+fxVwta/vz3NP9wMLfH07gKTJwPd930IzezjPNXNBFUn54h9peTBWWQLezRCTeZGZLchGnyeuA3oE7fHA72P8ZwPTfXOWmT1fRP5pkahMHBlMEDPmOG8mYMA4YAxwEfBrSVea2XEzOwAcKGRDZrYT2BnrrgI+4OvxD+J/FaWUeWwLbXCGJuLfpcj806LQmPExb53GAyt9Xw1wO5yN07r5p2M4UVJvSbWS+vj2BZ6uk29XBnPLJXUGOgVLdPRjFqzZXtJASaMlVRcoU8HwvGslDQ33FaPp7d39YEntW1ivRZkD2q6SbpB0eR5bHhNr95dUE64JdAjGO/m+rPDvcpik4ZIuyEDTRdI1kkZJujhl8NZ7vrZmwj1fX++emXVZGL0RBK5dgv7rgv7f+b60CYykByWd8f2Nku7wpSQ94mlSEhhJv1V6VHr6z0p6Oza2Xj7uU44JjKQtAV3P2FhtMPZ00F8jaVOM9xZJ/QKaPpJeitG8LelTAU1KApNF5s5KTWDulnQgaLfoyiVVB/T1QX1GQLMjDe+9fqxZAiNnNBYr+S4l6ZSkeUo1GjMlHYmtu1JSN4DEs5cOH0GKm847HNsa1Ptn+REmAPcGXQngZ7Qio5c0AngaaAecBk4CnXEx0XKgZNmmpA7AamBAbGgQsErSYFzYsxq40o8dwrnc9wHLJQ0xs7+1YhsP4uLZCDMlrTKzF7PMCV3yHGAFzgqOxb2PQjAXuMvXj+L0qRy4G9gN/FTSRJK5wH6gAacvtwBLgQmtPtoxs8M4RYDsscVXg/p9QF/gVzmsP46koAAPmMNxYBpOEQGm4oLy3b49WlLfliVIi9mS5kYP8MU0NJNIKuJzQC9gmW8PwLnCj5BUxLVAd+Ah324PTE7HPI3M3/MyH4uRLgR6Ar8I+j7RgmyRMjb6PW307Rvkwwcz6wf8MJgz1cxSvEUMt/vyGFANhNn5NF9GsgoYCgwE/un7xksqT4xIbNtm8vFBGU1/aEGSDJAv08ZLHkN8eQKYb2bvSfolMLEwlgAsAp7x9XozOybpz7gfBF/mm80DfDkHmpuC+k/MbK+kFSR/9IHAkoDuTTOTpJdwFiPaX2uw2sz2SXoMuMP39clELKkcuNE3/2hmxyXVAaNxhuSjwLoC9jER9+7fNbPDkjYEY5FBsKAcZmbPezd/oe8vS9RVzelP4KazRtaZkU0JkYvvoozwTTN7rzA2MaZmr0p6HffCp8vFiWEgnyhw6a04yxGhCvhgjKZ3UJ8h6XM4KxWh2swOAmu9yx4pd1wThjLFuu16J6hfnJEKhuNkAagLygd8fSwFKKOZvSCpB866jibVQ0YyLsW5ZHAnL6uAuWa2NiIs9GWdhVyWFa1zNANZuLmTreUZ8K4G1gAfKtaaHuPMbG/Ap9bzCRHGaumse7mfuwj4SpH3F0d4JJdNwcN4caAPQdrHxr+dL3NJnwGeIGnUmsHMVkqahAstLsIp5i1ySe80M3ur1cqIO/SO8I8MNKElLM9AUwh+QFIR78W57IW4889S40xQ/wYQvy7YKXddFyniRuBO4Crg8ZLvLj1CZfxkmvFBknqY2b5cF/SJ3CM4RWwAJgC7gB3EPKaZrZC0EheDfxcXQ4/Fxdq1iSm7Lj+iMnMuSZyBLeSJ8KtfnY7AzA5JOoqzkD0lJczsdDraDAhffKjM1/pSuDi0UVI8yC8VQuX7l5k9GyeQ9J2g+bgPK7IlAiEyyVwQfAgTxe0HSb1Y6A5cilOeMbiPJbS22YzWAJKu/0Uzq/P8Qt7tgG/55nYzWyRpGVAPXAbcKKl7WZNZlYR73JVfLpggaYqk5SQD9j3Ao1nmvOrLrsD9koYAU3Lk9++gPkru4LiCZBZvwGBJV5BUUEg9uC02wg9vntzB8xWSPi8pSqrCD26wD2k+neP+wsQrkrk18txM0lItMrOro4fUrD6yniH/Wh/3pkMoY39JVZKmBrw6mNkZnPeYC/xYUhXumCu8pSsv1E0/EWs3ABPNrCHLnIdx2Rq4o5378uD3J5yrrwBGAX/BHZmsIZkQbPLlu8G8bMF8a7EcmIFLCi4DXggHJY3EHZ004c5S7/JPuL/3Z1k/lHkkTuZBrdhv6KLjlxubcPF+F5zitQNeDsYnA5Pkb8li2IY7TqvGhWwNOE91EvexVfoEdjbOWFV7+uMkE77nzGx/WcW6ilcq6irqK+oq6ivWtd9I7hCwD3gSuMrMXs5GbGbP4BQwih+Pk92ShnP3ALOAU0F3D1zcESrBGlLPM4flsn4hMLNG3HXoMlKtQwPujG6zmW0Gvkly3weAjwOHfXuoMlwN+gQqnAupf27IGV65orO/kzj3GPI6DUTHMd2Ba8xsIzCf1GO7Zv/OMrNTwG1AlPA1AvcAvwnIhpnZUpyrbsB5x55etsX4c0qbMvra5J9rRdNT6+tL+udab6L74v6RMxX4uR/6kZnNamFuZ5wVOmxmu4L+XkClmb1eml1nh5epBveh7YjHw94y1ABvmNmJPNdOK/O5gr+qqwH2mlnGM1tJCaAfcNDM3spCV45LOk8DO70yA0U42skHkm7DZUh/x7mo8HD5lZbm+xuIZhmWt5znDWZ2hCyZn78t+muBa6eV+VzBzA7h4ruW6E7j3mtLdI3Aa+nGEoY9etZVmOX6F7JCMR/nakRq2r8dd6XWhjaUHnJ/L9qt5tgqKX670Yb/Q2S9xis2fCB9Pe5sqh3O/Wyw0lvkNvwX4D8E7ZbpXD5aEQAAAABJRU5ErkJggg=="}},"./src/Dashboard/PDFExport/images/dha-logo.svg":function(e,t,r){e.exports=r.p+"public/fonts/dha-logo.svg"},"./src/Dashboard/dashboardComponent.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r("./src/Dashboard/DashboardModuleController.js")),o=a(r("./src/Dashboard/Dashboard.html"));function a(e){return e&&e.__esModule?e:{default:e}}r("./src/Dashboard/Dashboard.scss");var s={controller:n.default.factory(),template:o.default,controllerAs:"vm",name:"dashboard"};t.default=s},"./src/Dashboard/img/after-white.svg":function(e,t,r){e.exports=r.p+"public/fonts/after-white.svg"},"./src/Storage.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r("./node_modules/babel-runtime/core-js/json/stringify.js")),o=s(r("./node_modules/babel-runtime/helpers/classCallCheck.js")),a=s(r("./node_modules/babel-runtime/helpers/createClass.js"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){(0,o.default)(this,e),this.storage=window.localStorage}return(0,a.default)(e,[{key:"set",value:function(e,t){if("string"!=typeof e)throw new TypeError("this.storage key should be a string!");var r="string"==typeof t?t:(0,n.default)(t);this.storage.setItem(e,r)}},{key:"get",value:function(e){try{return JSON.parse(this.storage.getItem(e))}catch(t){return this.storage.getItem(e)}}},{key:"remove",value:function(e){this.storage.removeItem(e)}},{key:"clear",value:function(){this.storage.clear()}},{key:"check",value:function(){console.log("this.storage contains:\n");var e={};for(var t in this.storage)console.log(t+": "+this.storage.getItem(t)),e[t]=this.storage.getItem(t);return e}}]),e}();t.default=l},"./src/plugins/axios.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r("./node_modules/babel-runtime/core-js/promise.js"));function o(e){return e&&e.__esModule?e:{default:e}}var a=o(r("./node_modules/axios/index.js")).default.create();a.setAuthToken=function(e){a.defaults.headers.common.Authorization="Token "+e},a.unSetAuthToken=function(){a.defaults.headers.common.Authorization=null},a.setLanguageHeader=function(e){a.defaults.headers.common["Accept-Language"]=e},a.setShowPopUp=function(e){a.popUpFunction=e},a.setHandleAuthProblem=function(e){a.authProblemFunction=e},a.interceptors.request.use(function(e){return e},function(e){return console.error(e),a.popUpFunction(),n.default.reject(e)}),a.interceptors.response.use(function(e){return e},function(e){return e&&e.response&&(401===e.response.status||403===e.response.status?a.authProblemFunction():a.popUpFunction()),n.default.reject(e)}),t.default=a},"./src/plugins/language.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentLanguage=t.setLanguage=t.getLanguage=t.configureDates=t.setDateLocaleProvider=t.setScope=t.setCatalog=t.config=void 0;var n=l(r("./node_modules/babel-runtime/regenerator/index.js")),o=l(r("./node_modules/babel-runtime/helpers/asyncToGenerator.js")),a=l(r("./src/plugins/axios.js")),s=l(r("./node_modules/moment/moment.js"));function l(e){return e&&e.__esModule?e:{default:e}}r("./node_modules/moment/locale/fr.js"),r("./node_modules/moment/locale/pt.js"),r("./node_modules/moment/locale/es.js");var u,i,d=window.navigator,c=d.languages&&d.languages[0]||d.language||d.userLanguage,m=t.config={gettextCatalog:{},language:c,scope:{},mdDateLocaleProvider:{}};t.setCatalog=function(e){m.gettextCatalog=e},t.setScope=function(e){m.scope=e},t.setDateLocaleProvider=function(e){m.mdDateLocaleProvider=e},t.configureDates=(u=(0,o.default)(n.default.mark(function e(t){var r;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s.default.locale(t),r=(0,s.default)(),m.mdDateLocaleProvider.months=r.localeData().months(),m.mdDateLocaleProvider.shortMonths=r.localeData().monthsShort(),m.mdDateLocaleProvider.days=r.localeData().weekdays(),m.mdDateLocaleProvider.shortDays=r.localeData().weekdaysShort(),window.moment=r;case 7:case"end":return e.stop()}},e,void 0)})),function(e){return u.apply(this,arguments)}),t.getLanguage=(i=(0,o.default)(n.default.mark(function e(){var r,o;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.default.setLanguageHeader(m.language),e.next=3,a.default.get("/translation/json/");case 3:r=e.sent,o=r.data,m.gettextCatalog.setCurrentLanguage(m.language),m.gettextCatalog.setStrings(m.language,o.catalog),t.configureDates(m.language),m.scope.$digest();case 9:case"end":return e.stop()}},e,void 0)})),function(){return i.apply(this,arguments)}),t.setLanguage=function(e){return m.language=e,t.getLanguage()},t.getCurrentLanguage=function(){return m.language}},"./src/store/modules/countries.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.csvExport=t.getCurrentCountryProjects=t.getCurrentCountryDistrictProjects=t.getCurrentCountryMapData=t.getCurrentCountryFacilityList=t.getCurrentCountrySecondSubLevel=t.getCurrentCountryFirstSubLevel=t.getCurrentCountrySubLevelNames=t.getCountriesLib=t.getCountryCoverPicture=t.getCountryCoverPage=t.getCurrentCountry=t.getCountryFields=t.getCountriesList=t.getCountry=t.mapData=void 0;var n,o=_(r("./node_modules/babel-runtime/core-js/promise.js")),a=_(r("./node_modules/babel-runtime/core-js/object/freeze.js")),s=_(r("./node_modules/babel-runtime/regenerator/index.js")),l=_(r("./node_modules/babel-runtime/helpers/asyncToGenerator.js")),u=_(r("./node_modules/babel-runtime/helpers/extends.js"));t.csvExport=(n=(0,l.default)(s.default.mark(function e(t){var r,n;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.default.post("/api/projects/csv-export/",t);case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)});t.loadCountries=function(){var e=this;return t=(0,l.default)(s.default.mark(function t(r,n){var o,a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n().countries.list.length){e.next=8;break}return e.next=4,i.default.get("/api/countries/");case 4:o=e.sent,(a=o.data).sort(function(e,t){return e.name.localeCompare(t.name)}),r({type:"SET_COUNTRIES_LIST",countries:a});case 8:case"end":return e.stop()}},t,e)})),function(e,r){return t.apply(this,arguments)};var t},t.loadCountryFields=function(e){var t=this;return r=(0,l.default)(s.default.mark(function r(n,o){var a,l,u;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((a=o().countries.countryFields.filter(function(t){return t.country===e}))&&0!==a.length){t.next=8;break}return t.next=4,i.default.get("/api/country-fields/"+e+"/");case 4:l=t.sent,(u=l.data).sort(function(e,t){return e.id-t.id}),n({type:"UPDATE_COUNTRY_FIELDS_LIST",fields:u});case 8:case"end":return t.stop()}},r,t)})),function(e,t){return r.apply(this,arguments)};var r},t.loadCountryMapData=function(){var e=this;return r=(0,l.default)(s.default.mark(function r(n,o){var l,u,d,c;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l=o(),!(u=t.getCurrentCountry(l))||!u.code){e.next=10;break}if(h[u.code]){e.next=10;break}return e.next=7,i.default.get("/static/country-geodata/"+u.code+".json");case 7:d=e.sent,c=d.data,h[u.code]=(0,a.default)(c);case 10:case"end":return e.stop()}},r,e)})),function(e,t){return r.apply(this,arguments)};var r},t.loadCountryLandingPageInfo=function(){var e=this;return r=(0,l.default)(s.default.mark(function r(n,o){var a,l,u;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=t.getCurrentCountry(o()))||!a.code){e.next=7;break}return e.next=4,i.default.get("/api/landing/"+a.code.toUpperCase()+"/");case 4:l=e.sent,u=l.data,n({type:"SET_COUNTRY_COVER_DATA",cover:u});case 7:case"end":return e.stop()}},r,e)})),function(e,t){return r.apply(this,arguments)};var r},t.loadCurrentCountryDistrictsProject=function(){var e=this;return r=(0,l.default)(s.default.mark(function r(n,o){var a,l,u;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=t.getCurrentCountry(o()))||!a.id){e.next=7;break}return e.next=4,i.default.get("/api/projects/by-view/map/"+a.id+"/");case 4:l=e.sent,u=l.data,n({type:"SET_CURRENT_COUNTRY_DISTRICT_PROJECTS",projects:u});case 7:case"end":return e.stop()}},r,e)})),function(e,t){return r.apply(this,arguments)};var r},t.loadCountryProjectsOrAll=function(e){var t=this;return r=(0,l.default)(s.default.mark(function r(n){var o,a,l;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=["/api/projects/by-view/list/"],e&&o.push(e+"/"),t.next=4,i.default.get(o.join(""));case 4:a=t.sent,l=a.data,n({type:"SET_CURRENT_COUNTRY_PROJECTS",projects:l});case 7:case"end":return t.stop()}},r,t)})),function(e){return r.apply(this,arguments)};var r},t.loadCurrentCountryProjects=function(){var e=this;return r=(0,l.default)(s.default.mark(function r(n,o){var a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(a=t.getCurrentCountry(o()))&&n(t.loadCountryProjectsOrAll(a.id));case 2:case"end":return e.stop()}},r,e)})),function(e,t){return r.apply(this,arguments)};var r},t.setCurrentCountry=function(e){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return a=(0,l.default)(s.default.mark(function a(l,u){var i,d;return s.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=u().countries.currentCountry,!e||e===i){r.next=9;break}return l({type:"SET_CURRENT_COUNTRY",country:e}),(d={}).countryFields=l(t.loadCountryFields(e)),d.mapData=l(t.loadCountryMapData()),d.landingPage=l(t.loadCountryLandingPageInfo()),d.districts=l(t.loadCurrentCountryDistrictsProject()),r.abrupt("return",o.default.all(n.map(function(e){return d[e]})));case 9:return r.abrupt("return",o.default.resolve());case 10:case"end":return r.stop()}},a,r)})),function(e,t){return a.apply(this,arguments)};var a},t.setCurrentCountryFromCode=function(e){var r=this;return n=(0,l.default)(s.default.mark(function n(o,a){var l;return s.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:(l=a().countries.list.find(function(t){return t.code.toLocaleLowerCase()===e.toLocaleLowerCase()}))&&l.id?o(t.setCurrentCountry(l.id,["landingPage"])):o({type:"UNSET_CURRENT_COUNTRY"});case 2:case"end":return r.stop()}},n,r)})),function(e,t){return n.apply(this,arguments)};var n},t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments[1];switch(t.type){case"SET_COUNTRIES_LIST":return(0,u.default)({},e,{list:t.countries});case"SET_CURRENT_COUNTRY":return(0,u.default)({},e,{currentCountry:t.country});case"UNSET_CURRENT_COUNTRY":return(0,u.default)({},e,{currentCountry:null,currentCountryCoverPage:{}});case"SET_COUNTRY_COVER_DATA":return(0,u.default)({},e,{currentCountryCoverPage:t.cover});case"UPDATE_COUNTRY_FIELDS_LIST":return(0,u.default)({},e,{countryFields:(0,d.default)(t.fields,e.countryFields,"id")});case"SET_CURRENT_COUNTRY_PROJECTS":return(0,u.default)({},e,{currentCountryProjects:t.projects});case"SET_CURRENT_COUNTRY_DISTRICT_PROJECTS":return(0,u.default)({},e,{currentCountryDistrictsProjects:t.projects});default:return e}};var i=_(r("./src/plugins/axios.js")),d=_(r("./node_modules/lodash/unionBy.js")),c=_(r("./node_modules/lodash/forEach.js")),m=r("./node_modules/reselect/lib/index.js"),f=r("./src/store/modules/projects.js"),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r("./src/store/modules/system.js")),j=r("./src/plugins/language.js");function _(e){return e&&e.__esModule?e:{default:e}}var v={list:[],countryFields:[],currentCountryDistricts:[],currentCountry:null,currentCountryCoverPage:{},currentCountryProjects:[],currentCountryDistrictsProjects:[]},h=t.mapData={},g=(t.getCountry=function(e,t){return e.countries.list.find(function(e){return e.id===t})},t.getCountriesList=(0,m.createSelector)(function(e){return e.countries.list},function(e){return e?e.map(function(e){var t=e.code.toLocaleLowerCase();return(0,u.default)({},e,{code:t,flag:"/static/flags/"+t+".png",prettyName:e.name.split("-").join(" ")})}):[]}));t.getCountryFields=function(e){return e.countries.countryFields.filter(function(t){return t.country===e.countries.currentCountry}).map(function(e){return(0,u.default)({},e)})},t.getCurrentCountry=function(e){return(0,u.default)({},g(e).find(function(t){return t.id===e.countries.currentCountry}))},t.getCountryCoverPage=function(e){var t=(0,u.default)({},e.countries.currentCountryCoverPage),r=p.getLandingPageDefaults(e);return(0,c.default)(r,function(e,r){var n=t[r];null!==n&&void 0!==n&&""!==n||(t[r]=e)}),t.partners=t.default_partners.concat(t.partner_logos),t},t.getCountryCoverPicture=function(e){var r=t.getCountryCoverPage(e);return r.cover?{background:"url("+r.cover+") 0 0","background-size":"cover","background-repeat":"no-repeat"}:null},t.getCountriesLib=function(e){var t={};return e.countries.list&&e.countries.list.forEach(function(e){t[e.id]=e.name}),t},t.getCurrentCountrySubLevelNames=function(e){var r=t.getCurrentCountry(e),n=p.getSubLevelTypes(e);try{var o=n.find(function(e){return e.name===r.map_data.first_sub_level.name}),a=n.find(function(e){return e.name===r.map_data.second_sub_level.name});return[o=o?o.displayName:r.map_data.first_sub_level.name,a=a?a.displayName:r.map_data.second_sub_level.name]}catch(e){return["",""]}},t.getCurrentCountryFirstSubLevel=function(e){var r=(0,j.getCurrentLanguage)(),n=t.getCurrentCountry(e);return n&&n.map_data&&n.map_data.first_sub_level?n.map_data.first_sub_level.elements.map(function(e){return{id:e.name,name:e["name:"+r]||e["name:en"]||e.name}}):[]},t.getCurrentCountrySecondSubLevel=function(e){var r=(0,j.getCurrentLanguage)(),n=t.getCurrentCountry(e);return n&&n.map_data&&n.map_data.second_sub_level?n.map_data.second_sub_level.elements.map(function(e){return{id:e.name,name:e["name:"+r]||e["name:en"]||e.name}}):[]},t.getCurrentCountryFacilityList=function(e){var r=t.getCurrentCountry(e);return r&&r.map_data&&r.map_data.facilities?r.map_data.facilities:[]},t.getCurrentCountryMapData=function(e){var r=t.getCurrentCountry(e);return r.mapData=h[r.code],r.districts=t.getCurrentCountryFirstSubLevel(e),r},t.getCurrentCountryDistrictProjects=function(e){var t={},r=e.countries.currentCountryDistrictsProjects;for(var n in r)t[n]=r[n].map(function(t){return t=(0,u.default)({},t,(0,f.isMemberOrViewer)(e,t))});return t},t.getCurrentCountryProjects=function(e){return e.countries.currentCountryProjects.map(function(t){return t=(0,u.default)({},t,(0,f.isMemberOrViewer)(e,t))})}},"./src/store/modules/projects.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.searchProjects=t.postProjectSaveActions=t.saveCountryFields=t.saveTeamViewers=t.checkCurrentProjectValidity=t.getSimilarProject=t.getCoverageData=t.getMapsDomainData=t.getMapsAxisData=t.getCurrentVersionDate=t.getCurrentVersion=t.getCoverageVersion=t.getToolkitVersion=t.getViewers=t.getTeam=t.getNewProjectForEditing=t.getCurrentDraftProjectForEditing=t.getCurrentEdits=t.getCurrentPublishedProjectForEditing=t.getCurrentProjectForEditing=t.getProjectCountryFields=t.getStoredCountryFields=t.getCurrentDraftInViewMode=t.getCurrentDraft=t.getCurrentPublished=t.parseProjectForViewMode=t.convertCountryFieldsAnswer=t.getCurrentPublicProjectDetails=t.getCurrentPublicProject=t.getCurrentProject=t.getCurrentProjectIfExist=t.getVanillaProject=t.getEmptyProject=t.getUserDefaultProject=t.getUserProjects=t.getProjectStructure=t.getFlatProjectStructure=t.getDraftedProjects=t.getPublishedProjects=t.getSavedProjectList=t.getCurrentProjectId=t.isMemberOrViewer=void 0;var n,o,a,s,l=S(r("./node_modules/babel-runtime/core-js/object/keys.js")),u=S(r("./node_modules/babel-runtime/core-js/json/stringify.js")),i=S(r("./node_modules/babel-runtime/helpers/slicedToArray.js")),d=S(r("./node_modules/babel-runtime/regenerator/index.js")),c=S(r("./node_modules/babel-runtime/core-js/promise.js")),m=S(r("./node_modules/babel-runtime/helpers/asyncToGenerator.js")),f=S(r("./node_modules/babel-runtime/core-js/object/assign.js")),p=S(r("./node_modules/babel-runtime/helpers/typeof.js")),j=S(r("./node_modules/babel-runtime/helpers/toConsumableArray.js")),_=S(r("./node_modules/babel-runtime/helpers/extends.js"));t.saveTeamViewers=(n=(0,m.default)(d.default.mark(function e(t){var r,n=t.id,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={team:o.map(function(e){return e.id}),viewers:a.map(function(e){return e.id})},e.next=3,v.default.put("/api/projects/"+n+"/groups/",r);case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)}),t.saveCountryFields=(o=(0,m.default)(d.default.mark(function e(){var t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments[1],a=arguments[2],s=arguments[3];return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=n.map(function(e){var t=e.country,r=e.question,n=e.type;return{country:t,answer:e.answer,type:n,question:r,project:a}}),s="published"===s?"publish":"draft",e.prev=2,e.next=5,v.default.post("/api/country-fields/"+o+"/"+a+"/"+s+"/",{fields:n});case 5:return t=e.sent,r=t.data,e.abrupt("return",r.fields);case 10:return e.prev=10,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",!1);case 14:case"end":return e.stop()}},e,this,[[2,10]])})),function(){return o.apply(this,arguments)}),t.postProjectSaveActions=(a=(0,m.default)(d.default.mark(function e(r,n,o,a,s,l){var u,m,f,p,j,_,v,h,g,y,b;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=w.getProfile(s).id,m=t.getStoredCountryFields(s)(!0),f=t.saveCountryFields(m,r.draft.country,r.id,l),p=t.saveTeamViewers(r,n,o),e.next=6,c.default.all([p,f]);case 6:if(j=e.sent,_=(0,i.default)(j,2),v=_[0],h=_[1],g=v.team.some(function(e){return e===u})?[r.id]:[],y=v.viewers.some(function(e){return e===u})?[r.id]:[],!1!==h){e.next=16;break}return(b=new Error).response={custom:!0,message:"Failed to save country fields"},e.abrupt("return",c.default.reject(b));case 16:return"published"===l&&(r.published.fields=h),r.draft.fields=h,a({type:"UPDATE_SAVE_PROJECT",project:r}),a({type:"SET_PROJECT_TEAM_VIEWERS",teamViewers:v}),a(w.updateTeamViewers(g,y)),a(C.loadCurrentCountryProjects()),a(C.loadCurrentCountryDistrictsProject()),e.abrupt("return",c.default.resolve(r));case 24:case"end":return e.stop()}},e,this)})),function(e,t,r,n,o,s){return a.apply(this,arguments)}),t.searchProjects=(s=(0,m.default)(d.default.mark(function e(t){var r,n,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.default.post("/api/search/projects/",{health_topic:o,location:a,organisation:s,project_name:l,query:t,technology_platform:u});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)});t.loadUserProjects=function(){var e=this;return r=(0,m.default)(d.default.mark(function r(n,o){var a,s,l;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(a=o()).user.profile||t.getSavedProjectList(a)){e.next=9;break}return e.next=5,v.default.get("/api/projects/member-of/");case 5:s=e.sent,(l=s.data).sort(function(e,t){return t.id-e.id}),n({type:"SET_PROJECT_LIST",projects:l});case 9:return e.abrupt("return",c.default.resolve());case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",c.default.reject(e.t0));case 16:case"end":return e.stop()}},r,e,[[0,12]])})),function(e,t){return r.apply(this,arguments)};var r},t.loadProjectDetails=function(){var e=this;return t=(0,m.default)(d.default.mark(function t(r,n){var o,a,s,l,u,m,f,p,j;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(o=n().projects.currentProject)||-1===o){e.next=15;break}return a=v.default.get("/api/projects/"+o+"/toolkit/versions/"),s=v.default.get("/api/projects/"+o+"/coverage/versions/"),l=v.default.get("/api/projects/"+o+"/groups/"),e.next=8,c.default.all([a,s,l]);case 8:u=e.sent,m=(0,i.default)(u,3),f=m[0],p=m[1],j=m[2],r({type:"SET_PROJECT_INFO",info:{toolkitVersions:f.data,coverageVersions:p.data}}),r({type:"SET_PROJECT_TEAM_VIEWERS",teamViewers:j.data});case 15:return e.abrupt("return",c.default.resolve());case 18:return e.prev=18,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",c.default.reject(e.t0));case 22:case"end":return e.stop()}},t,e,[[0,18]])})),function(e,r){return t.apply(this,arguments)};var t},t.setCurrentProject=function(e){var r=this;return n=(0,m.default)(d.default.mark(function n(o,a){var s,l,u,i,m,f,p,j;return d.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(e=parseInt(e,10))||-1===e||e===a().projects.currentProject){r.next=22;break}if(o({type:"SET_CURRENT_PROJECT",id:e}),!(s=t.getCurrentProjectIfExist(a()))){r.next=9;break}return l=o(C.setCurrentCountry(s.country,["mapData"])),u=o(t.loadProjectDetails()),i=o(P.loadToolkitData()),r.abrupt("return",c.default.all([l,u,i]));case 9:return r.next=11,v.default.get("/api/projects/"+e+"/");case 11:if(m=r.sent,f=m.data,!w.getProfile(a())){r.next=19;break}return r.next=17,v.default.get("/api/projects/"+e+"/groups/");case 17:p=r.sent,o({type:"SET_PROJECT_TEAM_VIEWERS",teamViewers:p.data});case 19:o({type:"SET_CURRENT_PUBLIC_PROJECT_DETAIL",project:f}),r.next=23;break;case 22:-1===e&&(o({type:"SET_CURRENT_PROJECT",id:e}),j={id:-1,draft:{fields:[]},public:{}},o({type:"SET_PROJECT_TEAM_VIEWERS",teamViewers:{team:[],viewers:[]}}),o({type:"UPDATE_SAVE_PROJECT",project:j}));case 23:return r.abrupt("return",c.default.resolve());case 24:case"end":return r.stop()}},n,r)})),function(e,t){return n.apply(this,arguments)};var n},t.snapShotProject=function(){var e=this;return r=(0,m.default)(d.default.mark(function r(n,o){var a;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o().projects.currentProject,e.next=3,v.default.post("/api/projects/"+a+"/version/");case 3:return e.next=5,n(t.loadProjectDetails());case 5:case"end":return e.stop()}},r,e)})),function(e,t){return r.apply(this,arguments)};var r},t.loadProjectStructure=function(e){var r=this;return n=(0,m.default)(d.default.mark(function n(o,a){var s,l,u,i;return d.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(s=a(),l=t.getProjectStructure(s),!(0,g.default)(l)&&!e){r.next=9;break}return r.next=5,v.default.get("/api/projects/structure/");case 5:return u=r.sent,i=u.data,r.next=9,o({type:"SET_PROJECT_STRUCTURE",structure:i});case 9:case"end":return r.stop()}},n,r)})),function(e,t){return n.apply(this,arguments)};var n},t.processForm=function(e){var t=e.organisation?e.organisation.name:"",r=e.organisation?e.organisation.id:null;return e=(0,_.default)({},e,(0,x.retainNationalOrDistrictCoverage)(e)),e=(0,_.default)({},e,{organisation_name:t,organisation:r},(0,x.createDateFields)(e),(0,x.convertObjectArrayToStringArray)(e),(0,x.parseOutInteroperabilityLinks)(e),{coverageType:void 0,platforms:(0,x.parsePlatformCollection)(e)},(0,x.extractIdFromObjects)(e),(0,x.handleNationalLevelCoverage)(e),{coverage:(0,x.handleCoverage)(e.coverage),coverage_second_level:(0,x.handleCoverage)(e.coverage_second_level)}),e=(0,_.default)({},e,(0,x.retainOnlyIds)(e)),e=(0,_.default)({},e,(0,x.removeEmptyChildObjects)(e)),(0,x.removeKeysWithoutValues)(e)},t.saveDraft=function(e,r,n){var o=this;return a=(0,m.default)(d.default.mark(function a(s,l){var u,i,m,f;return d.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e=t.processForm(e),u=e.id?"put":"post",i=e.id?"/api/projects/draft/"+e.id+"/":"/api/projects/draft/",o.prev=3,o.next=6,v.default[u](i,e);case 6:return m=o.sent,f=m.data,o.abrupt("return",t.postProjectSaveActions(f,r,n,s,l(),"draft"));case 11:return o.prev=11,o.t0=o.catch(3),console.log(o.t0),o.abrupt("return",c.default.reject(o.t0));case 15:case"end":return o.stop()}},a,o,[[3,11]])})),function(e,t){return a.apply(this,arguments)};var a},t.discardDraft=function(){var e=this;return r=(0,m.default)(d.default.mark(function r(n,o){var a,s,l,u,i;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.getCurrentPublishedProjectForEditing(o()),s=t.processForm(a),l=t.getStoredCountryFields(o())(!1),e.next=5,v.default.put("/api/projects/draft/"+a.id+"/",s);case 5:return u=e.sent,i=u.data,e.next=9,t.saveCountryFields(l,i.draft.country,i.id,"published");case 9:return i.draft.fields=e.sent,n({type:"UPDATE_SAVE_PROJECT",project:i}),e.abrupt("return",c.default.resolve(i));case 12:case"end":return e.stop()}},r,e)})),function(e,t){return r.apply(this,arguments)};var r},t.publish=function(e,r,n){var o=this;return a=(0,m.default)(d.default.mark(function a(s,l){var u,i;return d.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e=t.processForm(e),o.prev=1,o.next=4,v.default.put("/api/projects/publish/"+e.id+"/",e);case 4:return u=o.sent,i=u.data,o.abrupt("return",t.postProjectSaveActions(i,r,n,s,l(),"published"));case 9:return o.prev=9,o.t0=o.catch(1),console.log(o.t0),o.abrupt("return",c.default.reject(o.t0));case 13:case"end":return o.stop()}},a,o,[[1,9]])})),function(e,t){return a.apply(this,arguments)};var a},t.searchDuplicateProjectName=function(e){var r=this;return n=(0,m.default)(d.default.mark(function n(o){var a;return d.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.searchProjects(e);case 2:a=r.sent,o({type:"SET_SIMILAR_NAME_LIST",list:a});case 4:case"end":return r.stop()}},n,r)})),function(e){return n.apply(this,arguments)};var n},t.clearSimilarNameList=function(){var e=this;return t=(0,m.default)(d.default.mark(function t(r){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r({type:"SET_SIMILAR_NAME_LIST",list:[]});case 1:case"end":return e.stop()}},t,e)})),function(e){return t.apply(this,arguments)};var t},t.updateProjectCountryFields=function(e){var r=e.id,n=e.answer,o=e.question,a=e.type,s=e.country,l=e.schema_id;return function(e,i){var d=t.getCurrentProjectId(i());switch(a){case 3:n=!0===n?"true":"false";break;case 5:n=(0,u.default)(n)}var c={id:r,answer:n,question:o,type:a,country:s,schema_id:l=l||r};e({type:"UPDATE_COUNTRY_FIELD_ANSWER",projectId:d,countryField:c})}},t.updateEditedProject=function(e){return function(t,r){var n={},o=r().projects.editedProject;(0,l.default)(e).forEach(function(t){var r=(0,y.default)(o[t],e[t]);r||(n[t]=e[t])}),(0,l.default)(n).length>0&&t({type:"EDITED_PROJECT_UPDATE",update:n})}},t.resetEditedProject=function(){return function(e){e({type:"EDITED_PROJECT_RESET"})}},t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{editedProject:{}},t=arguments[1];switch(t.type){case"SET_PROJECT_LIST":var r=t.projects.slice();return(0,_.default)({},e,{list:r});case"SET_SIMILAR_NAME_LIST":var n=t.list.slice();return(0,_.default)({},e,{similarProjectNames:n});case"UPDATE_SAVE_PROJECT":var o=[].concat((0,j.default)(e.list)),a=o.findIndex(function(e){return e.id===t.project.id});return-1!==a?o.splice(a,1,(0,_.default)({},t.project)):o.push((0,_.default)({},t.project)),(0,_.default)({},e,{list:o});case"UPDATE_COUNTRY_FIELD_ANSWER":var s=[].concat((0,j.default)(e.list)),l=s.findIndex(function(e){return e.id===t.projectId}),u=[].concat((0,j.default)(s[l].draft.fields)),i=u.findIndex(function(e){return e.schema_id===t.countryField.schema_id});return-1!==i?u.splice(i,1,(0,_.default)({},t.countryField)):u.push((0,_.default)({},t.countryField)),s[l].draft.fields=u,(0,_.default)({},e,{list:s});case"SET_CURRENT_PROJECT":var d=t.id;return(0,_.default)({},e,{currentProject:d});case"SET_CURRENT_PUBLIC_PROJECT_DETAIL":var c=t.project;return(0,_.default)({},e,{currentPublicProject:c});case"SET_PROJECT_STRUCTURE":var m=t.structure;return(0,_.default)({},e,{structure:m});case"SET_PROJECT_INFO":var f=t.info.toolkitVersions,p=t.info.coverageVersions,v=t.info.teamViewers;return(0,_.default)({},e,{toolkitVersions:f,coverageVersions:p,teamViewers:v});case"SET_PROJECT_TEAM_VIEWERS":var h=t.teamViewers;return(0,_.default)({},e,{teamViewers:h});case"CLEAR_USER_PROJECTS":return{structure:e.structure};case"EDITED_PROJECT_UPDATE":return(0,_.default)({},e,{editedProject:(0,_.default)({},e.editedProject,t.update)});case"EDITED_PROJECT_RESET":return(0,_.default)({},e,{editedProject:{}});default:return e}};var v=S(r("./src/plugins/axios.js")),h=S(r("./node_modules/lodash/forOwn.js")),g=S(r("./node_modules/lodash/isEmpty.js")),y=S(r("./node_modules/lodash/isEqual.js")),b=r("./src/store/static_data/project_definition.js"),C=A(r("./src/store/modules/countries.js")),w=A(r("./src/store/modules/user.js")),P=A(r("./src/store/modules/toolkit.js")),E=r("./node_modules/reselect/lib/index.js"),x=r("./src/store/project_utils.js"),k=A(r("./src/store/modules/system.js"));function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}t.isMemberOrViewer=function(e,t){var r=w.getProfile(e);if(r&&r.member&&r.viewer){var n=r.member.indexOf(t.id)>-1,o=!n&&r.viewer.indexOf(t.id)>-1;return{isMember:n,isViewer:o,isTeam:n||o}}return{isMember:!1,isViewer:!1,isTeam:!1}},t.getCurrentProjectId=function(e){return e.projects.currentProject},t.getSavedProjectList=(0,E.createSelector)(function(e){return e.projects.list},function(e){return t.getVanillaProject(e)},function(e,t){if(e)return e.filter(function(e){return-1!==e.id}).map(function(e){return(0,_.default)({},e,{draft:(0,_.default)({},t,{donors:[],implementing_partners:[]},e.draft)})})}),t.getPublishedProjects=function(e){return e.projects.list?t.getSavedProjectList(e).map(function(r){return r=(0,_.default)({},r.published,t.isMemberOrViewer(e,r))}):[]},t.getDraftedProjects=function(e){return e.projects.list?t.getSavedProjectList(e).map(function(r){return r=(0,_.default)({},r.draft,t.isMemberOrViewer(e,r))}):[]},t.getFlatProjectStructure=function(e){var t=e.projects.structure;if(t){var r=[];t.strategies.forEach(function(e){e.subGroups.forEach(function(e){r=[].concat((0,j.default)(r),(0,j.default)(e.strategies.map(function(e){return(0,_.default)({},e)})))})});var n=[];t.health_focus_areas.forEach(function(e){n=[].concat((0,j.default)(n),(0,j.default)(e.health_focus_areas))});var o=[];return t.hsc_challenges.forEach(function(e){o=[].concat((0,j.default)(o),(0,j.default)(e.challenges))}),(0,_.default)({},t,{strategies:r,health_focus_areas:n,hsc_challenges:o})}return{}},t.getProjectStructure=(0,E.createSelector)(function(e){return e.projects.structure},function(e){return(0,_.default)({},e)}),t.getUserProjects=function(e){var r=t.getFlatProjectStructure(e);return e.projects.list?t.getSavedProjectList(e).map(function(n){var o=n.public_id,a=!!o;n=a?(0,_.default)({},n.published):(0,_.default)({},n.draft);var s=C.getCountry(e,n.country);return n=(0,_.default)({},n,t.isMemberOrViewer(e,n),{isPublished:a,public_id:o,country_name:s?s.name:""},(0,x.convertIdArrayToObjectArray)(n,r,x.dashFieldConvertToObject))}):[]},t.getUserDefaultProject=function(e){var t=e&&e.projects?e.projects.list:null;return t&&t[0]&&-1!==t[0].id?""+t[0].id:null},t.getEmptyProject=function(){return(0,_.default)({},b.project_definition)},t.getVanillaProject=function(e){var r=t.getEmptyProject(),n=t.getProjectStructure(e),o=w.getProfile(e);return o&&(r.country=o.country?o.country.id:null,r.organisation=o.organisation?o.organisation:null),n&&(r.interoperability_links=n.interoperability_links),(0,_.default)({},r)},t.getCurrentProjectIfExist=function(e){return t.getUserProjects(e).find(function(t){return t.id===e.projects.currentProject})},t.getCurrentProject=function(e){var r=t.getCurrentProjectIfExist(e);return r||(r=t.getCurrentPublicProject(e))||(r=t.getVanillaProject(e)),(0,_.default)({},r)},t.getCurrentPublicProject=function(e){var t=e.projects.currentPublicProject?e.projects.currentPublicProject:{};if(t&&t.id&&(t=t.published&&t.published.name?t.published:t.draft),null===t)return null;var r=t.country?C.getCountry(e,t.country):void 0;return(0,_.default)({},t,{country_name:r?r.name:t.country_name,isPublic:!0})},t.getCurrentPublicProjectDetails=function(e,r){var n=r?t.getCurrentDraft(e):t.getCurrentPublished(e),o=r?"draft":"published";return n||((n=e.projects.currentPublicProject?e.projects.currentPublicProject[o]:void 0)?(n.hasPublishedVersion=!(!e.projects.currentPublicProject.published||!e.projects.currentPublicProject.published.name),n.disableDraft=!e.projects.currentPublicProject.draft,t.parseProjectForViewMode(e,n)):(0,_.default)({},t.getVanillaProject(e)))},t.convertCountryFieldsAnswer=function(e){return e.map(function(e){switch((e=(0,_.default)({},e)).type){case 2:e.answer=parseInt(e.answer,10);break;case 3:e.answer="true"===e.answer;break;case 5:e.answer=JSON.parse(e.answer)}return e})},t.parseProjectForViewMode=function(e,r){var n=t.getEmptyProject(),o=t.getFlatProjectStructure(e),a=C.getCountry(e,r.country);return r=(0,_.default)({},n,r),r=(0,_.default)({},r,{country_name:a?a.name:""},(0,x.convertIdArrayToObjectArray)(r,o,x.dashFieldConvertToObject),{coverageType:(0,x.setCoverageType)(r.coverage,r.national_level_deployment),coverage_second_level:r.coverage_second_level?r.coverage_second_level:[{}],coverage:r.coverage?r.coverage:[{}]}),(0,_.default)({},r,(0,x.convertIdArrayToObjectArray)(r,o,[{key:"platforms.strategies",structure_key:"strategies"}]),{hasPublishedVersion:void 0===r.hasPublishedVersion||r.hasPublishedVersion})},t.getCurrentPublished=function(e){var r=t.getPublishedProjects(e).find(function(t){return t.id===e.projects.currentProject});if(r)return t.parseProjectForViewMode(e,r)},t.getCurrentDraft=function(e){var r=t.getDraftedProjects(e).find(function(t){return t.id===e.projects.currentProject});if(r)return(0,_.default)({},r,{hasPublishedVersion:!!t.getPublishedProjects(e).find(function(t){return t.id===e.projects.currentProject})})},t.getCurrentDraftInViewMode=function(e){var r=t.getCurrentDraft(e);if(r)return t.parseProjectForViewMode(e,r)},t.getStoredCountryFields=function(e){return function(r){var n=r?t.getCurrentDraft(e):t.getCurrentPublished(e);if(void 0===n){var o=e.projects.list.find(function(e){return-1===e.id});o&&(n=o.draft)}return n?n.fields:[]}},t.getProjectCountryFields=function(e){return function(r){var n=C.getCountryFields(e),o=t.convertCountryFieldsAnswer(t.getStoredCountryFields(e)(r)),a=n.map(function(e){var t=o.find(function(t){return t.schema_id===e.id});return(0,_.default)({},e,{answer:t?t.answer:e.answer})});return[].concat((0,j.default)(a))}},t.getCurrentProjectForEditing=function(e,r){var n=t.getFlatProjectStructure(e);return r||(r=t.getVanillaProject(e)),r.start_date=(0,x.convertDate)(r.start_date),r.implementation_dates=(0,x.convertDate)(r.implementation_dates),r.end_date=(0,x.convertDate)(r.end_date),r=(0,x.convertStringArrayToObjectArray)(r),r=(0,x.fillEmptyCollectionsWithDefault)(r),"object"!==(0,p.default)(r.organisation)&&(r.organisation={id:r.organisation,name:r.organisation_name}),(r=(0,_.default)({},r,t.isMemberOrViewer(e,r),(0,x.convertIdArrayToObjectArray)(r,n,x.fieldToConvertToObject),(0,x.handleInteroperabilityLinks)(r,n))).forceSetCoverage?r.forceSetCoverage=void 0:r.coverageType=(0,x.setCoverageType)(r.coverage,r.national_level_deployment),(0,_.default)({},b.project_definition,r)},t.getCurrentPublishedProjectForEditing=function(e){var r=t.getPublishedProjects(e).find(function(t){return t.id===e.projects.currentProject});if(r)return t.getCurrentProjectForEditing(e,r)},t.getCurrentEdits=function(e){var t=e.projects.editedProject;return(0,_.default)({},t,{forceSetCoverage:!!t.coverageType})},t.getCurrentDraftProjectForEditing=function(e){var r=(0,_.default)({},t.getCurrentDraft(e),t.getCurrentEdits(e));return t.getCurrentProjectForEditing(e,r)},t.getNewProjectForEditing=function(e){var r=t.getVanillaProject(e);return(0,_.default)({},r,t.getCurrentEdits(e))},t.getTeam=function(e){return e.projects.teamViewers?e.projects.teamViewers.team.map(function(t){return e.system.profiles.find(function(e){return e.id===t})}):[]},t.getViewers=function(e){return e.projects.teamViewers?e.projects.teamViewers.viewers.map(function(t){return e.system.profiles.find(function(e){return e.id===t})}):[]},t.getToolkitVersion=function(e){var t=e.projects.toolkitVersions;return t?t.slice():[]},t.getCoverageVersion=function(e){var t=e.projects.coverageVersions;return t?t.slice():[]},t.getCurrentVersion=function(e){return t.getToolkitVersion(e).length},t.getCurrentVersionDate=function(e){var r=t.getToolkitVersion(e).slice(-1)[0];return r?r.modified:null},t.getMapsAxisData=function(e){var r={labels:k.getAxis(e).map(function(e){return e.name}),data:[]},n=t.getToolkitVersion(e),o=P.getToolkitData(e),a=(0,x.getTodayString)();if(n.length>0&&(r.data=n.map(function(e){return{date:e.modified.split("T")[0],axis1:e.data[0].axis_score/100,axis2:e.data[1].axis_score/100,axis3:e.data[2].axis_score/100,axis4:e.data[3].axis_score/100,axis5:e.data[4].axis_score/100,axis6:e.data[5].axis_score/100}})),6===o.length){var s={axis1:o[0].axis_score/100,axis2:o[1].axis_score/100,axis3:o[2].axis_score/100,axis4:o[3].axis_score/100,axis5:o[4].axis_score/100,axis6:o[5].axis_score/100,date:a};r.data.push(s)}return r},t.getMapsDomainData=function(e){var r=k.getDomains(e),n=k.getAxis(e),o={labels:n.map(function(e){return e.name})},a=t.getToolkitVersion(e),s=P.getToolkitData(e),l=(0,x.getTodayString)();return n.forEach(function(e,t){if(o[e.name]={labels:r.filter(function(t){return t.axis===e.id}).map(function(e){return e.name}),data:[]},a.length>0&&(o[e.name].data=a.map(function(e){var r={};return r.date=e.modified.split("T")[0],e.data[t].domains.forEach(function(e,t){r["axis"+(t+1)]=e.domain_percentage/100}),r})),s.length>0){var n={date:l};s[t].domains.forEach(function(e,t){n["axis"+(t+1)]=e.domain_percentage/100}),o[e.name].data.push(n)}}),o},t.getCoverageData=function(e){var r=t.getCoverageVersion(e),n=t.getCurrentProject(e),o=n.coverage?n.coverage.slice():[];o.push((0,f.default)({},n.national_level_deployment)),r.push({data:o});var a=(0,x.getTodayString)();return r.reduce(function(e,t,r){return e.data[r]={},e.data[r].date=t.modified?t.modified.split("T")[0]:a,t.data.forEach(function(t){(0,h.default)(t,function(t,n){var o=["clients","facilities","health_workers"].indexOf(n);if(o>-1){var a="axis"+(o+1);e.data[r][a]=(e.data[r][a]||0)+t}})}),e},{labels:[],data:[]})},t.getSimilarProject=function(e){var r=t.getPublishedProjects(e);return e.projects.similarProjectNames?e.projects.similarProjectNames.map(function(e){return(e=(0,f.default)({},e)).isOwn=r.some(function(t){return t.id===e.id}),e}):[]},t.checkCurrentProjectValidity=function(e){var t=e.projects.currentPublicProject;return t&&""===t.public_id&&null===t.draft?{isValid:!1,id:t.id}:{isValid:!0}}},"./src/store/modules/system.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addOrganisation=t.searchOrganisation=t.getSubLevelTypes=t.getDomainsForThematic=t.getThematicOverview=t.getQuestions=t.getDomains=t.getAxis=t.getLandingPageDefaults=t.getSearchFilters=t.getLanguages=t.getSearchResult=t.getUserProfiles=void 0;var n,o,a=f(r("./node_modules/babel-runtime/regenerator/index.js")),s=f(r("./node_modules/babel-runtime/helpers/asyncToGenerator.js")),l=f(r("./node_modules/babel-runtime/helpers/toConsumableArray.js")),u=f(r("./node_modules/babel-runtime/helpers/extends.js"));t.searchOrganisation=(n=(0,s.default)(a.default.mark(function e(t){var r,n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.default.get("/api/organisations/?name="+t);case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)}),t.addOrganisation=(o=(0,s.default)(a.default.mark(function e(t){var r,n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.default.post("/api/organisations/",{name:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)});t.loadUserProfiles=function(){var e=this;return t=(0,s.default)(a.default.mark(function t(r){var n,o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.default.get("/api/userprofiles/");case 2:n=e.sent,o=n.data,r({type:"SET_USER_PROFILES",profiles:o});case 5:case"end":return e.stop()}},t,e)})),function(e){return t.apply(this,arguments)};var t},t.loadStaticData=function(){var e=this;return t=(0,s.default)(a.default.mark(function t(r){var n,o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.default.get("/api/static-data/");case 2:n=e.sent,o=n.data,r({type:"SET_AXIS",axis:o.axis}),r({type:"SET_DOMAINS",domains:o.domains}),r({type:"SET_LANDING_PAGE_DEFAULTS",landing_page_defaults:o.landing_page_defaults}),r({type:"SET_LANGUAGES",languages:o.languages}),r({type:"SET_SEARCH_FILTERS",search_filters:o.search_filters}),r({type:"SET_THEMATIC_OVERVIEW",thematic_overview:o.thematic_overview}),r({type:"SET_TOOLKIT_QUESTIONS",toolkit_questions:o.toolkit_questions}),r({type:"SET_SUB_LEVEL_TYPES",sub_level_types:o.sub_level_types});case 12:case"end":return e.stop()}},t,e)})),function(e){return t.apply(this,arguments)};var t},t.searchProjects=function(e,t){var r=this;return n=(0,s.default)(a.default.mark(function n(o){var s,l,u,d,c;return a.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:for(l in s={query:e},t)u=t[l],s[u.name]=u.value;return r.next=4,i.default.post("/api/search/projects/",s);case 4:d=r.sent,c=d.data,o({type:"SET_PROJECT_SEARCH_RESULT",projects:c});case 7:case"end":return r.stop()}},n,r)})),function(e){return n.apply(this,arguments)};var n},t.unsetSearchedProjects=function(){return function(e){e({type:"UNSET_PROJECT_SEARCH_RESULT"})}},t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments[1];switch(t.type){case"SET_USER_PROFILES":return(0,u.default)({},e,{profiles:t.profiles});case"SET_PROJECT_SEARCH_RESULT":return(0,u.default)({},e,{projectSearch:t.projects});case"UNSET_PROJECT_SEARCH_RESULT":return(0,u.default)({},e,{projectSearch:[]});case"SET_AXIS":return(0,u.default)({},e,{axis:t.axis});case"SET_DOMAINS":return(0,u.default)({},e,{domains:t.domains});case"SET_LANDING_PAGE_DEFAULTS":return(0,u.default)({},e,{landing_page_defaults:t.landing_page_defaults});case"SET_LANGUAGES":return(0,u.default)({},e,{languages:t.languages});case"SET_SEARCH_FILTERS":return(0,u.default)({},e,{search_filters:t.search_filters});case"SET_THEMATIC_OVERVIEW":return(0,u.default)({},e,{thematic_overview:t.thematic_overview});case"SET_TOOLKIT_QUESTIONS":return(0,u.default)({},e,{toolkit_questions:t.toolkit_questions});case"SET_SUB_LEVEL_TYPES":return(0,u.default)({},e,{sub_level_types:t.sub_level_types});default:return e}};var i=f(r("./src/plugins/axios.js")),d=m(r("./src/store/modules/projects.js")),c=m(r("./src/store/modules/countries.js"));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}var p={profiles:[],search_filters:[],languages:[],projectSearch:[],thematic_overview:[],axis:[],domains:[],landing_page_defaults:{},toolkit_questions:[],sub_level_types:[]};t.getUserProfiles=function(e){return e.system.profiles?e.system.profiles.slice():[]},t.getSearchResult=function(e){return(e.system.projectSearch?e.system.projectSearch:[]).map(function(t){var r=c.getCountry(e,t.country);return(0,u.default)({},t,d.isMemberOrViewer(e,t),{country_name:r?r.name:""})})},t.getLanguages=function(e){return e.system.languages.map(function(e){return(0,u.default)({},e,{flag:"/static/flags/"+e.flag})})},t.getSearchFilters=function(e){return[].concat((0,l.default)(e.system.search_filters))},t.getLandingPageDefaults=function(e){return(0,u.default)({},e.system.landing_page_defaults)},t.getAxis=function(e){return[].concat((0,l.default)(e.system.axis))},t.getDomains=function(e){return[].concat((0,l.default)(e.system.domains))},t.getQuestions=function(e){return[].concat((0,l.default)(e.system.toolkit_questions))},t.getThematicOverview=function(e){var t=e.system.thematic_overview;return t.categories.map(function(e){return(0,u.default)({},e,{domains:t.sub_categories.filter(function(t){return t.category===e.id})})})},t.getDomainsForThematic=function(e){var r=t.getAxis(e),n=t.getDomains(e),o=t.getThematicOverview(e);return[].concat((0,l.default)(o.map(function(e){return{name:e.name,domains:e.domains}})),(0,l.default)(r.map(function(e){return{name:e.name,domains:n.filter(function(t){return t.axis===e.id}).map(function(e){return{name:e.name}})}})))},t.getSubLevelTypes=function(e){return[].concat((0,l.default)(e.system.sub_level_types.map(function(e){return(0,u.default)({},e)})))}},"./src/store/modules/toolkit.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAxisDetail=t.getDomainStructure=t.getStructure=t.getToolkitData=void 0;var n=d(r("./node_modules/babel-runtime/regenerator/index.js")),o=d(r("./node_modules/babel-runtime/core-js/promise.js")),a=d(r("./node_modules/babel-runtime/helpers/asyncToGenerator.js")),s=d(r("./node_modules/babel-runtime/helpers/extends.js"));t.loadToolkitData=m,t.saveAnswer=function(e){var t=this;return r=(0,a.default)(n.default.mark(function r(a,s){var l,i,d;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(l=s().projects.currentProject)){t.next=9;break}return t.next=5,u.default.post("/api/projects/"+l+"/toolkit/score/",e);case 5:i=t.sent,d=i.data,a({type:"UPDATE_TOOLKIT_DATA",data:d}),a(m());case 9:return t.abrupt("return",o.default.resolve());case 12:return t.prev=12,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",o.default.reject(t.t0));case 16:case"end":return t.stop()}},r,t,[[0,12]])})),function(e,t){return r.apply(this,arguments)};var r},t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case"SET_TOOLKIT_DATA":return(0,s.default)({},e,{toolkitData:t.data});case"UPDATE_TOOLKIT_DATA":var r=t.data,n=(0,l.default)(e.toolkitData);return n[r.axis].domains[r.domain].questions[r.question].answers[r.answer]=r.value,(0,s.default)({},e,{toolkitData:n});case"CLEAR_TOOLKIT_DATA":return(0,s.default)({},c);default:return e}};var l=d(r("./node_modules/lodash/cloneDeep.js")),u=d(r("./src/plugins/axios.js")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r("./src/store/modules/system.js"));function d(e){return e&&e.__esModule?e:{default:e}}var c={toolkitData:[]};t.getToolkitData=function(e){var t=e.toolkit.toolkitData;return t?(0,l.default)(t):[]},t.getStructure=function(e){var t=i.getAxis(e),r=i.getDomains(e),n=i.getQuestions(e);return t.map(function(e){return(0,s.default)({},e,{domains:r.filter(function(t){return t.axis===e.id}).map(function(e){return(0,s.default)({},e,{questions:n.filter(function(t){return t.domain===e.id}).map(function(e){return(0,s.default)({},e,{id:e.domain+"-"+e.question_id})})})})})})},t.getDomainStructure=function(e,r,n){var o=t.getStructure(e);return o&&o[r]&&o[r].domains[n]?o[r].domains[n]:{}},t.getAxisDetail=function(e,r){var n=i.getAxis(e).find(function(e){return e.id===r}),o=i.getDomains(e),a=t.getToolkitData(e).find(function(e){return e.id===r}),l=a?a.domains.map(function(e,t){return(0,s.default)({},e,o.find(function(t){return t.id===e.id}),{index:t})}):[];return(0,s.default)({},n,a,{domains:l})};function m(){var e,t=this;return e=(0,a.default)(n.default.mark(function e(r,a){var s,l,i;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(s=a().projects.currentProject)){e.next=8;break}return e.next=5,u.default.get("/api/projects/"+s+"/toolkit/data/");case 5:l=e.sent,i=l.data,r({type:"SET_TOOLKIT_DATA",data:i});case 8:return e.abrupt("return",o.default.resolve());case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",o.default.reject(e.t0));case 14:case"end":return e.stop()}},e,t,[[0,11]])})),function(t,r){return e.apply(this,arguments)}}},"./src/store/modules/user.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetPassword=t.verifyEmail=t.handleProfile=t.storeData=t.isSuperUser=t.getUserLanguage=t.getProfile=void 0;var n,o,a=h(r("./node_modules/babel-runtime/core-js/object/assign.js")),s=h(r("./node_modules/babel-runtime/core-js/promise.js")),l=h(r("./node_modules/babel-runtime/regenerator/index.js")),u=h(r("./node_modules/babel-runtime/helpers/asyncToGenerator.js")),i=h(r("./node_modules/babel-runtime/helpers/extends.js"));t.verifyEmail=(n=(0,u.default)(l.default.mark(function e(t){var r,n;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.default.post("/api/rest-auth/registration/verify-email/",t);case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)}),t.resetPassword=(o=(0,u.default)(l.default.mark(function e(t){var r,n;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.default.post("/api/rest-auth/password/reset/",t);case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)});t.loadProfile=function(){var e=this;return r=(0,u.default)(l.default.mark(function r(n,o){var a,s,u,i;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o(),!g.get("login")||a.user.profile){e.next=10;break}return s=a.user.user_profile_id||g.get("user_profile_id"),e.next=5,d.default.get("/api/userprofiles/"+s+"/");case 5:u=e.sent,i=u.data,i=t.handleProfile(i),(0,_.setLanguage)(i.language),n({type:"SET_PROFILE",profile:i});case 10:case"end":return e.stop()}},r,e)})),function(e,t){return r.apply(this,arguments)};var r},t.doSignup=function(e){var r=this,n=e.account_type,o=e.password1,a=e.password2,i=e.email;return c=(0,u.default)(l.default.mark(function e(u){var c,m,f;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.default.post("/api/rest-auth/registration/",{account_type:n,password1:o,password2:a,email:i});case 3:return c=e.sent,(m=c.data).token=m.key,m.is_superuser=!1,t.storeData(m,i),u({type:"SET_USER",user:m}),e.next=11,u(t.loadProfile());case 11:return e.abrupt("return",s.default.resolve());case 14:return e.prev=14,e.t0=e.catch(0),f=e.t0.response,e.abrupt("return",s.default.reject(f.data));case 18:case"end":return e.stop()}},e,r,[[0,14]])})),function(e){return c.apply(this,arguments)};var c},t.doLogin=function(e){var r=this,n=e.username,o=e.password;return a=(0,u.default)(l.default.mark(function e(a){var u,i,c;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.default.post("/api/api-token-auth/",{username:n,password:o});case 3:return u=e.sent,i=u.data,t.storeData(i,n),a({type:"SET_USER",user:i}),e.next=9,a(t.loadProfile());case 9:return e.next=11,a(f.loadUserProjects());case 11:return e.abrupt("return",s.default.resolve());case 14:return e.prev=14,e.t0=e.catch(0),c=e.t0.response,e.abrupt("return",s.default.reject(c.data));case 18:case"end":return e.stop()}},e,r,[[0,14]])})),function(e){return a.apply(this,arguments)};var a},t.saveProfile=function(e){var r=this;return n=(0,u.default)(l.default.mark(function n(o,s){var u,i,c,m,j,v,h;return l.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return u=s(),i=u.user.user_profile_id||g.get("user_profile_id"),c=i?"/api/userprofiles/"+i+"/":"/api/userprofiles/",m=i?"put":"post",(j=(0,a.default)({},e)).organisation=j.organisation.id,j.country=j.country.id,r.next=9,d.default[m](c,j);case 9:v=r.sent,h=v.data,h=t.handleProfile(h),(0,_.setLanguage)(h.language),o({type:"SET_PROFILE",profile:h}),o(p.loadStaticData()),o(f.loadProjectStructure(!0));case 16:case"end":return r.stop()}},n,r)})),function(e,t){return n.apply(this,arguments)};var n},t.doLogout=function(){return function(e){g.clear(),d.default.unSetAuthToken();try{e({type:"CLEAR_USER_PROJECTS"}),e({type:"CLEAR_TOOLKIT_DATA"}),e({type:"CLEAR_CMS_DATA"})}catch(e){console.warn(e)}try{e({type:"UNSET_USER"})}catch(e){console.warn(e)}}},t.updateTeamViewers=function(e,t){return function(r,n){var o=n().user.profile.member,a=n().user.profile.viewer,s=(0,c.default)(o,e),l=(0,c.default)(a,t);s.length===o.length&&l.length===a.length||r({type:"UPDATE_TEAM_VIEWER",member:s,viewer:l})}},t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case"SET_USER":return(0,i.default)({},e,t.user);case"SET_PROFILE":var r=e.profile?(0,i.default)({},e.profile,t.profile):(0,i.default)({},t.profile);return(0,i.default)({},e,{profile:r});case"UPDATE_TEAM_VIEWER":var n=e.profile||{};return n.member=t.member,n.viewer=t.viewer,(0,i.default)({},e,{profile:n});case"UNSET_USER":return{};default:return e}};var d=h(r("./src/plugins/axios.js")),c=h(r("./node_modules/lodash/union.js")),m=h(r("./src/Storage.js")),f=v(r("./src/store/modules/projects.js")),p=v(r("./src/store/modules/system.js")),j=v(r("./src/store/modules/countries.js")),_=r("./src/plugins/language.js");function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function h(e){return e&&e.__esModule?e:{default:e}}var g=new m.default;t.getProfile=function(e){if(e.user.profile){var t=j.getCountriesList(e),r=void 0;return t&&t.length>0&&(r=(0,i.default)({},t.find(function(t){return t.id===e.user.profile.country}))),(0,i.default)({},e.user.profile,{country:r})}},t.getUserLanguage=function(e){var t=p.getLanguages(e),r=e&&e.user&&e.user.profile?e.user.profile.language:void 0;return t.find(function(e){return e.code===r})},t.isSuperUser=function(e){return e.user.profile.is_superuser},t.storeData=function(e,t){g.set("token",e.token),g.set("user_profile_id",e.user_profile_id),g.set("is_superuser",e.is_superuser),g.set("email",t),g.set("login",!0),d.default.setAuthToken(e.token)},t.handleProfile=function(e){return e.email=g.get("email"),e.is_superuser=g.get("is_superuser"),e.organisation?(e.organisation_id=e.organisation,e.organisation={name:e.organisation_name||"",id:e.organisation_id}):e.organisation=null,e}},"./src/store/project_utils.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTodayString=t.dashFieldConvertToObject=t.fieldToConvertToObject=t.fieldToForceToInt=t.fieldsToMapWithId=t.fieldsToConvertToObjectArray=t.fieldsWithCustomValue=void 0;var n=p(r("./node_modules/babel-runtime/core-js/number/is-nan.js")),o=p(r("./node_modules/babel-runtime/core-js/object/keys.js")),a=p(r("./node_modules/babel-runtime/core-js/object/assign.js")),s=p(r("./node_modules/babel-runtime/helpers/extends.js"));t.concatCustom=g,t.mergeCustomAndDefault=function(e){var t={};return j.forEach(function(r){t[r]=g(e[r])}),(0,s.default)({},t)},t.parsePlatformCollection=function(e){return e.platforms.map(function(e){var t=e.id,r=e.strategies&&e.strategies.length>0?e.strategies:[];return e={},t&&(e.id=t),r&&(e.strategies=r.map(function(e){return e.id}).filter(function(e){return e})),t?e:void 0})},t.convertDate=function(e){if(e)return(0,f.default)(e,"YYYY-MM-DDTHH:mm:ss.SSSZ").toDate();return},t.convertStringArrayToObjectArray=function(e){return _.forEach(function(t){e[t]&&(e[t]=e[t].map(function(e){return"string"==typeof e?{value:e}:e}),0===e[t].length&&e[t].push({}))}),(0,a.default)({},e)},t.convertObjectArrayToStringArray=function(e){var t={};return _.forEach(function(r){e[r]&&(t[r]=e[r].map(function(e){return e.value}).filter(function(e){return e}))}),(0,s.default)({},t)},t.fillEmptyCollectionsWithDefault=function(e){return e.coverage=(0,d.default)(e.coverage)?[{}]:e.coverage,e.coverage_second_level=(0,d.default)(e.coverage_second_level)?[{}]:e.coverage_second_level,e.platforms=(0,d.default)(e.platforms)?[{}]:e.platforms,(0,s.default)({},e)},t.setCoverageType=function(e,t){var r=null;t&&(t.clients||t.facilities||t.health_workers)?r=2:e&&e.length>1?r=1:e&&Array.isArray(e)&&e[0]&&e[0].district&&(r=1);return r},t.createDateFields=function(e){var t=e.start_date?(0,f.default)(e.start_date).toJSON():null,r=e.end_date?(0,f.default)(e.end_date).toJSON():null,n=e.implementation_dates?(0,f.default)(e.implementation_dates).toJSON():null;return{start_date:t,end_date:r,implementation_dates:n}},t.deleteUndefinedAndDoubleDollarKeys=y,t.removeEmptyChildObjects=function(e){var t={};return["coverage","platforms","his_bucket","hsc_challenges","publications","links","reports"].forEach(function(r){e[r]&&(t[r]=e[r].filter(function(e){return"number"==typeof e||((e=y(e=(0,s.default)({},e))).hasOwnProperty("available")&&delete e.available,(0,o.default)(e).length>0)}))}),(0,s.default)({},t)},t.removeKeysWithoutValues=function(e){var t={};for(var r in e){var n=e[r];(null!==n&&void 0!==n&&""!==n||(0,u.default)(n)&&(0,m.default)(n).some(function(e){return!(0,i.default)(e)}))&&(t[r]=n)}return t},t.retainNationalOrDistrictCoverage=function(e){var t=null,r=null;1===e.coverageType?r=e.coverage.map(function(e){return(0,s.default)({},e)}):t=(0,s.default)({},e.national_level_deployment);return{national_level_deployment:t,coverage:r}},t.extractIdFromObjects=function(e){var t={};return v.forEach(function(r){t[r]=e[r].map(function(e){return e.id}).filter(function(e){return e})}),t},t.parseOutInteroperabilityLinks=function(e){return{interoperability_links:e.interoperability_links.filter(function(e){return e&&e.id}).map(function(e){return{id:e.id,link:e.link,selected:e.selected}})}},t.convertIdArrayToObjectArray=function(e,t,r){var n={};return r.forEach(function(r){var o=r.structure_key;if(2===(r=r.key.split(".")).length){var a=r[0];r=r[1],n[a]=e[a].map(function(e){return(e=(0,s.default)({},e))[r]&&(e[r]=b(e[r],t,r,o)),e})}else 1===r.length&&(r=r[0],n[r]=b(e[r],t,r,o))}),n},t.handleInteroperabilityLinks=function(e,t){return{interoperability_links:t.interoperability_links.map(function(t){var r=e.interoperability_links.find(function(e){return e.id===t.id}),n=r||{},o=n.selected,a=n.link;return(0,s.default)({},t,{selected:o,link:a})})}},t.retainOnlyIds=function(e){var t={};return h.forEach(function(r){t[r]=e[r].filter(function(e){return!(0,n.default)(parseInt(e,10))})}),t},t.handleNationalLevelCoverage=function(e){var t=e.national_level_deployment;return{national_level_deployment:C((0,s.default)({},t))}},t.handleCoverage=function(e){return(e=e||[]).map(function(e){return C(e)}).filter(function(e){return e})};var l=p(r("./node_modules/lodash/concat.js")),u=p(r("./node_modules/lodash/isPlainObject.js")),i=p(r("./node_modules/lodash/isNull.js")),d=p(r("./node_modules/lodash/isEmpty.js")),c=p(r("./node_modules/lodash/isNil.js")),m=p(r("./node_modules/lodash/values.js")),f=p(r("./node_modules/moment/moment.js"));function p(e){return e&&e.__esModule?e:{default:e}}var j=t.fieldsWithCustomValue=["interoperability_standards","licenses"],_=t.fieldsToConvertToObjectArray=["donors","implementing_partners"],v=t.fieldsToMapWithId=["health_focus_areas"],h=t.fieldToForceToInt=["his_bucket","hsc_challenges"];t.fieldToConvertToObject=[{key:"platforms.strategies",structure_key:"strategies"},{key:"health_focus_areas",structure_key:"health_focus_areas"}],t.dashFieldConvertToObject=[{key:"health_focus_areas",structure_key:"health_focus_areas"},{key:"platforms",structure_key:"technology_platforms"},{key:"licenses",structure_key:"licenses"},{key:"hsc_challenges",structure_key:"hsc_challenges"},{key:"his_bucket",structure_key:"his_bucket"},{key:"interoperability_standards",structure_key:"interoperability_standards"}],t.getTodayString=function(){var e=new Date;return[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-")};function g(e){return(0,l.default)(e.custom,e.standard).filter(function(e){return!(0,c.default)(e)&&!(0,d.default)(e)})}function y(e){var t={};return(0,o.default)(e).forEach(function(r){void 0!==e[r]&&"$$hashKey"!==r&&(t[r]=e[r])}),t}function b(e,t,r,o){return e.map(function(e){return!(0,n.default)(parseInt(e,10))?t[o].find(function(t){return t.id===e}):(0,s.default)({},e,t[o].find(function(t){return t.id===e.id}))}).filter(function(e){return e})}function C(e){if(e={district:e.district,clients:e.clients,health_workers:e.health_workers,facilities:e.facilities,facilities_list:e.facilities_list},!((0,c.default)(e.clients)&&(0,c.default)(e.health_workers)&&(0,c.default)(e.facilities)))return e.clients=(0,c.default)(e.clients)?0:e.clients,e.health_workers=(0,c.default)(e.health_workers)?0:e.health_workers,e.facilities=(0,c.default)(e.facilities)?0:e.facilities,e}},"./src/store/static_data/project_definition.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.project_definition={name:null,organisation:{id:void 0,name:""},country:null,countryName:null,coverage:[{}],coverage_second_level:[{}],coverageType:1,start_date:void 0,end_date:void 0,platforms:[{name:null,strategies:[]}],licenses:[],fields:[],donors:[{}],application:[],reports:[{}],publications:[{}],links:[{}],contact_name:null,contact_email:null,implementation_overview:null,implementation_dates:null,geographic_scope:null,interoperability_links:[],interoperability_standards:[],wiki:"",repository:"",mobile_application:"",implementing_partners:[{}],data_exchanges:[],his_bucket:[],hsc_challenges:[],health_focus_areas:[],government_investor:void 0}}}]);