<div class="project-section section-strategy" md-whiteframe="2">
  <div class="section-title md-title">
    2. Strategies
    <span class="toggler" ng-click="vm.collapse()"><i class="material-icons">&#xE313;</i></span>
  </div>

  <div class="section-wrapper">
    <h6 class="first">Add one or more platform and related strategies:</h6>

    <div class="input-group" ng-class="{last: $last}" ng-repeat="platform in vm.project.platforms">
      <div layout="column" >
        <div layout="row">
          <md-input-container class="md-block" flex="50">
            <label>Platform</label>
            <md-select ng-model="platform.name" name="{{'platform-name_' + $index }}" required>
              <md-option ng-value="plat" ng-repeat="plat in vm.structure.technology_platforms">
                {{plat}}
              </md-option>
            </md-select>
            <div ng-messages="vm.form['platform-name_' + $index].$error">
              <div ng-message="required">This is required.</div>
            </div>
          </md-input-container>
        </div>
        <div layout="row">
          <md-input-container class="md-block" flex="50">
            <label>Strategies (select multiple)</label>
            <md-select ng-model="platform.strategies"
                       name="{{'platform-strategy_' + $index }}"
                       multiple required>
              <md-option ng-value="strategy" ng-repeat="strategy in vm.structure.strategies">
                {{strategy}}
              </md-option>
            </md-select>
            <div ng-messages="vm.form['platform-strategy_' + $index].$error">
              <div ng-message="required">This is required.</div>
            </div>
          </md-input-container>
          <div class="add-more-item" flex>
            <div layout="row" layout-align="start end">
              <md-button class="md-primary" aria-label="Add more"
                         ng-show="vm.showAddMore($index, vm.project.platforms)"
                         ng-click="vm.addChild('platforms')">
                <md-icon><i class="material-icons">&#xE145;</i></md-icon> Add more
              </md-button>
              <md-button class="md-warn" aria-label="Remove"
                         ng-show="vm.showRemove($index, vm.project.platforms)"
                         ng-click="vm.removeChild($index, 'platforms')">
                <md-icon><i class="material-icons">&#xE15B;</i></md-icon> Remove
              </md-button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="section-wrapper alt">
    <div layout="row" class="first">
      <md-input-container class="md-block" flex>
        <label>HIS buckets (select from list)</label>
        <md-select ng-model="vm.project.his_bucket" name="his" required multiple>
          <md-option value="{{his}}" ng-repeat="his in vm.structure.his_bucket">
            {{his}}
          </md-option>
        </md-select>
        <div ng-messages="vm.form.his.$error">
          <div ng-message="required">This is required.</div>
        </div>
      </md-input-container>
    </div>

    <div layout="row">
      <md-input-container class="md-block" flex>
        <label>HSC challenges (select from list)</label>
        <md-select ng-model="vm.project.hsc_challenges" name="hsc" required multiple>
          <md-option value="{{hsc}}" ng-repeat="hsc in vm.structure.hsc_challenges">
            {{hsc}}
          </md-option>
        </md-select>
         <div ng-messages="vm.form.hsc.$error">
              <div ng-message="required">This is required.</div>
            </div>
      </md-input-container>
    </div>

    <div layout="row">
      <md-input-container class="md-block" flex>
        <label>Essential interventions (select from list)</label>
        <md-select ng-model="vm.project.interventions" multiple>
          <md-option value="{{intervention}}" ng-repeat="intervention in vm.structure.interventions">
            {{intervention}}
          </md-option>
        </md-select>
      </md-input-container>
    </div>
  </div>
</div>
