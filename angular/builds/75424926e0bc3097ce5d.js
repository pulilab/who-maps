(window.webpackJsonp=window.webpackJsonp||[]).push([[106,4,12,13,15,16,17,18,104,107,108,109,110,113,114,115,116,117,118,119,120,121,122,123,124,540,541,542,543,567,568,569,570,571,572,573,593,594,595,596,597,598,599],{"./node_modules/@uirouter/core/lib/common/common.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/common/predicates.js"),o=n("./node_modules/@uirouter/core/lib/common/hof.js"),i=n("./node_modules/@uirouter/core/lib/common/coreservices.js"),s=("undefined"==typeof window?{}:window).angular||{};t.fromJson=s.fromJson||JSON.parse.bind(JSON),t.toJson=s.toJson||JSON.stringify.bind(JSON),t.copy=s.copy||function(e,n){n&&Object.keys(n).forEach(function(e){return delete n[e]});n||(n={});return t.extend(n,e)},t.forEach=s.forEach||function(e,t,n){if(r.isArray(e))return e.forEach(t,n);Object.keys(e).forEach(function(n){return t(e[n],n)})},t.extend=Object.assign||h,t.equals=s.equals||v,t.identity=function(e){return e},t.noop=function(){},t.createProxyFunctions=function(e,t,n,r,o){void 0===o&&(o=!1);var i=function(t){return e()[t].bind(n())};return(r=r||Object.keys(e())).reduce(function(e,n){var r;return e[n]=o?(r=n,function(){return t[r]=i(r),t[r].apply(null,arguments)}):i(n),e},t)},t.inherit=function(e,n){return t.extend(Object.create(e),n)};function a(e,t){return-1!==e.indexOf(t)}function u(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),e}function l(e,t){return e.push(t),t}function c(e,t){var n={};for(var r in e)-1!==t.indexOf(r)&&(n[r]=e[r]);return n}function d(e,n){var o=r.isArray(e)?[]:{};return t.forEach(e,function(e,t){return o[t]=n(e,t)}),o}function m(e,t){return e.push(t),e}function f(e,t){return void 0===t&&(t="assert failure"),function(n){var o=e(n);if(!o)throw new Error(r.isFunction(t)?t(n):t);return o}}function p(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return[];var n,r=e.reduce(function(e,t){return Math.min(t.length,e)},9007199254740991),o=[];for(n=0;n<r;n++)switch(e.length){case 1:o.push([e[0][n]]);break;case 2:o.push([e[0][n],e[1][n]]);break;case 3:o.push([e[0][n],e[1][n],e[2][n]]);break;case 4:o.push([e[0][n],e[1][n],e[2][n],e[3][n]]);break;default:o.push(e.map(function(e){return e[n]}))}return o}function h(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];if(n)for(var r=Object.keys(n),o=0;o<r.length;o++)e[r[o]]=n[r[o]]}return e}function v(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;var n=typeof e;if(n!==typeof t||"object"!==n)return!1;var i,s,a=[e,t];if(o.all(r.isArray)(a))return s=t,(i=e).length===s.length&&p(i,s).reduce(function(e,t){return e&&v(t[0],t[1])},!0);if(o.all(r.isDate)(a))return e.getTime()===t.getTime();if(o.all(r.isRegExp)(a))return e.toString()===t.toString();if(o.all(r.isFunction)(a))return!0;if([r.isFunction,r.isArray,r.isDate,r.isRegExp].map(o.any).reduce(function(e,t){return e||!!t(a)},!1))return!1;var u,l={};for(u in e){if(!v(e[u],t[u]))return!1;l[u]=!0}for(u in t)if(!l[u])return!1;return!0}t.inArray=o.curry(a),t._inArray=a,t.removeFrom=o.curry(u),t._removeFrom=u,t.pushTo=o.curry(l),t._pushTo=l,t.deregAll=function(e){return e.slice().forEach(function(n){"function"==typeof n&&n(),t.removeFrom(e,n)})},t.defaults=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=n.concat({}).reverse(),i=t.extend.apply(null,o);return t.extend({},i,c(e||{},Object.keys(i)))},t.mergeR=function(e,n){return t.extend(e,n)},t.ancestors=function(e,t){var n=[];for(var r in e.path){if(e.path[r]!==t.path[r])break;n.push(e.path[r])}return n},t.pick=c,t.omit=function(e,n){return Object.keys(e).filter(o.not(t.inArray(n))).reduce(function(t,n){return t[n]=e[n],t},{})},t.pluck=function(e,t){return d(e,o.prop(t))},t.filter=function(e,n){var o=r.isArray(e),i=o?[]:{},s=o?function(e){return i.push(e)}:function(e,t){return i[t]=e};return t.forEach(e,function(e,t){n(e,t)&&s(e,t)}),i},t.find=function(e,n){var r;return t.forEach(e,function(e,t){r||n(e,t)&&(r=e)}),r},t.mapObj=d,t.map=d,t.values=function(e){return Object.keys(e).map(function(t){return e[t]})},t.allTrueR=function(e,t){return e&&t},t.anyTrueR=function(e,t){return e||t},t.unnestR=function(e,t){return e.concat(t)},t.flattenR=function(e,n){return r.isArray(n)?e.concat(n.reduce(t.flattenR,[])):m(e,n)},t.pushR=m,t.uniqR=function(e,n){return t.inArray(e,n)?e:m(e,n)},t.unnest=function(e){return e.reduce(t.unnestR,[])},t.flatten=function(e){return e.reduce(t.flattenR,[])},t.assertPredicate=f,t.assertMap=f,t.assertFn=f,t.pairs=function(e){return Object.keys(e).map(function(t){return[t,e[t]]})},t.arrayTuples=p,t.applyPairs=function(e,t){var n,o;if(r.isArray(t)&&(n=t[0],o=t[1]),!r.isString(n))throw new Error("invalid parameters to applyPairs");return e[n]=o,e},t.tail=function(e){return e.length&&e[e.length-1]||void 0},t._extend=h,t.sortBy=function(e,t){return void 0===t&&(t=o.val(!0)),function(n,r){return t(n)&&t(r)?e(n)-e(r):0}},t.composeSort=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t,n){return e.reduce(function(e,r){return e||r(t,n)},0)}},t.silenceUncaughtInPromise=function(e){return e.catch(function(e){return 0})&&e},t.silentRejection=function(e){return t.silenceUncaughtInPromise(i.services.$q.reject(e))}},"./node_modules/@uirouter/core/lib/common/coreservices.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notImplemented=function(e){return function(){throw new Error(e+"(): No coreservices implementation for UI-Router is loaded.")}};var r={$q:void 0,$injector:void 0};t.services=r},"./node_modules/@uirouter/core/lib/common/glob.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.text=e,this.glob=e.split(".");var t=this.text.split(".").map(function(e){return"**"===e?"(?:|(?:\\.[^.]*)*)":"*"===e?"\\.[^.]*":"\\."+e}).join("");this.regexp=new RegExp("^"+t+"$")}return e.prototype.matches=function(e){return this.regexp.test("."+e)},e.is=function(e){return!!/[!,*]+/.exec(e)},e.fromString=function(t){return e.is(t)?new e(t):null},e}();t.Glob=r},"./node_modules/@uirouter/core/lib/common/hof.js":function(e,t,n){"use strict";function r(e){var t=[].slice.apply(arguments,[1]),n=e.length;return function t(r){return r.length>=n?e.apply(null,r):function(){return t(r.concat([].slice.apply(arguments)))}}(t)}function o(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.apply(null,[].slice.call(arguments).reverse())}Object.defineProperty(t,"__esModule",{value:!0}),t.curry=r,t.compose=o,t.pipe=i,t.prop=function(e){return function(t){return t&&t[e]}},t.propEq=r(function(e,t,n){return n&&n[e]===t}),t.parse=function(e){return i.apply(null,e.split(".").map(t.prop))},t.not=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,t)}},t.and=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.apply(null,n)&&t.apply(null,n)}},t.or=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.apply(null,n)||t.apply(null,n)}},t.all=function(e){return function(t){return t.reduce(function(t,n){return t&&!!e(n)},!0)}},t.any=function(e){return function(t){return t.reduce(function(t,n){return t||!!e(n)},!1)}},t.is=function(e){return function(t){return null!=t&&t.constructor===e||t instanceof e}},t.eq=function(e){return function(t){return e===t}},t.val=function(e){return function(){return e}},t.invoke=function(e,t){return function(n){return n[e].apply(n,t)}},t.pattern=function(e){return function(t){for(var n=0;n<e.length;n++)if(e[n][0](t))return e[n][1](t)}}},"./node_modules/@uirouter/core/lib/common/index.js":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./node_modules/@uirouter/core/lib/common/common.js")),r(n("./node_modules/@uirouter/core/lib/common/coreservices.js")),r(n("./node_modules/@uirouter/core/lib/common/glob.js")),r(n("./node_modules/@uirouter/core/lib/common/hof.js")),r(n("./node_modules/@uirouter/core/lib/common/predicates.js")),r(n("./node_modules/@uirouter/core/lib/common/queue.js")),r(n("./node_modules/@uirouter/core/lib/common/strings.js")),r(n("./node_modules/@uirouter/core/lib/common/trace.js"))},"./node_modules/@uirouter/core/lib/common/predicates.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/common/hof.js"),o=n("./node_modules/@uirouter/core/lib/state/stateObject.js"),i=Object.prototype.toString,s=function(e){return function(t){return typeof t===e}};t.isUndefined=s("undefined"),t.isDefined=r.not(t.isUndefined),t.isNull=function(e){return null===e},t.isNullOrUndefined=r.or(t.isNull,t.isUndefined),t.isFunction=s("function"),t.isNumber=s("number"),t.isString=s("string"),t.isObject=function(e){return null!==e&&"object"==typeof e},t.isArray=Array.isArray,t.isDate=function(e){return"[object Date]"===i.call(e)},t.isRegExp=function(e){return"[object RegExp]"===i.call(e)},t.isState=o.StateObject.isState,t.isInjectable=function(e){if(t.isArray(e)&&e.length){var n=e.slice(0,-1),o=e.slice(-1);return!(n.filter(r.not(t.isString)).length||o.filter(r.not(t.isFunction)).length)}return t.isFunction(e)},t.isPromise=r.and(t.isObject,r.pipe(r.prop("then"),t.isFunction))},"./node_modules/@uirouter/core/lib/common/queue.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t=null),this._items=e,this._limit=t}return e.prototype.enqueue=function(e){var t=this._items;return t.push(e),this._limit&&t.length>this._limit&&t.shift(),e},e.prototype.dequeue=function(){if(this.size())return this._items.splice(0,1)[0]},e.prototype.clear=function(){var e=this._items;return this._items=[],e},e.prototype.size=function(){return this._items.length},e.prototype.remove=function(e){var t=this._items.indexOf(e);return t>-1&&this._items.splice(t,1)[0]},e.prototype.peekTail=function(){return this._items[this._items.length-1]},e.prototype.peekHead=function(){if(this.size())return this._items[0]},e}();t.Queue=r},"./node_modules/@uirouter/core/lib/common/strings.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/common/predicates.js"),o=n("./node_modules/@uirouter/core/lib/transition/rejectFactory.js"),i=n("./node_modules/@uirouter/core/lib/common/common.js"),s=n("./node_modules/@uirouter/core/lib/common/hof.js"),a=n("./node_modules/@uirouter/core/lib/transition/transition.js"),u=n("./node_modules/@uirouter/core/lib/resolve/resolvable.js");function l(e){var t=c(e),n=t.match(/^(function [^ ]+\([^)]*\))/),r=n?n[1]:t,o=e.name||"";return o&&r.match(/function \(/)?"function "+o+r.substr(9):r}function c(e){var t=r.isArray(e)?e.slice(-1)[0]:e;return t&&t.toString()||"undefined"}t.maxLength=function(e,t){return t.length<=e?t:t.substr(0,e-3)+"..."},t.padString=function(e,t){for(;t.length<e;)t+=" ";return t},t.kebobString=function(e){return e.replace(/^([A-Z])/,function(e){return e.toLowerCase()}).replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})},t.functionToString=l,t.fnToString=c;var d=null,m=function(e){var t=o.Rejection.isRejectionPromise;return(d=d||s.pattern([[s.not(r.isDefined),s.val("undefined")],[r.isNull,s.val("null")],[r.isPromise,s.val("[Promise]")],[t,function(e){return e._transitionRejection.toString()}],[s.is(o.Rejection),s.invoke("toString")],[s.is(a.Transition),s.invoke("toString")],[s.is(u.Resolvable),s.invoke("toString")],[r.isInjectable,l],[s.val(!0),i.identity]]))(e)};t.stringify=function(e){var t=[];return JSON.stringify(e,function(e,n){return function(e){if(r.isObject(e)){if(-1!==t.indexOf(e))return"[circular ref]";t.push(e)}return m(e)}(n)}).replace(/\\"/g,'"')},t.beforeAfterSubstr=function(e){return function(t){if(!t)return["",""];var n=t.indexOf(e);return-1===n?[t,""]:[t.substr(0,n),t.substr(n+1)]}},t.splitOnDelim=function(e){var t=new RegExp("("+e+")","g");return function(e){return e.split(t).filter(i.identity)}},t.joinNeighborsR=function(e,t){return r.isString(i.tail(e))&&r.isString(t)?e.slice(0,-1).concat(i.tail(e)+t):i.pushR(e,t)}},"./node_modules/@uirouter/core/lib/common/trace.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/common/hof.js"),o=n("./node_modules/@uirouter/core/lib/common/predicates.js"),i=n("./node_modules/@uirouter/core/lib/common/strings.js");function s(e){return e?"[ui-view#"+e.id+" tag in template from '"+(e.creationContext&&e.creationContext.name||"(root)")+"' state]: fqn: '"+e.fqn+"', name: '"+e.name+"@"+e.creationContext+"')":"ui-view (defunct)"}var a;function u(e){return o.isNumber(e)?a[e]:a[a[e]]}!function(e){e[e.RESOLVE=0]="RESOLVE",e[e.TRANSITION=1]="TRANSITION",e[e.HOOK=2]="HOOK",e[e.UIVIEW=3]="UIVIEW",e[e.VIEWCONFIG=4]="VIEWCONFIG"}(a=t.Category||(t.Category={}));var l=r.parse("$id"),c=r.parse("router.$id"),d=function(e){return"Transition #"+l(e)+"-"+c(e)},m=function(){function e(){this._enabled={},this.approximateDigests=0}return e.prototype._set=function(e,t){var n=this;t.length||(t=Object.keys(a).map(function(e){return parseInt(e,10)}).filter(function(e){return!isNaN(e)}).map(function(e){return a[e]})),t.map(u).forEach(function(t){return n._enabled[t]=e})},e.prototype.enable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._set(!0,e)},e.prototype.disable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._set(!1,e)},e.prototype.enabled=function(e){return!!this._enabled[u(e)]},e.prototype.traceTransitionStart=function(e){this.enabled(a.TRANSITION)&&console.log(d(e)+": Started  -> "+i.stringify(e))},e.prototype.traceTransitionIgnored=function(e){this.enabled(a.TRANSITION)&&console.log(d(e)+": Ignored  <> "+i.stringify(e))},e.prototype.traceHookInvocation=function(e,t,n){if(this.enabled(a.HOOK)){var o=r.parse("traceData.hookType")(n)||"internal",s=r.parse("traceData.context.state.name")(n)||r.parse("traceData.context")(n)||"unknown",u=i.functionToString(e.registeredHook.callback);console.log(d(t)+":   Hook -> "+o+" context: "+s+", "+i.maxLength(200,u))}},e.prototype.traceHookResult=function(e,t,n){this.enabled(a.HOOK)&&console.log(d(t)+":   <- Hook returned: "+i.maxLength(200,i.stringify(e)))},e.prototype.traceResolvePath=function(e,t,n){this.enabled(a.RESOLVE)&&console.log(d(n)+":         Resolving "+e+" ("+t+")")},e.prototype.traceResolvableResolved=function(e,t){this.enabled(a.RESOLVE)&&console.log(d(t)+":               <- Resolved  "+e+" to: "+i.maxLength(200,i.stringify(e.data)))},e.prototype.traceError=function(e,t){this.enabled(a.TRANSITION)&&console.log(d(t)+": <- Rejected "+i.stringify(t)+", reason: "+e)},e.prototype.traceSuccess=function(e,t){this.enabled(a.TRANSITION)&&console.log(d(t)+": <- Success  "+i.stringify(t)+", final state: "+e.name)},e.prototype.traceUIViewEvent=function(e,t,n){void 0===n&&(n=""),this.enabled(a.UIVIEW)&&console.log("ui-view: "+i.padString(30,e)+" "+s(t)+n)},e.prototype.traceUIViewConfigUpdated=function(e,t){this.enabled(a.UIVIEW)&&this.traceUIViewEvent("Updating",e," with ViewConfig from context='"+t+"'")},e.prototype.traceUIViewFill=function(e,t){this.enabled(a.UIVIEW)&&this.traceUIViewEvent("Fill",e," with: "+i.maxLength(200,t))},e.prototype.traceViewServiceEvent=function(e,t){this.enabled(a.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+function(e){return"[ViewConfig#"+e.$id+" from '"+(e.viewDecl.$context.name||"(root)")+"' state]: target ui-view: '"+e.viewDecl.$uiViewName+"@"+e.viewDecl.$uiViewContextAnchor+"'"}(t))},e.prototype.traceViewServiceUIViewEvent=function(e,t){this.enabled(a.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+s(t))},e}();t.Trace=m;var f=new m;t.trace=f},"./node_modules/@uirouter/core/lib/globals.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/params/stateParams.js"),o=n("./node_modules/@uirouter/core/lib/common/queue.js"),i=function(){function e(){this.params=new r.StateParams,this.lastStartedTransitionId=-1,this.transitionHistory=new o.Queue([],1),this.successfulTransitions=new o.Queue([],1)}return e.prototype.dispose=function(){this.transitionHistory.clear(),this.successfulTransitions.clear(),this.transition=null},e}();t.UIRouterGlobals=i},"./node_modules/@uirouter/core/lib/hooks/coreResolvables.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/transition/transition.js"),o=n("./node_modules/@uirouter/core/lib/router.js");function i(e){e.addResolvable({token:o.UIRouter,deps:[],resolveFn:function(){return e.router},data:e.router},""),e.addResolvable({token:r.Transition,deps:[],resolveFn:function(){return e},data:e},""),e.addResolvable({token:"$transition$",deps:[],resolveFn:function(){return e},data:e},""),e.addResolvable({token:"$stateParams",deps:[],resolveFn:function(){return e.params()},data:e.params()},""),e.entering().forEach(function(t){e.addResolvable({token:"$state$",deps:[],resolveFn:function(){return t},data:t},t)})}t.registerAddCoreResolvables=function(e){return e.onCreate({},i)}},"./node_modules/@uirouter/core/lib/hooks/ignoredTransition.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/common/trace.js"),o=n("./node_modules/@uirouter/core/lib/transition/rejectFactory.js");function i(e){var t=e._ignoredReason();if(t){r.trace.traceTransitionIgnored(e);var n=e.router.globals.transition;return"SameAsCurrent"===t&&n&&n.abort(),o.Rejection.ignored().toPromise()}}t.registerIgnoredTransitionHook=function(e){return e.onBefore({},i,{priority:-9999})}},"./node_modules/@uirouter/core/lib/hooks/invalidTransition.js":function(e,t,n){"use strict";function r(e){if(!e.valid())throw new Error(e.error())}Object.defineProperty(t,"__esModule",{value:!0}),t.registerInvalidTransitionHook=function(e){return e.onBefore({},r,{priority:-1e4})}},"./node_modules/@uirouter/core/lib/hooks/lazyLoad.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/common/coreservices.js"),o=function(e){var t=e.router;var n=e.entering().filter(function(e){return!!e.$$state().lazyLoad}).map(function(t){return i(e,t)});return r.services.$q.all(n).then(function(){if("url"!==e.originalTransition().options().source){var n=e.targetState();return t.stateService.target(n.identifier(),n.params(),n.options())}var r=t.urlService,o=r.match(r.parts()),i=o&&o.rule;if(i&&"STATE"===i.type){var s=i.state,a=o.match;return t.stateService.target(s,a,e.options())}t.urlService.sync()})};function i(e,t){var n=t.$$state().lazyLoad,o=n._promise;if(!o){o=n._promise=r.services.$q.when(n(e,t)).then(function(t){t&&Array.isArray(t.states)&&t.states.forEach(function(t){return e.router.stateRegistry.register(t)});return t}).then(function(e){return delete t.lazyLoad,delete t.$$state().lazyLoad,delete n._promise,e},function(e){return delete n._promise,r.services.$q.reject(e)})}return o}t.registerLazyLoadHook=function(e){return e.onBefore({entering:function(e){return!!e.lazyLoad}},o)},t.lazyLoadState=i},"./node_modules/@uirouter/core/lib/hooks/onEnterExitRetain.js":function(e,t,n){"use strict";function r(e){return function(t,n){return(0,n.$$state()[e])(t,n)}}Object.defineProperty(t,"__esModule",{value:!0});var o=r("onExit");t.registerOnExitHook=function(e){return e.onExit({exiting:function(e){return!!e.onExit}},o)};var i=r("onRetain");t.registerOnRetainHook=function(e){return e.onRetain({retained:function(e){return!!e.onRetain}},i)};var s=r("onEnter");t.registerOnEnterHook=function(e){return e.onEnter({entering:function(e){return!!e.onEnter}},s)}},"./node_modules/@uirouter/core/lib/hooks/redirectTo.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/common/predicates.js"),o=n("./node_modules/@uirouter/core/lib/common/coreservices.js"),i=n("./node_modules/@uirouter/core/lib/state/targetState.js"),s=function(e){var t=e.to().redirectTo;if(t){var n=e.router.stateService;return r.isFunction(t)?o.services.$q.when(t(e)).then(s):s(t)}function s(t){if(t)return t instanceof i.TargetState?t:r.isString(t)?n.target(t,e.params(),e.options()):t.state||t.params?n.target(t.state||e.to(),t.params||e.params(),e.options()):void 0}};t.registerRedirectToHook=function(e){return e.onStart({to:function(e){return!!e.redirectTo}},s)}},"./node_modules/@uirouter/core/lib/hooks/resolve.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/common/common.js"),o=n("./node_modules/@uirouter/core/lib/resolve/resolveContext.js"),i=n("./node_modules/@uirouter/core/lib/common/hof.js"),s=function(e){return new o.ResolveContext(e.treeChanges().to).resolvePath("EAGER",e).then(r.noop)};t.registerEagerResolvePath=function(e){return e.onStart({},s,{priority:1e3})};var a=function(e,t){return new o.ResolveContext(e.treeChanges().to).subContext(t.$$state()).resolvePath("LAZY",e).then(r.noop)};t.registerLazyResolveState=function(e){return e.onEnter({entering:i.val(!0)},a,{priority:1e3})}},"./node_modules/@uirouter/core/lib/hooks/updateGlobals.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/common/common.js"),o=function(e){var t=e.router.globals,n=function(){t.transition===e&&(t.transition=null)};e.onSuccess({},function(){t.successfulTransitions.enqueue(e),t.$current=e.$to(),t.current=t.$current.self,r.copy(e.params(),t.params)},{priority:1e4}),e.promise.then(n,n)};t.registerUpdateGlobalState=function(e){return e.onCreate({},o)}},"./node_modules/@uirouter/core/lib/hooks/url.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){var t=e.options(),n=e.router.stateService,r=e.router.urlRouter;if("url"!==t.source&&t.location&&n.$current.navigable){var o={replace:"replace"===t.location};r.push(n.$current.navigable.url,n.params,o)}r.update(!0)};t.registerUpdateUrl=function(e){return e.onSuccess({},r,{priority:9999})}},"./node_modules/@uirouter/core/lib/hooks/views.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/common/common.js"),o=n("./node_modules/@uirouter/core/lib/common/coreservices.js"),i=function(e){var t=o.services.$q,n=e.views("entering");if(n.length)return t.all(n.map(function(e){return t.when(e.load())})).then(r.noop)};t.registerLoadEnteringViews=function(e){return e.onFinish({},i)};var s=function(e){var t=e.views("entering"),n=e.views("exiting");if(t.length||n.length){var r=e.router.viewService;n.forEach(function(e){return r.deactivateViewConfig(e)}),t.forEach(function(e){return r.activateViewConfig(e)}),r.sync()}};t.registerActivateViews=function(e){return e.onSuccess({},s)}},"./node_modules/@uirouter/core/lib/index.js":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./node_modules/@uirouter/core/lib/common/index.js")),r(n("./node_modules/@uirouter/core/lib/params/index.js")),r(n("./node_modules/@uirouter/core/lib/path/index.js")),r(n("./node_modules/@uirouter/core/lib/resolve/index.js")),r(n("./node_modules/@uirouter/core/lib/state/index.js")),r(n("./node_modules/@uirouter/core/lib/transition/index.js")),r(n("./node_modules/@uirouter/core/lib/url/index.js")),r(n("./node_modules/@uirouter/core/lib/view/index.js")),r(n("./node_modules/@uirouter/core/lib/globals.js")),r(n("./node_modules/@uirouter/core/lib/router.js")),r(n("./node_modules/@uirouter/core/lib/vanilla.js")),r(n("./node_modules/@uirouter/core/lib/interface.js"))},"./node_modules/@uirouter/core/lib/interface.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.dispose=function(e){},e}();t.UIRouterPluginBase=r},"./node_modules/@uirouter/core/lib/params/index.js":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./node_modules/@uirouter/core/lib/params/param.js")),r(n("./node_modules/@uirouter/core/lib/params/paramTypes.js")),r(n("./node_modules/@uirouter/core/lib/params/stateParams.js")),r(n("./node_modules/@uirouter/core/lib/params/paramType.js"))},"./node_modules/@uirouter/core/lib/params/param.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./node_modules/@uirouter/core/lib/common/common.js"),i=n("./node_modules/@uirouter/core/lib/common/hof.js"),s=n("./node_modules/@uirouter/core/lib/common/predicates.js"),a=n("./node_modules/@uirouter/core/lib/common/coreservices.js"),u=n("./node_modules/@uirouter/core/lib/params/paramType.js"),l=Object.prototype.hasOwnProperty,c=function(e){return 0===["value","type","squash","array","dynamic"].filter(l.bind(e||{})).length};!function(e){e[e.PATH=0]="PATH",e[e.SEARCH=1]="SEARCH",e[e.CONFIG=2]="CONFIG"}(r=t.DefType||(t.DefType={}));var d=function(){function e(e,t,n,a,l){t=function(e,t,n,o,i){if(e.type&&t&&"string"!==t.name)throw new Error("Param '"+o+"' has two type configurations.");if(e.type&&t&&"string"===t.name&&i.type(e.type))return i.type(e.type);if(t)return t;if(!e.type){var s=n===r.CONFIG?"any":n===r.PATH?"path":n===r.SEARCH?"query":"string";return i.type(s)}return e.type instanceof u.ParamType?e.type:i.type(e.type)}(n=function(e){function t(){return e.value}return e=c(e)&&{value:e}||e,t.__cacheable=!0,o.extend(e,{$$fn:s.isInjectable(e.value)?e.value:t})}(n),t,a,e,l.paramTypes);var d,m,f=(d={array:a===r.SEARCH&&"auto"},m=e.match(/\[\]$/)?{array:!0}:{},o.extend(d,m,n).array);t=f?t.$asArray(f,a===r.SEARCH):t;var p=void 0!==n.value||a===r.SEARCH,h=s.isDefined(n.dynamic)?!!n.dynamic:!!t.dynamic,v=s.isDefined(n.raw)?!!n.raw:!!t.raw,g=function(e,t,n){var r=e.squash;if(!t||!1===r)return!1;if(!s.isDefined(r)||null==r)return n;if(!0===r||s.isString(r))return r;throw new Error("Invalid squash policy: '"+r+"'. Valid policies: false, true, or arbitrary string")}(n,p,l.defaultSquashPolicy()),_=function(e,t,n,r){var a,u,l=[{from:"",to:n||t?void 0:""},{from:null,to:n||t?void 0:""}];return a=s.isArray(e.replace)?e.replace:[],s.isString(r)&&a.push({from:r,to:void 0}),u=o.map(a,i.prop("from")),o.filter(l,function(e){return-1===u.indexOf(e.from)}).concat(a)}(n,f,p,g),y=s.isDefined(n.inherit)?!!n.inherit:!!t.inherit;o.extend(this,{id:e,type:t,location:a,isOptional:p,dynamic:h,raw:v,squash:g,replace:_,inherit:y,array:f,config:n})}return e.prototype.isDefaultValue=function(e){return this.isOptional&&this.type.equals(this.value(),e)},e.prototype.value=function(e){var t=this;return e=function(e){for(var n=0,r=t.replace;n<r.length;n++){var o=r[n];if(o.from===e)return o.to}return e}(e),s.isUndefined(e)?function(){if(t._defaultValueCache)return t._defaultValueCache.defaultValue;if(!a.services.$injector)throw new Error("Injectable functions cannot be called at configuration time");var e=a.services.$injector.invoke(t.config.$$fn);if(null!==e&&void 0!==e&&!t.type.is(e))throw new Error("Default value ("+e+") for parameter '"+t.id+"' is not an instance of ParamType ("+t.type.name+")");return t.config.$$fn.__cacheable&&(t._defaultValueCache={defaultValue:e}),e}():this.type.$normalize(e)},e.prototype.isSearch=function(){return this.location===r.SEARCH},e.prototype.validates=function(e){if((s.isUndefined(e)||null===e)&&this.isOptional)return!0;var t=this.type.$normalize(e);if(!this.type.is(t))return!1;var n=this.type.encode(t);return!(s.isString(n)&&!this.type.pattern.exec(n))},e.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"},e.values=function(e,t){void 0===t&&(t={});for(var n={},r=0,o=e;r<o.length;r++){var i=o[r];n[i.id]=i.value(t[i.id])}return n},e.changed=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),e.filter(function(e){return!e.type.equals(t[e.id],n[e.id])})},e.equals=function(t,n,r){return void 0===n&&(n={}),void 0===r&&(r={}),0===e.changed(t,n,r).length},e.validates=function(e,t){return void 0===t&&(t={}),e.map(function(e){return e.validates(t[e.id])}).reduce(o.allTrueR,!0)},e}();t.Param=d},"./node_modules/@uirouter/core/lib/params/paramType.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/common/common.js"),o=n("./node_modules/@uirouter/core/lib/common/predicates.js"),i=function(){function e(e){this.pattern=/.*/,this.inherit=!0,r.extend(this,e)}return e.prototype.is=function(e,t){return!0},e.prototype.encode=function(e,t){return e},e.prototype.decode=function(e,t){return e},e.prototype.equals=function(e,t){return e==t},e.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},e.prototype.toString=function(){return"{ParamType:"+this.name+"}"},e.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},e.prototype.$asArray=function(e,t){if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new function(e,t){var n=this;function i(e){return o.isArray(e)?e:o.isDefined(e)?[e]:[]}function s(e,n){return function(s){if(o.isArray(s)&&0===s.length)return s;var a=i(s),u=r.map(a,e);return!0===n?0===r.filter(u,function(e){return!e}).length:function(e){switch(e.length){case 0:return;case 1:return"auto"===t?e[0]:e;default:return e}}(u)}}function a(e){return function(t,n){var r=i(t),o=i(n);if(r.length!==o.length)return!1;for(var s=0;s<r.length;s++)if(!e(r[s],o[s]))return!1;return!0}}["encode","decode","equals","$normalize"].forEach(function(t){var r=e[t].bind(e),o="equals"===t?a:s;n[t]=o(r)}),r.extend(this,{dynamic:e.dynamic,name:e.name,pattern:e.pattern,inherit:e.inherit,is:s(e.is.bind(e),!0),$arrayMode:t})}(this,e)},e}();t.ParamType=i},"./node_modules/@uirouter/core/lib/params/paramTypes.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./node_modules/@uirouter/core/lib/common/common.js"),i=n("./node_modules/@uirouter/core/lib/common/predicates.js"),s=n("./node_modules/@uirouter/core/lib/common/hof.js"),a=n("./node_modules/@uirouter/core/lib/common/coreservices.js"),u=n("./node_modules/@uirouter/core/lib/params/paramType.js"),l=function(){function e(){this.enqueue=!0,this.typeQueue=[],this.defaultTypes=o.pick(e.prototype,["hash","string","query","path","int","bool","date","json","any"]);this.types=o.inherit(o.map(this.defaultTypes,function(e,t){return new u.ParamType(o.extend({name:t},e))}),{})}return e.prototype.dispose=function(){this.types={}},e.prototype.type=function(e,t,n){if(!i.isDefined(t))return this.types[e];if(this.types.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return this.types[e]=new u.ParamType(o.extend({name:e},t)),n&&(this.typeQueue.push({name:e,def:n}),this.enqueue||this._flushTypeQueue()),this},e.prototype._flushTypeQueue=function(){for(;this.typeQueue.length;){var e=this.typeQueue.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");o.extend(this.types[e.name],a.services.$injector.invoke(e.def))}},e}();t.ParamTypes=l,r=function(e){var t=function(e){return null!=e?e.toString():e},n={encode:t,decode:t,is:s.is(String),pattern:/.*/,equals:function(e,t){return e==t}};return o.extend({},n,e)},o.extend(l.prototype,{string:r({}),path:r({pattern:/[^/]*/}),query:r({}),hash:r({inherit:!1}),int:r({decode:function(e){return parseInt(e,10)},is:function(e){return!i.isNullOrUndefined(e)&&this.decode(e.toString())===e},pattern:/-?\d+/}),bool:r({encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:s.is(Boolean),pattern:/0|1/}),date:r({encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):void 0},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):void 0},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return["getFullYear","getMonth","getDate"].reduce(function(n,r){return n&&e[r]()===t[r]()},!0)},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/}),json:r({encode:o.toJson,decode:o.fromJson,is:s.is(Object),equals:o.equals,pattern:/[^/]*/}),any:r({encode:o.identity,decode:o.identity,is:function(){return!0},equals:o.equals})})},"./node_modules/@uirouter/core/lib/params/stateParams.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/common/common.js"),o=function(){function e(e){void 0===e&&(e={}),r.extend(this,e)}return e.prototype.$inherit=function(e,t,n){var o,i=r.ancestors(t,n),s={},a=[];for(var u in i)if(i[u]&&i[u].params&&(o=Object.keys(i[u].params)).length)for(var l in o)a.indexOf(o[l])>=0||(a.push(o[l]),s[o[l]]=this[o[l]]);return r.extend({},s,e)},e}();t.StateParams=o},"./node_modules/@uirouter/core/lib/path/index.js":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./node_modules/@uirouter/core/lib/path/pathNode.js")),r(n("./node_modules/@uirouter/core/lib/path/pathFactory.js"))},"./node_modules/@uirouter/core/lib/path/pathFactory.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/common/common.js"),o=n("./node_modules/@uirouter/core/lib/common/hof.js"),i=n("./node_modules/@uirouter/core/lib/state/targetState.js"),s=n("./node_modules/@uirouter/core/lib/path/pathNode.js"),a=function(){function e(){}return e.makeTargetState=function(e){var t=r.tail(e).state;return new i.TargetState(t,t,e.map(o.prop("paramValues")).reduce(r.mergeR,{}))},e.buildPath=function(e){var t=e.params();return e.$state().path.map(function(e){return new s.PathNode(e).applyRawParams(t)})},e.buildToPath=function(t,n){var r=e.buildPath(n);return n.options().inherit?e.inheritParams(t,r,Object.keys(n.params())):r},e.applyViewConfigs=function(t,n,o){n.filter(function(e){return r.inArray(o,e.state)}).forEach(function(o){var i=r.values(o.state.views||{}),s=e.subPath(n,function(e){return e===o}),a=i.map(function(e){return t.createViewConfig(s,e)});o.views=a.reduce(r.unnestR,[])})},e.inheritParams=function(e,t,n){void 0===n&&(n=[]);var i=e.map(function(e){return e.paramSchema}).reduce(r.unnestR,[]).filter(function(e){return!e.inherit}).map(o.prop("id"));return t.map(function(t){var a=r.extend({},t&&t.paramValues),u=r.pick(a,n);a=r.omit(a,n);var l,c,d,m=r.omit((l=e,c=t.state,d=r.find(l,o.propEq("state",c)),r.extend({},d&&d.paramValues)||{}),i),f=r.extend(a,m,u);return new s.PathNode(t.state).applyRawParams(f)})},e.treeChanges=function(t,n,r){for(var o,i,a,u,l,c,d=0,m=Math.min(t.length,n.length);d<m&&t[d].state!==r&&(o=t[d],i=n[d],o.equals(i,e.nonDynamicParams));)d++;u=(a=t).slice(0,d),l=a.slice(d);var f=u.map(function(e,t){var r=s.PathNode.clone(e);return r.paramValues=n[t].paramValues,r});return c=n.slice(d),{from:a,to:f.concat(c),retained:u,exiting:l,entering:c}},e.matching=function(e,t,n){var o=!1;return r.arrayTuples(e,t).reduce(function(e,t){var r=t[0],i=t[1];return(o=o||!r.equals(i,n))?e:e.concat(r)},[])},e.equals=function(t,n,r){return t.length===n.length&&e.matching(t,n,r).length===t.length},e.subPath=function(e,t){var n=r.find(e,t),o=e.indexOf(n);return-1===o?void 0:e.slice(0,o+1)},e}();a.nonDynamicParams=function(e){return e.state.parameters({inherit:!1}).filter(function(e){return!e.dynamic})},a.paramValues=function(e){return e.reduce(function(e,t){return r.extend(e,t.paramValues)},{})},t.PathUtils=a},"./node_modules/@uirouter/core/lib/path/pathNode.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/common/common.js"),o=n("./node_modules/@uirouter/core/lib/common/hof.js"),i=n("./node_modules/@uirouter/core/lib/params/param.js"),s=function(){function e(t){if(t instanceof e){var n=t;this.state=n.state,this.paramSchema=n.paramSchema.slice(),this.paramValues=r.extend({},n.paramValues),this.resolvables=n.resolvables.slice(),this.views=n.views&&n.views.slice()}else{var o=t;this.state=o,this.paramSchema=o.parameters({inherit:!1}),this.paramValues={},this.resolvables=o.resolvables.map(function(e){return e.clone()})}}return e.prototype.applyRawParams=function(e){return this.paramValues=this.paramSchema.reduce(function(t,n){return r.applyPairs(t,[(o=n).id,o.value(e[o.id])]);var o},{}),this},e.prototype.parameter=function(e){return r.find(this.paramSchema,o.propEq("id",e))},e.prototype.equals=function(e,t){var n=this.diff(e,t);return n&&0===n.length},e.prototype.diff=function(e,t){if(this.state!==e.state)return!1;var n=t?t(this):this.paramSchema;return i.Param.changed(n,this.paramValues,e.paramValues)},e.clone=function(t){return new e(t)},e}();t.PathNode=s},"./node_modules/@uirouter/core/lib/resolve/index.js":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./node_modules/@uirouter/core/lib/resolve/interface.js")),r(n("./node_modules/@uirouter/core/lib/resolve/resolvable.js")),r(n("./node_modules/@uirouter/core/lib/resolve/resolveContext.js"))},"./node_modules/@uirouter/core/lib/resolve/interface.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolvePolicies={when:{LAZY:"LAZY",EAGER:"EAGER"},async:{WAIT:"WAIT",NOWAIT:"NOWAIT",RXWAIT:"RXWAIT"}}},"./node_modules/@uirouter/core/lib/resolve/resolvable.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/common/common.js"),o=n("./node_modules/@uirouter/core/lib/common/coreservices.js"),i=n("./node_modules/@uirouter/core/lib/common/trace.js"),s=n("./node_modules/@uirouter/core/lib/common/strings.js"),a=n("./node_modules/@uirouter/core/lib/common/predicates.js");t.defaultResolvePolicy={when:"LAZY",async:"WAIT"};var u=function(){function e(t,n,i,s,u){if(this.resolved=!1,this.promise=void 0,t instanceof e)r.extend(this,t);else if(a.isFunction(n)){if(null==t||void 0==t)throw new Error("new Resolvable(): token argument is required");if(!a.isFunction(n))throw new Error("new Resolvable(): resolveFn argument must be a function");this.token=t,this.policy=s,this.resolveFn=n,this.deps=i||[],this.data=u,this.resolved=void 0!==u,this.promise=this.resolved?o.services.$q.when(this.data):void 0}else if(a.isObject(t)&&t.token&&a.isFunction(t.resolveFn)){var l=t;return new e(l.token,l.resolveFn,l.deps,l.policy,l.data)}}return e.prototype.getPolicy=function(e){var n=this.policy||{},r=e&&e.resolvePolicy||{};return{when:n.when||r.when||t.defaultResolvePolicy.when,async:n.async||r.async||t.defaultResolvePolicy.async}},e.prototype.resolve=function(e,t){var n=this,s=o.services.$q,a=e.findNode(this),u=a&&a.state,l="RXWAIT"===this.getPolicy(u).async?function(e){var t=e.cache(1);return t.take(1).toPromise().then(function(){return t})}:r.identity;return this.promise=s.when().then(function(){return s.all(e.getDependencies(n).map(function(n){return n.get(e,t)}))}).then(function(e){return n.resolveFn.apply(null,e)}).then(l).then(function(e){return n.data=e,n.resolved=!0,i.trace.traceResolvableResolved(n,t),n.data})},e.prototype.get=function(e,t){return this.promise||this.resolve(e,t)},e.prototype.toString=function(){return"Resolvable(token: "+s.stringify(this.token)+", requires: ["+this.deps.map(s.stringify)+"])"},e.prototype.clone=function(){return new e(this)},e}();u.fromData=function(e,t){return new u(e,function(){return t},null,null,t)},t.Resolvable=u},"./node_modules/@uirouter/core/lib/resolve/resolveContext.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/common/common.js"),o=n("./node_modules/@uirouter/core/lib/common/hof.js"),i=n("./node_modules/@uirouter/core/lib/common/trace.js"),s=n("./node_modules/@uirouter/core/lib/common/coreservices.js"),a=n("./node_modules/@uirouter/core/lib/resolve/interface.js"),u=n("./node_modules/@uirouter/core/lib/resolve/resolvable.js"),l=n("./node_modules/@uirouter/core/lib/path/pathFactory.js"),c=n("./node_modules/@uirouter/core/lib/common/strings.js"),d=a.resolvePolicies.when,m=[d.EAGER,d.LAZY],f=[d.EAGER];t.NATIVE_INJECTOR_TOKEN="Native Injector";var p=function(){function e(e){this._path=e}return e.prototype.getTokens=function(){return this._path.reduce(function(e,t){return e.concat(t.resolvables.map(function(e){return e.token}))},[]).reduce(r.uniqR,[])},e.prototype.getResolvable=function(e){var t=this._path.map(function(e){return e.resolvables}).reduce(r.unnestR,[]).filter(function(t){return t.token===e});return r.tail(t)},e.prototype.getPolicy=function(e){var t=this.findNode(e);return e.getPolicy(t.state)},e.prototype.subContext=function(t){return new e(l.PathUtils.subPath(this._path,function(e){return e.state===t}))},e.prototype.addResolvables=function(e,t){var n=r.find(this._path,o.propEq("state",t)),i=e.map(function(e){return e.token});n.resolvables=n.resolvables.filter(function(e){return-1===i.indexOf(e.token)}).concat(e)},e.prototype.resolvePath=function(e,t){var n=this;void 0===e&&(e="LAZY");var u=(r.inArray(m,e)?e:"LAZY")===a.resolvePolicies.when.EAGER?f:m;i.trace.traceResolvePath(this._path,e,t);var l=function(e,t){return function(o){return r.inArray(e,n.getPolicy(o)[t])}},c=this._path.reduce(function(e,r){var i=r.resolvables.filter(l(u,"when")),s=i.filter(l(["NOWAIT"],"async")),a=i.filter(o.not(l(["NOWAIT"],"async"))),c=n.subContext(r.state),d=function(e){return e.get(c,t).then(function(t){return{token:e.token,value:t}})};return s.forEach(d),e.concat(a.map(d))},[]);return s.services.$q.all(c)},e.prototype.injector=function(){return this._injector||(this._injector=new h(this))},e.prototype.findNode=function(e){return r.find(this._path,function(t){return r.inArray(t.resolvables,e)})},e.prototype.getDependencies=function(e){var t=this,n=this.findNode(e),o=(l.PathUtils.subPath(this._path,function(e){return e===n})||this._path).reduce(function(e,t){return e.concat(t.resolvables)},[]).filter(function(t){return t!==e});return e.deps.map(function(e){var n=o.filter(function(t){return t.token===e});if(n.length)return r.tail(n);var i=t.injector().getNative(e);if(!i)throw new Error("Could not find Dependency Injection token: "+c.stringify(e));return new u.Resolvable(e,function(){return i},[],i)})},e}();t.ResolveContext=p;var h=function(){function e(e){this.context=e,this.native=this.get(t.NATIVE_INJECTOR_TOKEN)||s.services.$injector}return e.prototype.get=function(e){var t=this.context.getResolvable(e);if(t){if("NOWAIT"===this.context.getPolicy(t).async)return t.get(this.context);if(!t.resolved)throw new Error("Resolvable async .get() not complete:"+c.stringify(t.token));return t.data}return this.native&&this.native.get(e)},e.prototype.getAsync=function(e){var t=this.context.getResolvable(e);return t?t.get(this.context):s.services.$q.when(this.native.get(e))},e.prototype.getNative=function(e){return this.native&&this.native.get(e)},e}()},"./node_modules/@uirouter/core/lib/router.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/url/urlMatcherFactory.js"),o=n("./node_modules/@uirouter/core/lib/url/urlRouter.js"),i=n("./node_modules/@uirouter/core/lib/transition/transitionService.js"),s=n("./node_modules/@uirouter/core/lib/view/view.js"),a=n("./node_modules/@uirouter/core/lib/state/stateRegistry.js"),u=n("./node_modules/@uirouter/core/lib/state/stateService.js"),l=n("./node_modules/@uirouter/core/lib/globals.js"),c=n("./node_modules/@uirouter/core/lib/common/common.js"),d=n("./node_modules/@uirouter/core/lib/common/predicates.js"),m=n("./node_modules/@uirouter/core/lib/url/urlService.js"),f=n("./node_modules/@uirouter/core/lib/common/trace.js"),p=0,h=function(){function e(e,t){void 0===e&&(e=m.UrlService.locationServiceStub),void 0===t&&(t=m.UrlService.locationConfigStub),this.locationService=e,this.locationConfig=t,this.$id=p++,this._disposed=!1,this._disposables=[],this.trace=f.trace,this.viewService=new s.ViewService,this.transitionService=new i.TransitionService(this),this.globals=new l.UIRouterGlobals,this.urlMatcherFactory=new r.UrlMatcherFactory,this.urlRouter=new o.UrlRouter(this),this.stateRegistry=new a.StateRegistry(this),this.stateService=new u.StateService(this),this.urlService=new m.UrlService(this),this._plugins={},this.viewService._pluginapi._rootViewContext(this.stateRegistry.root()),this.globals.$current=this.stateRegistry.root(),this.globals.current=this.globals.$current.self,this.disposable(this.globals),this.disposable(this.stateService),this.disposable(this.stateRegistry),this.disposable(this.transitionService),this.disposable(this.urlRouter),this.disposable(e),this.disposable(t)}return e.prototype.disposable=function(e){this._disposables.push(e)},e.prototype.dispose=function(e){var t=this;e&&d.isFunction(e.dispose)?e.dispose(this):(this._disposed=!0,this._disposables.slice().forEach(function(e){try{"function"==typeof e.dispose&&e.dispose(t),c.removeFrom(t._disposables,e)}catch(e){}}))},e.prototype.plugin=function(e,t){void 0===t&&(t={});var n=new e(this,t);if(!n.name)throw new Error("Required property `name` missing on plugin: "+n);return this._disposables.push(n),this._plugins[n.name]=n},e.prototype.getPlugin=function(e){return e?this._plugins[e]:c.values(this._plugins)},e}();t.UIRouter=h},"./node_modules/@uirouter/core/lib/state/index.js":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./node_modules/@uirouter/core/lib/state/stateBuilder.js")),r(n("./node_modules/@uirouter/core/lib/state/stateObject.js")),r(n("./node_modules/@uirouter/core/lib/state/stateMatcher.js")),r(n("./node_modules/@uirouter/core/lib/state/stateQueueManager.js")),r(n("./node_modules/@uirouter/core/lib/state/stateRegistry.js")),r(n("./node_modules/@uirouter/core/lib/state/stateService.js")),r(n("./node_modules/@uirouter/core/lib/state/targetState.js"))},"./node_modules/@uirouter/core/lib/state/stateBuilder.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/common/common.js"),o=n("./node_modules/@uirouter/core/lib/common/predicates.js"),i=n("./node_modules/@uirouter/core/lib/common/strings.js"),s=n("./node_modules/@uirouter/core/lib/common/hof.js"),a=n("./node_modules/@uirouter/core/lib/resolve/resolvable.js"),u=n("./node_modules/@uirouter/core/lib/common/coreservices.js");function l(e){return e.name}function c(e){return e.self.$$state=function(){return e},e.self}function d(e){return e.parent&&e.parent.data&&(e.data=e.self.data=r.inherit(e.parent.data,e.data)),e.data}var m=function(e,t){return function(n){var i=n;i&&i.url&&i.name&&i.name.match(/\.\*\*$/)&&(i.url+="{remainder:any}");var s=function(e){if(!o.isString(e))return!1;var t="^"===e.charAt(0);return{val:t?e.substring(1):e,root:t}}(i.url),a=n.parent,u=s?e.compile(s.val,{params:n.params||{},paramMap:function(e,t){return!1===i.reloadOnSearch&&t&&(e=r.extend(e||{},{dynamic:!0})),e}}):i.url;if(!u)return null;if(!e.isMatcher(u))throw new Error("Invalid url '"+u+"' in state '"+n+"'");return s&&s.root?u:(a&&a.navigable||t()).url.append(u)}},f=function(e){return function(t){return!e(t)&&t.url?t:t.parent?t.parent.navigable:null}},p=function(e){return function(t){var n=t.url&&t.url.parameters({inherit:!1})||[],o=r.values(r.mapObj(r.omit(t.params||{},n.map(s.prop("id"))),function(t,n){return e.fromConfig(n,null,t)}));return n.concat(o).map(function(e){return[e.id,e]}).reduce(r.applyPairs,{})}};function h(e){return e.parent?e.parent.path.concat(e):[e]}function v(e){var t=e.parent?r.extend({},e.parent.includes):{};return t[e.name]=!0,t}function g(e){var t,n,l=function(e){return e.provide||e.token},c=s.pattern([[s.prop("resolveFn"),function(e){return new a.Resolvable(l(e),e.resolveFn,e.deps,e.policy)}],[s.prop("useFactory"),function(e){return new a.Resolvable(l(e),e.useFactory,e.deps||e.dependencies,e.policy)}],[s.prop("useClass"),function(e){return new a.Resolvable(l(e),function(){return new e.useClass},[],e.policy)}],[s.prop("useValue"),function(e){return new a.Resolvable(l(e),function(){return e.useValue},[],e.policy,e.useValue)}],[s.prop("useExisting"),function(e){return new a.Resolvable(l(e),r.identity,[e.useExisting],e.policy)}]]),d=s.pattern([[s.pipe(s.prop("val"),o.isString),function(e){return new a.Resolvable(e.token,r.identity,[e.val],e.policy)}],[s.pipe(s.prop("val"),o.isArray),function(e){return new a.Resolvable(e.token,r.tail(e.val),e.val.slice(0,-1),e.policy)}],[s.pipe(s.prop("val"),o.isFunction),function(e){return new a.Resolvable(e.token,e.val,(t=e.val,n=u.services.$injector,t.$inject||n&&n.annotate(t,n.strictDi)||"deferred"),e.policy);var t,n}]]),m=s.pattern([[s.is(a.Resolvable),function(e){return e}],[function(e){return!(!e.token||!e.resolveFn)},c],[function(e){return!(!e.provide&&!e.token||!(e.useValue||e.useFactory||e.useExisting||e.useClass))},c],[function(e){return!!(e&&e.val&&(o.isString(e.val)||o.isArray(e.val)||o.isFunction(e.val)))},d],[s.val(!0),function(e){throw new Error("Invalid resolve value: "+i.stringify(e))}]]),f=e.resolve;return(o.isArray(f)?f:(t=f,n=e.resolvePolicy||{},Object.keys(t||{}).map(function(e){return{token:e,val:t[e],deps:void 0,policy:n[e]}}))).map(m)}t.resolvablesBuilder=g;var _=function(){function e(e,t){this.matcher=e;var n=this,r=function(){return e.find("")},o=function(e){return""===e.name};this.builders={name:[l],self:[c],parent:[function(t){return o(t)?null:e.find(n.parentName(t))||r()}],data:[d],url:[m(t,r)],navigable:[f(o)],params:[p(t.paramFactory)],views:[],path:[h],includes:[v],resolvables:[g]}}return e.prototype.builder=function(e,t){var n=this.builders,r=n[e]||[];return o.isString(e)&&!o.isDefined(t)?r.length>1?r:r[0]:o.isString(e)&&o.isFunction(t)?(n[e]=r,n[e].push(t),function(){return n[e].splice(n[e].indexOf(t,1))&&null}):void 0},e.prototype.build=function(e){var t=this.matcher,n=this.builders,o=this.parentName(e);if(o&&!t.find(o,void 0,!1))return null;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i].reduce(function(e,t){return function(n){return t(n,e)}},r.noop);e[i]=s(e)}return e},e.prototype.parentName=function(e){var t=e.name||"",n=t.split(".");if(n.length>1){if(e.parent)throw new Error("States that specify the 'parent:' property should not have a '.' in their name ("+t+")");return"**"===n.pop()&&n.pop(),n.join(".")}return e.parent?o.isString(e.parent)?e.parent:e.parent.name:""},e.prototype.name=function(e){var t=e.name;if(-1!==t.indexOf(".")||!e.parent)return t;var n=o.isString(e.parent)?e.parent:e.parent.name;return n?n+"."+t:t},e}();t.StateBuilder=_},"./node_modules/@uirouter/core/lib/state/stateMatcher.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/common/predicates.js"),o=n("./node_modules/@uirouter/core/lib/common/common.js"),i=function(){function e(e){this._states=e}return e.prototype.isRelative=function(e){return 0===(e=e||"").indexOf(".")||0===e.indexOf("^")},e.prototype.find=function(e,t,n){if(void 0===n&&(n=!0),e||""===e){var i=r.isString(e),s=i?e:e.name;this.isRelative(s)&&(s=this.resolvePath(s,t));var a=this._states[s];if(a&&(i||!(i||a!==e&&a.self!==e)))return a;if(i&&n){var u=o.values(this._states).filter(function(e){return e.__stateObjectCache.nameGlob&&e.__stateObjectCache.nameGlob.matches(s)});return u.length>1&&console.log("stateMatcher.find: Found multiple matches for "+s+" using glob: ",u.map(function(e){return e.name})),u[0]}}},e.prototype.resolvePath=function(e,t){if(!t)throw new Error("No reference point given for path '"+e+"'");for(var n=this.find(t),r=e.split("."),o=0,i=r.length,s=n;o<i;o++)if(""!==r[o]||0!==o){if("^"!==r[o])break;if(!s.parent)throw new Error("Path '"+e+"' not valid for state '"+n.name+"'");s=s.parent}else s=n;var a=r.slice(o).join(".");return s.name+(s.name&&a?".":"")+a},e}();t.StateMatcher=i},"./node_modules/@uirouter/core/lib/state/stateObject.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/common/common.js"),o=n("./node_modules/@uirouter/core/lib/common/hof.js"),i=n("./node_modules/@uirouter/core/lib/common/glob.js"),s=n("./node_modules/@uirouter/core/lib/common/predicates.js"),a=function(){function e(t){return e.create(t||{})}return e.create=function(t){t=e.isStateClass(t)?new t:t;var n=r.inherit(r.inherit(t,e.prototype));return t.$$state=function(){return n},n.self=t,n.__stateObjectCache={nameGlob:i.Glob.fromString(n.name)},n},e.prototype.is=function(e){return this===e||this.self===e||this.fqn()===e},e.prototype.fqn=function(){if(!(this.parent&&this.parent instanceof this.constructor))return this.name;var e=this.parent.fqn();return e?e+"."+this.name:this.name},e.prototype.root=function(){return this.parent&&this.parent.root()||this},e.prototype.parameters=function(e){return((e=r.defaults(e,{inherit:!0,matchingKeys:null})).inherit&&this.parent&&this.parent.parameters()||[]).concat(r.values(this.params)).filter(function(t){return!e.matchingKeys||e.matchingKeys.hasOwnProperty(t.id)})},e.prototype.parameter=function(e,t){return void 0===t&&(t={}),this.url&&this.url.parameter(e,t)||r.find(r.values(this.params),o.propEq("id",e))||t.inherit&&this.parent&&this.parent.parameter(e)},e.prototype.toString=function(){return this.fqn()},e}();a.isStateClass=function(e){return s.isFunction(e)&&!0===e.__uiRouterState},a.isState=function(e){return s.isObject(e.__stateObjectCache)},t.StateObject=a},"./node_modules/@uirouter/core/lib/state/stateQueueManager.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/common/common.js"),o=n("./node_modules/@uirouter/core/lib/common/predicates.js"),i=n("./node_modules/@uirouter/core/lib/state/stateObject.js"),s=n("./node_modules/@uirouter/core/lib/common/hof.js"),a=function(){function e(e,t,n,r,o){this.$registry=e,this.$urlRouter=t,this.states=n,this.builder=r,this.listeners=o,this.queue=[],this.matcher=e.matcher}return e.prototype.dispose=function(){this.queue=[]},e.prototype.register=function(e){var t=this.queue,n=i.StateObject.create(e),a=n.name;if(!o.isString(a))throw new Error("State must have a valid name");if(this.states.hasOwnProperty(a)||r.inArray(t.map(s.prop("name")),a))throw new Error("State '"+a+"' is already defined");return t.push(n),this.flush(),n},e.prototype.flush=function(){for(var e=this,t=this.queue,n=this.states,r=this.builder,o=[],i=[],s={},a=function(t){return e.states.hasOwnProperty(t)&&e.states[t]};t.length>0;){var u=t.shift(),l=u.name,c=r.build(u),d=i.indexOf(u);if(c){var m=a(l);if(m&&m.name===l)throw new Error("State '"+l+"' is already defined");var f=a(l+".**");f&&this.$registry.deregister(f),n[l]=u,this.attachRoute(u),d>=0&&i.splice(d,1),o.push(u)}else{var p=s[l];if(s[l]=t.length,d>=0&&p===t.length)return t.push(u),n;d<0&&i.push(u),t.push(u)}}return o.length&&this.listeners.forEach(function(e){return e("registered",o.map(function(e){return e.self}))}),n},e.prototype.attachRoute=function(e){!e.abstract&&e.url&&this.$urlRouter.rule(this.$urlRouter.urlRuleFactory.create(e))},e}();t.StateQueueManager=a},"./node_modules/@uirouter/core/lib/state/stateRegistry.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/state/stateMatcher.js"),o=n("./node_modules/@uirouter/core/lib/state/stateBuilder.js"),i=n("./node_modules/@uirouter/core/lib/state/stateQueueManager.js"),s=n("./node_modules/@uirouter/core/lib/common/common.js"),a=n("./node_modules/@uirouter/core/lib/common/hof.js"),u=function(){function e(e){this._router=e,this.states={},this.listeners=[],this.matcher=new r.StateMatcher(this.states),this.builder=new o.StateBuilder(this.matcher,e.urlMatcherFactory),this.stateQueue=new i.StateQueueManager(this,e.urlRouter,this.states,this.builder,this.listeners),this._registerRoot()}return e.prototype._registerRoot=function(){(this._root=this.stateQueue.register({name:"",url:"^",views:null,params:{"#":{value:null,type:"hash",dynamic:!0}},abstract:!0})).navigable=null},e.prototype.dispose=function(){var e=this;this.stateQueue.dispose(),this.listeners=[],this.get().forEach(function(t){return e.get(t)&&e.deregister(t)})},e.prototype.onStatesChanged=function(e){return this.listeners.push(e),function(){s.removeFrom(this.listeners)(e)}.bind(this)},e.prototype.root=function(){return this._root},e.prototype.register=function(e){return this.stateQueue.register(e)},e.prototype._deregisterTree=function(e){var t=this,n=this.get().map(function(e){return e.$$state()}),r=function(e){var t=n.filter(function(t){return-1!==e.indexOf(t.parent)});return 0===t.length?t:t.concat(r(t))},o=r([e]),i=[e].concat(o).reverse();return i.forEach(function(e){var n=t._router.urlRouter;n.rules().filter(a.propEq("state",e)).forEach(n.removeRule.bind(n)),delete t.states[e.name]}),i},e.prototype.deregister=function(e){var t=this.get(e);if(!t)throw new Error("Can't deregister state; not found: "+e);var n=this._deregisterTree(t.$$state());return this.listeners.forEach(function(e){return e("deregistered",n.map(function(e){return e.self}))}),n},e.prototype.get=function(e,t){var n=this;if(0===arguments.length)return Object.keys(this.states).map(function(e){return n.states[e].self});var r=this.matcher.find(e,t);return r&&r.self||null},e.prototype.decorator=function(e,t){return this.builder.builder(e,t)},e}();t.StateRegistry=u},"./node_modules/@uirouter/core/lib/state/stateService.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/common/common.js"),o=n("./node_modules/@uirouter/core/lib/common/predicates.js"),i=n("./node_modules/@uirouter/core/lib/common/queue.js"),s=n("./node_modules/@uirouter/core/lib/common/coreservices.js"),a=n("./node_modules/@uirouter/core/lib/path/pathFactory.js"),u=n("./node_modules/@uirouter/core/lib/path/pathNode.js"),l=n("./node_modules/@uirouter/core/lib/transition/transitionService.js"),c=n("./node_modules/@uirouter/core/lib/transition/rejectFactory.js"),d=n("./node_modules/@uirouter/core/lib/state/targetState.js"),m=n("./node_modules/@uirouter/core/lib/params/param.js"),f=n("./node_modules/@uirouter/core/lib/common/glob.js"),p=n("./node_modules/@uirouter/core/lib/resolve/resolveContext.js"),h=n("./node_modules/@uirouter/core/lib/hooks/lazyLoad.js"),v=n("./node_modules/@uirouter/core/lib/common/hof.js"),g=function(){function e(t){this.router=t,this.invalidCallbacks=[],this._defaultErrorHandler=function(e){e instanceof Error&&e.stack?(console.error(e),console.error(e.stack)):e instanceof c.Rejection?(console.error(e.toString()),e.detail&&e.detail.stack&&console.error(e.detail.stack)):console.error(e)};var n=Object.keys(e.prototype).filter(v.not(r.inArray(["current","$current","params","transition"])));r.createProxyFunctions(v.val(e.prototype),this,v.val(this),n)}return Object.defineProperty(e.prototype,"transition",{get:function(){return this.router.globals.transition},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"params",{get:function(){return this.router.globals.params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this.router.globals.current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$current",{get:function(){return this.router.globals.$current},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.defaultErrorHandler(r.noop),this.invalidCallbacks=[]},e.prototype._handleInvalidTargetState=function(e,t){var n=this,r=a.PathUtils.makeTargetState(e),o=this.router.globals,u=function(){return o.transitionHistory.peekTail()},l=u(),m=new i.Queue(this.invalidCallbacks.slice()),f=new p.ResolveContext(e).injector(),h=function(e){if(e instanceof d.TargetState){var t=e;return(t=n.target(t.identifier(),t.params(),t.options())).valid()?u()!==l?c.Rejection.superseded().toPromise():n.transitionTo(t.identifier(),t.params(),t.options()):c.Rejection.invalid(t.error()).toPromise()}};return function e(){var n=m.dequeue();return void 0===n?c.Rejection.invalid(t.error()).toPromise():s.services.$q.when(n(t,r,f)).then(h).then(function(t){return t||e()})}()},e.prototype.onInvalid=function(e){return this.invalidCallbacks.push(e),function(){r.removeFrom(this.invalidCallbacks)(e)}.bind(this)},e.prototype.reload=function(e){return this.transitionTo(this.current,this.params,{reload:!o.isDefined(e)||e,inherit:!1,notify:!1})},e.prototype.go=function(e,t,n){var o={relative:this.$current,inherit:!0},i=r.defaults(n,o,l.defaultTransOpts);return this.transitionTo(e,t,i)},e.prototype.target=function(e,t,n){if(void 0===n&&(n={}),o.isObject(n.reload)&&!n.reload.name)throw new Error("Invalid reload state object");var r=this.router.stateRegistry;if(n.reloadState=!0===n.reload?r.root():r.matcher.find(n.reload,n.relative),n.reload&&!n.reloadState)throw new Error("No such reload state '"+(o.isString(n.reload)?n.reload:n.reload.name)+"'");var i=r.matcher.find(e,n.relative);return new d.TargetState(e,i,t,n)},e.prototype.getCurrentPath=function(){var e=this,t=this.router.globals.successfulTransitions.peekTail();return t?t.treeChanges().to:[new u.PathNode(e.router.stateRegistry.root())]},e.prototype.transitionTo=function(e,t,n){var o=this;void 0===t&&(t={}),void 0===n&&(n={});var i=this.router,a=i.globals;n=r.defaults(n,l.defaultTransOpts);n=r.extend(n,{current:function(){return a.transition}});var u=this.target(e,t,n),m=this.getCurrentPath();if(!u.exists())return this._handleInvalidTargetState(m,u);if(!u.valid())return r.silentRejection(u.error());var f=function(e){return function(t){if(t instanceof c.Rejection){var n=i.globals.lastStartedTransitionId===e.$id;if(t.type===c.RejectType.IGNORED)return n&&i.urlRouter.update(),s.services.$q.when(a.current);var r=t.detail;if(t.type===c.RejectType.SUPERSEDED&&t.redirected&&r instanceof d.TargetState){var u=e.redirect(r);return u.run().catch(f(u))}if(t.type===c.RejectType.ABORTED)return n&&i.urlRouter.update(),s.services.$q.reject(t)}return o.defaultErrorHandler()(t),s.services.$q.reject(t)}},p=this.router.transitionService.create(m,u),h=p.run().catch(f(p));return r.silenceUncaughtInPromise(h),r.extend(h,{transition:p})},e.prototype.is=function(e,t,n){n=r.defaults(n,{relative:this.$current});var i=this.router.stateRegistry.matcher.find(e,n.relative);if(o.isDefined(i)){if(this.$current!==i)return!1;if(!t)return!0;var s=i.parameters({inherit:!0,matchingKeys:t});return m.Param.equals(s,m.Param.values(s,t),this.params)}},e.prototype.includes=function(e,t,n){n=r.defaults(n,{relative:this.$current});var i=o.isString(e)&&f.Glob.fromString(e);if(i){if(!i.matches(this.$current.name))return!1;e=this.$current.name}var s=this.router.stateRegistry.matcher.find(e,n.relative),a=this.$current.includes;if(o.isDefined(s)){if(!o.isDefined(a[s.name]))return!1;if(!t)return!0;var u=s.parameters({inherit:!0,matchingKeys:t});return m.Param.equals(u,m.Param.values(u,t),this.params)}},e.prototype.href=function(e,t,n){var i={lossy:!0,inherit:!0,absolute:!1,relative:this.$current};n=r.defaults(n,i),t=t||{};var s=this.router.stateRegistry.matcher.find(e,n.relative);if(!o.isDefined(s))return null;n.inherit&&(t=this.params.$inherit(t,this.$current,s));var a=s&&n.lossy?s.navigable:s;return a&&void 0!==a.url&&null!==a.url?this.router.urlRouter.href(a.url,t,{absolute:n.absolute}):null},e.prototype.defaultErrorHandler=function(e){return this._defaultErrorHandler=e||this._defaultErrorHandler},e.prototype.get=function(e,t){var n=this.router.stateRegistry;return 0===arguments.length?n.get():n.get(e,t||this.$current)},e.prototype.lazyLoad=function(e,t){var n=this.get(e);if(!n||!n.lazyLoad)throw new Error("Can not lazy load "+e);var r=this.getCurrentPath(),o=a.PathUtils.makeTargetState(r);return t=t||this.router.transitionService.create(r,o),h.lazyLoadState(t,n)},e}();t.StateService=g},"./node_modules/@uirouter/core/lib/state/targetState.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/common/common.js"),o=n("./node_modules/@uirouter/core/lib/common/predicates.js"),i=function(){function e(e,t,n,r){void 0===r&&(r={}),this._identifier=e,this._definition=t,this._options=r,this._params=n||{}}return e.prototype.name=function(){return this._definition&&this._definition.name||this._identifier},e.prototype.identifier=function(){return this._identifier},e.prototype.params=function(){return this._params},e.prototype.$state=function(){return this._definition},e.prototype.state=function(){return this._definition&&this._definition.self},e.prototype.options=function(){return this._options},e.prototype.exists=function(){return!(!this._definition||!this._definition.self)},e.prototype.valid=function(){return!this.error()},e.prototype.error=function(){var e=this.options().relative;if(!this._definition&&e){var t=e.name?e.name:e;return"Could not resolve '"+this.name()+"' from state '"+t+"'"}return this._definition?this._definition.self?void 0:"State '"+this.name()+"' has an invalid definition":"No such state '"+this.name()+"'"},e.prototype.toString=function(){return"'"+this.name()+"'"+r.toJson(this.params())},e}();i.isDef=function(e){return e&&e.state&&(o.isString(e.state)||o.isString(e.state.name))},t.TargetState=i},"./node_modules/@uirouter/core/lib/transition/hookBuilder.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/common/common.js"),o=n("./node_modules/@uirouter/core/lib/common/predicates.js"),i=n("./node_modules/@uirouter/core/lib/transition/interface.js"),s=n("./node_modules/@uirouter/core/lib/transition/transitionHook.js"),a=function(){function e(e){this.transition=e}return e.prototype.buildHooksForPhase=function(e){var t=this;return this.transition.router.transitionService._pluginapi._getEvents(e).map(function(e){return t.buildHooks(e)}).reduce(r.unnestR,[]).filter(r.identity)},e.prototype.buildHooks=function(e){var t=this.transition,n=t.treeChanges(),o=this.getMatchingHooks(e,n);if(!o)return[];var a={transition:t,current:t.options().current};return o.map(function(o){return o.matches(n)[e.criteriaMatchPath.name].map(function(n){var u=r.extend({bind:o.bind,traceData:{hookType:e.name,context:n}},a),l=e.criteriaMatchPath.scope===i.TransitionHookScope.STATE?n.state.self:null,c=new s.TransitionHook(t,l,o,u);return{hook:o,node:n,transitionHook:c}})}).reduce(r.unnestR,[]).sort(function(e){void 0===e&&(e=!1);return function(t,n){var r=e?-1:1,o=(t.node.state.path.length-n.node.state.path.length)*r;return 0!==o?o:n.hook.priority-t.hook.priority}}(e.reverseSort)).map(function(e){return e.transitionHook})},e.prototype.getMatchingHooks=function(e,t){var n=e.hookPhase===i.TransitionHookPhase.CREATE,s=this.transition.router.transitionService;return(n?[s]:[this.transition,s]).map(function(t){return t.getHooks(e.name)}).filter(r.assertPredicate(o.isArray,"broken event named: "+e.name)).reduce(r.unnestR,[]).filter(function(e){return e.matches(t)})},e}();t.HookBuilder=a},"./node_modules/@uirouter/core/lib/transition/hookRegistry.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/common/common.js"),o=n("./node_modules/@uirouter/core/lib/common/predicates.js"),i=n("./node_modules/@uirouter/core/lib/transition/interface.js"),s=n("./node_modules/@uirouter/core/lib/common/glob.js");function a(e,t){var n=o.isString(t)?[t]:t;return!!(o.isFunction(n)?n:function(e){for(var t=n,r=0;r<t.length;r++){var o=new s.Glob(t[r]);if(o&&o.matches(e.name)||!o&&t[r]===e.name)return!0}return!1})(e)}t.matchState=a;var u=function(){function e(e,t,n,r,o){void 0===o&&(o={}),this.tranSvc=e,this.eventType=t,this.callback=n,this.matchCriteria=r,this.priority=o.priority||0,this.bind=o.bind||null,this._deregistered=!1}return e.prototype._matchingNodes=function(e,t){if(!0===t)return e;var n=e.filter(function(e){return a(e.state,t)});return n.length?n:null},e.prototype._getDefaultMatchCriteria=function(){return r.map(this.tranSvc._pluginapi._getPathTypes(),function(){return!0})},e.prototype._getMatchingNodes=function(e){var t=this,n=r.extend(this._getDefaultMatchCriteria(),this.matchCriteria);return r.values(this.tranSvc._pluginapi._getPathTypes()).reduce(function(o,s){var a=s.scope===i.TransitionHookScope.STATE,u=e[s.name]||[],l=a?u:[r.tail(u)];return o[s.name]=t._matchingNodes(l,n[s.name]),o},{})},e.prototype.matches=function(e){var t=this._getMatchingNodes(e);return r.values(t).every(r.identity)?t:null},e}();t.RegisteredHook=u,t.makeEvent=function(e,t,n){var o=(e._registeredHooks=e._registeredHooks||{})[n.name]=[];function i(e,i,s){void 0===s&&(s={});var a=new u(t,n,i,e,s);return o.push(a),function(){a._deregistered=!0,r.removeFrom(o)(a)}}return e[n.name]=i,i}},"./node_modules/@uirouter/core/lib/transition/index.js":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./node_modules/@uirouter/core/lib/transition/interface.js")),r(n("./node_modules/@uirouter/core/lib/transition/hookBuilder.js")),r(n("./node_modules/@uirouter/core/lib/transition/hookRegistry.js")),r(n("./node_modules/@uirouter/core/lib/transition/rejectFactory.js")),r(n("./node_modules/@uirouter/core/lib/transition/transition.js")),r(n("./node_modules/@uirouter/core/lib/transition/transitionHook.js")),r(n("./node_modules/@uirouter/core/lib/transition/transitionEventType.js")),r(n("./node_modules/@uirouter/core/lib/transition/transitionService.js"))},"./node_modules/@uirouter/core/lib/transition/interface.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.CREATE=0]="CREATE",e[e.BEFORE=1]="BEFORE",e[e.RUN=2]="RUN",e[e.SUCCESS=3]="SUCCESS",e[e.ERROR=4]="ERROR"}(t.TransitionHookPhase||(t.TransitionHookPhase={})),function(e){e[e.TRANSITION=0]="TRANSITION",e[e.STATE=1]="STATE"}(t.TransitionHookScope||(t.TransitionHookScope={}))},"./node_modules/@uirouter/core/lib/transition/rejectFactory.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./node_modules/@uirouter/core/lib/common/common.js"),i=n("./node_modules/@uirouter/core/lib/common/strings.js"),s=n("./node_modules/@uirouter/core/lib/common/hof.js");!function(e){e[e.SUPERSEDED=2]="SUPERSEDED",e[e.ABORTED=3]="ABORTED",e[e.INVALID=4]="INVALID",e[e.IGNORED=5]="IGNORED",e[e.ERROR=6]="ERROR"}(r=t.RejectType||(t.RejectType={}));var a=0,u=function(){function e(e,t,n){this.$id=a++,this.type=e,this.message=t,this.detail=n}return e.prototype.toString=function(){var e,t=(e=this.detail)&&e.toString!==Object.prototype.toString?e.toString():i.stringify(e);return"Transition Rejection($id: "+this.$id+" type: "+this.type+", message: "+this.message+", detail: "+t+")"},e.prototype.toPromise=function(){return o.extend(o.silentRejection(this),{_transitionRejection:this})},e.isRejectionPromise=function(t){return t&&"function"==typeof t.then&&s.is(e)(t._transitionRejection)},e.superseded=function(t,n){var o=new e(r.SUPERSEDED,"The transition has been superseded by a different transition",t);return n&&n.redirected&&(o.redirected=!0),o},e.redirected=function(t){return e.superseded(t,{redirected:!0})},e.invalid=function(t){return new e(r.INVALID,"This transition is invalid",t)},e.ignored=function(t){return new e(r.IGNORED,"The transition was ignored",t)},e.aborted=function(t){return new e(r.ABORTED,"The transition has been aborted",t)},e.errored=function(t){return new e(r.ERROR,"The transition errored",t)},e.normalize=function(t){return s.is(e)(t)?t:e.errored(t)},e}();t.Rejection=u},"./node_modules/@uirouter/core/lib/transition/transition.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/common/trace.js"),o=n("./node_modules/@uirouter/core/lib/common/coreservices.js"),i=n("./node_modules/@uirouter/core/lib/common/common.js"),s=n("./node_modules/@uirouter/core/lib/common/predicates.js"),a=n("./node_modules/@uirouter/core/lib/common/hof.js"),u=n("./node_modules/@uirouter/core/lib/transition/interface.js"),l=n("./node_modules/@uirouter/core/lib/transition/transitionHook.js"),c=n("./node_modules/@uirouter/core/lib/transition/hookRegistry.js"),d=n("./node_modules/@uirouter/core/lib/transition/hookBuilder.js"),m=n("./node_modules/@uirouter/core/lib/path/pathFactory.js"),f=n("./node_modules/@uirouter/core/lib/state/targetState.js"),p=n("./node_modules/@uirouter/core/lib/params/param.js"),h=n("./node_modules/@uirouter/core/lib/resolve/resolvable.js"),v=n("./node_modules/@uirouter/core/lib/resolve/resolveContext.js"),g=a.prop("self"),_=function(){function e(e,t,n){var r=this;if(this._deferred=o.services.$q.defer(),this.promise=this._deferred.promise,this._registeredHooks={},this._hookBuilder=new d.HookBuilder(this),this.isActive=function(){return r.router.globals.transition===r},this.router=n,this._targetState=t,!t.valid())throw new Error(t.error());this._options=i.extend({current:a.val(this)},t.options()),this.$id=n.transitionService._transitionCount++;var s=m.PathUtils.buildToPath(e,t);this._treeChanges=m.PathUtils.treeChanges(e,s,this._options.reloadState),this.createTransitionHookRegFns();var c=this._hookBuilder.buildHooksForPhase(u.TransitionHookPhase.CREATE);l.TransitionHook.invokeHooks(c,function(){return null}),this.applyViewConfigs(n)}return e.prototype.onBefore=function(e,t,n){},e.prototype.onStart=function(e,t,n){},e.prototype.onExit=function(e,t,n){},e.prototype.onRetain=function(e,t,n){},e.prototype.onEnter=function(e,t,n){},e.prototype.onFinish=function(e,t,n){},e.prototype.onSuccess=function(e,t,n){},e.prototype.onError=function(e,t,n){},e.prototype.createTransitionHookRegFns=function(){var e=this;this.router.transitionService._pluginapi._getEvents().filter(function(e){return e.hookPhase!==u.TransitionHookPhase.CREATE}).forEach(function(t){return c.makeEvent(e,e.router.transitionService,t)})},e.prototype.getHooks=function(e){return this._registeredHooks[e]},e.prototype.applyViewConfigs=function(e){var t=this._treeChanges.entering.map(function(e){return e.state});m.PathUtils.applyViewConfigs(e.transitionService.$view,this._treeChanges.to,t)},e.prototype.$from=function(){return i.tail(this._treeChanges.from).state},e.prototype.$to=function(){return i.tail(this._treeChanges.to).state},e.prototype.from=function(){return this.$from().self},e.prototype.to=function(){return this.$to().self},e.prototype.targetState=function(){return this._targetState},e.prototype.is=function(t){return t instanceof e?this.is({to:t.$to().name,from:t.$from().name}):!(t.to&&!c.matchState(this.$to(),t.to)||t.from&&!c.matchState(this.$from(),t.from))},e.prototype.params=function(e){return void 0===e&&(e="to"),Object.freeze(this._treeChanges[e].map(a.prop("paramValues")).reduce(i.mergeR,{}))},e.prototype.injector=function(e,t){void 0===t&&(t="to");var n=this._treeChanges[t];return e&&(n=m.PathUtils.subPath(n,function(t){return t.state===e||t.state.name===e})),new v.ResolveContext(n).injector()},e.prototype.getResolveTokens=function(e){return void 0===e&&(e="to"),new v.ResolveContext(this._treeChanges[e]).getTokens()},e.prototype.addResolvable=function(e,t){void 0===t&&(t=""),e=a.is(h.Resolvable)(e)?e:new h.Resolvable(e);var n="string"==typeof t?t:t.name,r=this._treeChanges.to,o=i.find(r,function(e){return e.state.name===n});new v.ResolveContext(r).addResolvables([e],o.state)},e.prototype.redirectedFrom=function(){return this._options.redirectedFrom||null},e.prototype.originalTransition=function(){var e=this.redirectedFrom();return e&&e.originalTransition()||this},e.prototype.options=function(){return this._options},e.prototype.entering=function(){return i.map(this._treeChanges.entering,a.prop("state")).map(g)},e.prototype.exiting=function(){return i.map(this._treeChanges.exiting,a.prop("state")).map(g).reverse()},e.prototype.retained=function(){return i.map(this._treeChanges.retained,a.prop("state")).map(g)},e.prototype.views=function(e,t){void 0===e&&(e="entering");var n=this._treeChanges[e];return(n=t?n.filter(a.propEq("state",t)):n).map(a.prop("views")).filter(i.identity).reduce(i.unnestR,[])},e.prototype.treeChanges=function(e){return e?this._treeChanges[e]:this._treeChanges},e.prototype.redirect=function(e){for(var t=1,n=this;null!=(n=n.redirectedFrom());)if(++t>20)throw new Error("Too many consecutive Transition redirects (20+)");var r={redirectedFrom:this,source:"redirect"};"url"===this.options().source&&!1!==e.options().location&&(r.location="replace");var o=i.extend({},this.options(),e.options(),r);e=new f.TargetState(e.identifier(),e.$state(),e.params(),o);var s,u=this.router.transitionService.create(this._treeChanges.from,e),l=this._treeChanges.entering,c=u._treeChanges.entering;return m.PathUtils.matching(c,l,m.PathUtils.nonDynamicParams).filter(a.not((s=e.options().reloadState,function(e){return s&&e.state.includes[s.name]}))).forEach(function(e,t){e.resolvables=l[t].resolvables}),u},e.prototype._changedParams=function(){var e=this._treeChanges;if(!this._options.reload&&(!e.exiting.length&&!e.entering.length&&e.to.length===e.from.length&&!i.arrayTuples(e.to,e.from).map(function(e){return e[0].state!==e[1].state}).reduce(i.anyTrueR,!1))){var t=e.to.map(function(e){return e.paramSchema}),n=[e.to,e.from].map(function(e){return e.map(function(e){return e.paramValues})}),r=n[0],o=n[1];return i.arrayTuples(t,r,o).map(function(e){var t=e[0],n=e[1],r=e[2];return p.Param.changed(t,n,r)}).reduce(i.unnestR,[])}},e.prototype.dynamic=function(){var e=this._changedParams();return!!e&&e.map(function(e){return e.dynamic}).reduce(i.anyTrueR,!1)},e.prototype.ignored=function(){return!!this._ignoredReason()},e.prototype._ignoredReason=function(){var e=this.router.globals.transition,t=this._options.reloadState,n=function(e,n){if(e.length!==n.length)return!1;var r=m.PathUtils.matching(e,n);return e.length===r.filter(function(e){return!t||!e.state.includes[t.name]}).length},r=this.treeChanges(),o=e&&e.treeChanges();return o&&n(o.to,r.to)&&n(o.exiting,r.exiting)?"SameAsPending":0===r.exiting.length&&0===r.entering.length&&n(r.from,r.to)?"SameAsCurrent":void 0},e.prototype.run=function(){var e=this,t=l.TransitionHook.runAllHooks,n=function(t){return e._hookBuilder.buildHooksForPhase(t)},i=n(u.TransitionHookPhase.BEFORE);return l.TransitionHook.invokeHooks(i,function(){var t=e.router.globals;return t.lastStartedTransitionId=e.$id,t.transition=e,t.transitionHistory.enqueue(e),r.trace.traceTransitionStart(e),o.services.$q.when(void 0)}).then(function(){var e=n(u.TransitionHookPhase.RUN);return l.TransitionHook.invokeHooks(e,function(){return o.services.$q.when(void 0)})}).then(function(){r.trace.traceSuccess(e.$to(),e),e.success=!0,e._deferred.resolve(e.to()),t(n(u.TransitionHookPhase.SUCCESS))},function(o){r.trace.traceError(o,e),e.success=!1,e._deferred.reject(o),e._error=o,t(n(u.TransitionHookPhase.ERROR))}),this.promise},e.prototype.valid=function(){return!this.error()||void 0!==this.success},e.prototype.abort=function(){s.isUndefined(this.success)&&(this._aborted=!0)},e.prototype.error=function(){var e=this.$to();return e.self.abstract?"Cannot transition to abstract state '"+e.name+"'":p.Param.validates(e.parameters(),this.params())?!1===this.success?this._error:void 0:"Param values not valid for state '"+e.name+"'"},e.prototype.toString=function(){var e=this.from(),t=this.to(),n=function(e){return null!==e["#"]&&void 0!==e["#"]?e:i.omit(e,["#"])};return"Transition#"+this.$id+"( '"+(s.isObject(e)?e.name:e)+"'"+i.toJson(n(this._treeChanges.from.map(a.prop("paramValues")).reduce(i.mergeR,{})))+" -> "+(this.valid()?"":"(X) ")+"'"+(s.isObject(t)?t.name:t)+"'"+i.toJson(n(this.params()))+" )"},e}();_.diToken=_,t.Transition=_},"./node_modules/@uirouter/core/lib/transition/transitionEventType.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/transition/transitionHook.js"),o=function(){return function(e,t,n,o,i,s,a,u){void 0===i&&(i=!1),void 0===s&&(s=r.TransitionHook.HANDLE_RESULT),void 0===a&&(a=r.TransitionHook.REJECT_ERROR),void 0===u&&(u=!1),this.name=e,this.hookPhase=t,this.hookOrder=n,this.criteriaMatchPath=o,this.reverseSort=i,this.getResultHandler=s,this.getErrorHandler=a,this.synchronous=u}}();t.TransitionEventType=o},"./node_modules/@uirouter/core/lib/transition/transitionHook.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/transition/interface.js"),o=n("./node_modules/@uirouter/core/lib/common/common.js"),i=n("./node_modules/@uirouter/core/lib/common/strings.js"),s=n("./node_modules/@uirouter/core/lib/common/predicates.js"),a=n("./node_modules/@uirouter/core/lib/common/hof.js"),u=n("./node_modules/@uirouter/core/lib/common/trace.js"),l=n("./node_modules/@uirouter/core/lib/common/coreservices.js"),c=n("./node_modules/@uirouter/core/lib/transition/rejectFactory.js"),d=n("./node_modules/@uirouter/core/lib/state/targetState.js"),m={current:o.noop,transition:null,traceData:{},bind:null},f=function(){function e(e,t,n,i){var s=this;this.transition=e,this.stateContext=t,this.registeredHook=n,this.options=i,this.isSuperseded=function(){return s.type.hookPhase===r.TransitionHookPhase.RUN&&!s.options.transition.isActive()},this.options=o.defaults(i,m),this.type=n.eventType}return e.prototype.logError=function(e){this.transition.router.stateService.defaultErrorHandler()(e)},e.prototype.invokeHook=function(){var e=this,t=this.registeredHook;if(!t._deregistered){var n=this.getNotCurrentRejection();if(n)return n;var r=this.options;u.trace.traceHookInvocation(this,this.transition,r);var o=function(n){return t.eventType.getErrorHandler(e)(n)},i=function(n){return t.eventType.getResultHandler(e)(n)};try{var a=t.callback.call(r.bind,e.transition,e.stateContext);return!this.type.synchronous&&s.isPromise(a)?a.catch(function(e){return c.Rejection.normalize(e).toPromise()}).then(i,o):i(a)}catch(e){return o(c.Rejection.normalize(e))}}},e.prototype.handleHookResult=function(e){var t=this,n=this.getNotCurrentRejection();return n||(s.isPromise(e)?e.then(function(e){return t.handleHookResult(e)}):(u.trace.traceHookResult(e,this.transition,this.options),!1===e?c.Rejection.aborted("Hook aborted transition").toPromise():a.is(d.TargetState)(e)?c.Rejection.redirected(e).toPromise():void 0))},e.prototype.getNotCurrentRejection=function(){var e=this.transition.router;return e._disposed?c.Rejection.aborted("UIRouter instance #"+e.$id+" has been stopped (disposed)").toPromise():this.transition._aborted?c.Rejection.aborted().toPromise():this.isSuperseded()?c.Rejection.superseded(this.options.current()).toPromise():void 0},e.prototype.toString=function(){var e=this.options,t=this.registeredHook,n=a.parse("traceData.hookType")(e)||"internal",r=a.parse("traceData.context.state.name")(e)||a.parse("traceData.context")(e)||"unknown",o=i.fnToString(t.callback);return n+" context: "+r+", "+i.maxLength(200,o)},e.chain=function(e,t){return e.reduce(function(e,t){return e.then(function(){return t.invokeHook()})},t||l.services.$q.when())},e.invokeHooks=function(t,n){for(var r=0;r<t.length;r++){var o=t[r].invokeHook();if(s.isPromise(o)){var i=t.slice(r+1);return e.chain(i,o).then(n)}}return n()},e.runAllHooks=function(e){e.forEach(function(e){return e.invokeHook()})},e}();f.HANDLE_RESULT=function(e){return function(t){return e.handleHookResult(t)}},f.LOG_REJECTED_RESULT=function(e){return function(t){s.isPromise(t)&&t.catch(function(t){return e.logError(c.Rejection.normalize(t))})}},f.LOG_ERROR=function(e){return function(t){return e.logError(t)}},f.REJECT_ERROR=function(e){return function(e){return o.silentRejection(e)}},f.THROW_ERROR=function(e){return function(e){throw e}},t.TransitionHook=f},"./node_modules/@uirouter/core/lib/transition/transitionService.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/transition/interface.js"),o=n("./node_modules/@uirouter/core/lib/transition/transition.js"),i=n("./node_modules/@uirouter/core/lib/transition/hookRegistry.js"),s=n("./node_modules/@uirouter/core/lib/hooks/coreResolvables.js"),a=n("./node_modules/@uirouter/core/lib/hooks/redirectTo.js"),u=n("./node_modules/@uirouter/core/lib/hooks/onEnterExitRetain.js"),l=n("./node_modules/@uirouter/core/lib/hooks/resolve.js"),c=n("./node_modules/@uirouter/core/lib/hooks/views.js"),d=n("./node_modules/@uirouter/core/lib/hooks/updateGlobals.js"),m=n("./node_modules/@uirouter/core/lib/hooks/url.js"),f=n("./node_modules/@uirouter/core/lib/hooks/lazyLoad.js"),p=n("./node_modules/@uirouter/core/lib/transition/transitionEventType.js"),h=n("./node_modules/@uirouter/core/lib/transition/transitionHook.js"),v=n("./node_modules/@uirouter/core/lib/common/predicates.js"),g=n("./node_modules/@uirouter/core/lib/common/common.js"),_=n("./node_modules/@uirouter/core/lib/common/hof.js"),y=n("./node_modules/@uirouter/core/lib/hooks/ignoredTransition.js"),j=n("./node_modules/@uirouter/core/lib/hooks/invalidTransition.js");t.defaultTransOpts={location:!0,relative:null,inherit:!1,notify:!0,reload:!1,custom:{},current:function(){return null},source:"unknown"};var b=function(){function e(e){this._transitionCount=0,this._eventTypes=[],this._registeredHooks={},this._criteriaPaths={},this._router=e,this.$view=e.viewService,this._deregisterHookFns={},this._pluginapi=g.createProxyFunctions(_.val(this),{},_.val(this),["_definePathType","_defineEvent","_getPathTypes","_getEvents","getHooks"]),this._defineCorePaths(),this._defineCoreEvents(),this._registerCoreTransitionHooks()}return e.prototype.onCreate=function(e,t,n){},e.prototype.onBefore=function(e,t,n){},e.prototype.onStart=function(e,t,n){},e.prototype.onExit=function(e,t,n){},e.prototype.onRetain=function(e,t,n){},e.prototype.onEnter=function(e,t,n){},e.prototype.onFinish=function(e,t,n){},e.prototype.onSuccess=function(e,t,n){},e.prototype.onError=function(e,t,n){},e.prototype.dispose=function(e){g.values(this._registeredHooks).forEach(function(e){return e.forEach(function(t){t._deregistered=!0,g.removeFrom(e,t)})})},e.prototype.create=function(e,t){return new o.Transition(e,t,this._router)},e.prototype._defineCoreEvents=function(){var e=r.TransitionHookPhase,t=h.TransitionHook,n=this._criteriaPaths;this._defineEvent("onCreate",e.CREATE,0,n.to,!1,t.LOG_REJECTED_RESULT,t.THROW_ERROR,!0),this._defineEvent("onBefore",e.BEFORE,0,n.to),this._defineEvent("onStart",e.RUN,0,n.to),this._defineEvent("onExit",e.RUN,100,n.exiting,!0),this._defineEvent("onRetain",e.RUN,200,n.retained),this._defineEvent("onEnter",e.RUN,300,n.entering),this._defineEvent("onFinish",e.RUN,400,n.to),this._defineEvent("onSuccess",e.SUCCESS,0,n.to,!1,t.LOG_REJECTED_RESULT,t.LOG_ERROR,!0),this._defineEvent("onError",e.ERROR,0,n.to,!1,t.LOG_REJECTED_RESULT,t.LOG_ERROR,!0)},e.prototype._defineCorePaths=function(){var e=r.TransitionHookScope.STATE,t=r.TransitionHookScope.TRANSITION;this._definePathType("to",t),this._definePathType("from",t),this._definePathType("exiting",e),this._definePathType("retained",e),this._definePathType("entering",e)},e.prototype._defineEvent=function(e,t,n,r,o,s,a,u){void 0===o&&(o=!1),void 0===s&&(s=h.TransitionHook.HANDLE_RESULT),void 0===a&&(a=h.TransitionHook.REJECT_ERROR),void 0===u&&(u=!1);var l=new p.TransitionEventType(e,t,n,r,o,s,a,u);this._eventTypes.push(l),i.makeEvent(this,this,l)},e.prototype._getEvents=function(e){return(v.isDefined(e)?this._eventTypes.filter(function(t){return t.hookPhase===e}):this._eventTypes.slice()).sort(function(e,t){var n=e.hookPhase-t.hookPhase;return 0===n?e.hookOrder-t.hookOrder:n})},e.prototype._definePathType=function(e,t){this._criteriaPaths[e]={name:e,scope:t}},e.prototype._getPathTypes=function(){return this._criteriaPaths},e.prototype.getHooks=function(e){return this._registeredHooks[e]},e.prototype._registerCoreTransitionHooks=function(){var e=this._deregisterHookFns;e.addCoreResolves=s.registerAddCoreResolvables(this),e.ignored=y.registerIgnoredTransitionHook(this),e.invalid=j.registerInvalidTransitionHook(this),e.redirectTo=a.registerRedirectToHook(this),e.onExit=u.registerOnExitHook(this),e.onRetain=u.registerOnRetainHook(this),e.onEnter=u.registerOnEnterHook(this),e.eagerResolve=l.registerEagerResolvePath(this),e.lazyResolve=l.registerLazyResolveState(this),e.loadViews=c.registerLoadEnteringViews(this),e.activateViews=c.registerActivateViews(this),e.updateGlobals=d.registerUpdateGlobalState(this),e.updateUrl=m.registerUpdateUrl(this),e.lazyLoad=f.registerLazyLoadHook(this)},e}();t.TransitionService=b},"./node_modules/@uirouter/core/lib/url/index.js":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./node_modules/@uirouter/core/lib/url/urlMatcher.js")),r(n("./node_modules/@uirouter/core/lib/url/urlMatcherFactory.js")),r(n("./node_modules/@uirouter/core/lib/url/urlRouter.js")),r(n("./node_modules/@uirouter/core/lib/url/urlRule.js")),r(n("./node_modules/@uirouter/core/lib/url/urlService.js"))},"./node_modules/@uirouter/core/lib/url/urlMatcher.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/common/common.js"),o=n("./node_modules/@uirouter/core/lib/common/hof.js"),i=n("./node_modules/@uirouter/core/lib/common/predicates.js"),s=n("./node_modules/@uirouter/core/lib/params/param.js"),a=n("./node_modules/@uirouter/core/lib/common/strings.js");function u(e,t){var n=["",""],r=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return r;switch(t.squash){case!1:n=["(",")"+(t.isOptional?"?":"")];break;case!0:r=r.replace(/\/$/,""),n=["(?:/(",")|/)?"];break;default:n=["("+t.squash+"|",")?"]}return r+n[0]+t.type.pattern.source+n[1]}var l=a.splitOnDelim("/"),c=function(){function e(t,n,i,s){var a=this;this.config=s,this._cache={path:[this]},this._children=[],this._params=[],this._segments=[],this._compiled=[],this.pattern=t,this.config=r.defaults(this.config,{params:{},strict:!0,caseInsensitive:!1,paramMap:r.identity});for(var l,c,d,m=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,f=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,p=0,h=[],v=function(n){if(!e.nameValidator.test(n))throw new Error("Invalid parameter name '"+n+"' in pattern '"+t+"'");if(r.find(a._params,o.propEq("id",n)))throw new Error("Duplicate parameter name '"+n+"' in pattern '"+t+"'")},g=function(e,o){var i=e[2]||e[3],s=o?e[4]:e[4]||("*"===e[1]?".*":null);return{id:i,regexp:s,cfg:a.config.params[i],segment:t.substring(p,e.index),type:s?n.type(s)||function(e){return r.inherit(n.type(o?"query":"path"),{pattern:new RegExp(e,a.config.caseInsensitive?"i":void 0)})}(s):null}};(l=m.exec(t))&&!((c=g(l,!1)).segment.indexOf("?")>=0);)v(c.id),this._params.push(i.fromPath(c.id,c.type,this.config.paramMap(c.cfg,!1))),this._segments.push(c.segment),h.push([c.segment,r.tail(this._params)]),p=m.lastIndex;var _=(d=t.substring(p)).indexOf("?");if(_>=0){var y=d.substring(_);if(d=d.substring(0,_),y.length>0)for(p=0;l=f.exec(y);)v((c=g(l,!0)).id),this._params.push(i.fromSearch(c.id,c.type,this.config.paramMap(c.cfg,!0))),p=m.lastIndex}this._segments.push(d),this._compiled=h.map(function(e){return u.apply(null,e)}).concat(u(d))}return e.prototype.append=function(e){return this._children.push(e),e._cache={path:this._cache.path.concat(e),parent:this,pattern:null},e},e.prototype.isRoot=function(){return this._cache.path[0]===this},e.prototype.toString=function(){return this.pattern},e.prototype.exec=function(e,t,n,s){var a=this;void 0===t&&(t={}),void 0===s&&(s={});var u,l,c,d=(u=this._cache,l="pattern",c=function(){return new RegExp(["^",r.unnest(a._cache.path.map(o.prop("_compiled"))).join(""),!1===a.config.strict?"/?":"","$"].join(""),a.config.caseInsensitive?"i":void 0)},u[l]=u[l]||c()).exec(e);if(!d)return null;var m,f,p,h=this.parameters(),v=h.filter(function(e){return!e.isSearch()}),g=h.filter(function(e){return e.isSearch()}),_=this._cache.path.map(function(e){return e._segments.length-1}).reduce(function(e,t){return e+t}),y={};if(_!==d.length-1)throw new Error("Unbalanced capture group in route '"+this.pattern+"'");for(var j=0;j<_;j++){for(var b=v[j],w=d[j+1],C=0;C<b.replace.length;C++)b.replace[C].from===w&&(w=b.replace[C].to);w&&!0===b.array&&(void 0,void 0,void 0,f=(m=function(e){return e.split("").reverse().join("")})(w).split(/-(?!\\)/),p=r.map(f,m),w=r.map(p,function(e){return e.replace(/\\-/g,"-")}).reverse()),i.isDefined(w)&&(w=b.type.decode(w)),y[b.id]=b.value(w)}return g.forEach(function(e){for(var n=t[e.id],r=0;r<e.replace.length;r++)e.replace[r].from===n&&(n=e.replace[r].to);i.isDefined(n)&&(n=e.type.decode(n)),y[e.id]=e.value(n)}),n&&(y["#"]=n),y},e.prototype.parameters=function(e){return void 0===e&&(e={}),!1===e.inherit?this._params:r.unnest(this._cache.path.map(function(e){return e._params}))},e.prototype.parameter=function(e,t){var n=this;void 0===t&&(t={});var r=this._cache.parent;return function(){for(var t=0,r=n._params;t<r.length;t++){var o=r[t];if(o.id===e)return o}}()||!1!==t.inherit&&r&&r.parameter(e,t)||null},e.prototype.validates=function(e){return e=e||{},this.parameters().filter(function(t){return e.hasOwnProperty(t.id)}).map(function(t){return n=t,r=e[t.id],!n||n.validates(r);var n,r}).reduce(r.allTrueR,!0)},e.prototype.format=function(t){void 0===t&&(t={});var n=this._cache.path,o=n.map(e.pathSegmentsAndParams).reduce(r.unnestR,[]).map(function(e){return i.isString(e)?e:a(e)}),s=n.map(e.queryParams).reduce(r.unnestR,[]).map(a);if(o.concat(s).filter(function(e){return!1===e.isValid}).length)return null;function a(e){var n=e.value(t[e.id]),r=e.validates(n),o=e.isDefaultValue(n);return{param:e,value:n,isValid:r,isDefaultValue:o,squash:!!o&&e.squash,encoded:e.type.encode(n)}}var u=o.reduce(function(t,n){if(i.isString(n))return t+n;var o=n.squash,s=n.encoded,a=n.param;return!0===o?t.match(/\/$/)?t.slice(0,-1):t:i.isString(o)?t+o:!1!==o?t:null==s?t:i.isArray(s)?t+r.map(s,e.encodeDashes).join("-"):a.raw?t+s:t+encodeURIComponent(s)},""),l=s.map(function(e){var t=e.param,n=e.squash,o=e.encoded,s=e.isDefaultValue;if(!(null==o||s&&!1!==n)&&(i.isArray(o)||(o=[o]),0!==o.length))return t.raw||(o=r.map(o,encodeURIComponent)),o.map(function(e){return t.id+"="+e})}).filter(r.identity).reduce(r.unnestR,[]).join("&");return u+(l?"?"+l:"")+(t["#"]?"#"+t["#"]:"")},e.encodeDashes=function(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})},e.pathSegmentsAndParams=function(e){var t=e._segments,n=e._params.filter(function(e){return e.location===s.DefType.PATH});return r.arrayTuples(t,n.concat(void 0)).reduce(r.unnestR,[]).filter(function(e){return""!==e&&i.isDefined(e)})},e.queryParams=function(e){return e._params.filter(function(e){return e.location===s.DefType.SEARCH})},e.compare=function(t,n){var o,u,c=function(t){return t._cache.weights=t._cache.weights||function(t){return t._cache.segments=t._cache.segments||t._cache.path.map(e.pathSegmentsAndParams).reduce(r.unnestR,[]).reduce(a.joinNeighborsR,[]).map(function(e){return i.isString(e)?l(e):e}).reduce(r.unnestR,[])}(t).map(function(e){return"/"===e?1:i.isString(e)?2:e instanceof s.Param?3:void 0})},d=r.arrayTuples(c(t),c(n));for(u=0;u<d.length;u++)if(0!==(o=d[u][0]-d[u][1]))return o;return 0},e}();c.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/,t.UrlMatcher=c},"./node_modules/@uirouter/core/lib/url/urlMatcherFactory.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/common/common.js"),o=n("./node_modules/@uirouter/core/lib/common/predicates.js"),i=n("./node_modules/@uirouter/core/lib/url/urlMatcher.js"),s=n("./node_modules/@uirouter/core/lib/params/param.js"),a=n("./node_modules/@uirouter/core/lib/params/paramTypes.js"),u=function(){function e(){var e=this;this.paramTypes=new a.ParamTypes,this._isCaseInsensitive=!1,this._isStrictMode=!0,this._defaultSquashPolicy=!1,this._getConfig=function(t){return r.extend({strict:e._isStrictMode,caseInsensitive:e._isCaseInsensitive},t)},this.paramFactory={fromConfig:function(t,n,r){return new s.Param(t,n,r,s.DefType.CONFIG,e)},fromPath:function(t,n,r){return new s.Param(t,n,r,s.DefType.PATH,e)},fromSearch:function(t,n,r){return new s.Param(t,n,r,s.DefType.SEARCH,e)}},r.extend(this,{UrlMatcher:i.UrlMatcher,Param:s.Param})}return e.prototype.caseInsensitive=function(e){return this._isCaseInsensitive=o.isDefined(e)?e:this._isCaseInsensitive},e.prototype.strictMode=function(e){return this._isStrictMode=o.isDefined(e)?e:this._isStrictMode},e.prototype.defaultSquashPolicy=function(e){if(o.isDefined(e)&&!0!==e&&!1!==e&&!o.isString(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=o.isDefined(e)?e:this._defaultSquashPolicy},e.prototype.compile=function(e,t){return new i.UrlMatcher(e,this.paramTypes,this.paramFactory,this._getConfig(t))},e.prototype.isMatcher=function(e){if(!o.isObject(e))return!1;var t=!0;return r.forEach(i.UrlMatcher.prototype,function(n,r){o.isFunction(n)&&(t=t&&o.isDefined(e[r])&&o.isFunction(e[r]))}),t},e.prototype.type=function(e,t,n){var r=this.paramTypes.type(e,t,n);return o.isDefined(t)?this:r},e.prototype.$get=function(){return this.paramTypes.enqueue=!1,this.paramTypes._flushTypeQueue(),this},e.prototype.dispose=function(){this.paramTypes.dispose()},e}();t.UrlMatcherFactory=u},"./node_modules/@uirouter/core/lib/url/urlRouter.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/common/common.js"),o=n("./node_modules/@uirouter/core/lib/common/predicates.js"),i=n("./node_modules/@uirouter/core/lib/url/urlMatcher.js"),s=n("./node_modules/@uirouter/core/lib/common/hof.js"),a=n("./node_modules/@uirouter/core/lib/url/urlRule.js"),u=n("./node_modules/@uirouter/core/lib/state/targetState.js");var l,c=s.prop("urlMatcher");l=r.composeSort(r.sortBy(s.pipe(s.prop("priority"),function(e){return-e})),r.sortBy(s.pipe(s.prop("type"),function(e){return{STATE:4,URLMATCHER:4,REGEXP:3,RAW:2,OTHER:1}[e]})),function(e,t){return c(e)&&c(t)?i.UrlMatcher.compare(c(e),c(t)):0},r.sortBy(s.prop("$id"),r.inArray(["REGEXP","RAW","OTHER"])));var d=function(){function e(t){this._sortFn=l,this._rules=[],this.interceptDeferred=!1,this._id=0,this._sorted=!1,this._router=t,this.urlRuleFactory=new a.UrlRuleFactory(t),r.createProxyFunctions(s.val(e.prototype),this,s.val(this))}return e.prototype.dispose=function(){this.listen(!1),this._rules=[],delete this._otherwiseFn},e.prototype.sort=function(e){this._rules.sort(this._sortFn=e||this._sortFn),this._sorted=!0},e.prototype.ensureSorted=function(){this._sorted||this.sort()},e.prototype.match=function(e){var t=this;this.ensureSorted(),e=r.extend({path:"",search:{},hash:""},e);var n=this.rules();this._otherwiseFn&&n.push(this._otherwiseFn);for(var o,i,s,a=0;a<n.length&&(!o||0===this._sortFn(n[a],o.rule));a++){var u=(i=n[a],void 0,(s=i.match(e,t._router))&&{match:s,rule:i,weight:i.matchPriority(s)});o=!o||u&&u.weight>o.weight?u:o}return o},e.prototype.sync=function(e){if(!e||!e.defaultPrevented){var t=this._router,n=t.urlService,r=t.stateService,i={path:n.path(),search:n.search(),hash:n.hash()},a=this.match(i);s.pattern([[o.isString,function(e){return n.url(e,!0)}],[u.TargetState.isDef,function(e){return r.go(e.state,e.params,e.options)}],[s.is(u.TargetState),function(e){return r.go(e.state(),e.params(),e.options())}]])(a&&a.rule.handler(a.match,i,t))}},e.prototype.listen=function(e){var t=this;if(!1!==e)return this._stopFn=this._stopFn||this._router.urlService.onChange(function(e){return t.sync(e)});this._stopFn&&this._stopFn(),delete this._stopFn},e.prototype.update=function(e){var t=this._router.locationService;e?this.location=t.path():t.path()!==this.location&&t.url(this.location,!0)},e.prototype.push=function(e,t,n){var r=n&&!!n.replace;this._router.urlService.url(e.format(t||{}),r)},e.prototype.href=function(e,t,n){var r=e.format(t);if(null==r)return null;n=n||{absolute:!1};var o=this._router.urlService.config,i=o.html5Mode();if(i||null===r||(r="#"+o.hashPrefix()+r),r=function(e,t,n,r){return"/"===r?e:t?r.slice(0,-1)+e:n?r.slice(1)+e:e}(r,i,n.absolute,o.baseHref()),!n.absolute||!r)return r;var s=!i&&r?"/":"",a=o.port();return a=80===a||443===a?"":":"+a,[o.protocol(),"://",o.host(),a,s,r].join("")},e.prototype.rule=function(e){var t=this;if(!a.UrlRuleFactory.isUrlRule(e))throw new Error("invalid rule");return e.$id=this._id++,e.priority=e.priority||0,this._rules.push(e),this._sorted=!1,function(){return t.removeRule(e)}},e.prototype.removeRule=function(e){r.removeFrom(this._rules,e)},e.prototype.rules=function(){return this.ensureSorted(),this._rules.slice()},e.prototype.otherwise=function(e){var t=m(e);this._otherwiseFn=this.urlRuleFactory.create(s.val(!0),t),this._sorted=!1},e.prototype.initial=function(e){var t=m(e);this.rule(this.urlRuleFactory.create(function(e,t){return 0===t.globals.transitionHistory.size()&&!!/^\/?$/.exec(e.path)},t))},e.prototype.when=function(e,t,n){var r=this.urlRuleFactory.create(e,t);return o.isDefined(n&&n.priority)&&(r.priority=n.priority),this.rule(r),r},e.prototype.deferIntercept=function(e){void 0===e&&(e=!0),this.interceptDeferred=e},e}();function m(e){if(!(o.isFunction(e)||o.isString(e)||s.is(u.TargetState)(e)||u.TargetState.isDef(e)))throw new Error("'handler' must be a string, function, TargetState, or have a state: 'newtarget' property");return o.isFunction(e)?e:s.val(e)}t.UrlRouter=d},"./node_modules/@uirouter/core/lib/url/urlRule.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/url/urlMatcher.js"),o=n("./node_modules/@uirouter/core/lib/common/predicates.js"),i=n("./node_modules/@uirouter/core/lib/common/common.js"),s=n("./node_modules/@uirouter/core/lib/common/hof.js"),a=function(){function e(e){this.router=e}return e.prototype.compile=function(e){return this.router.urlMatcherFactory.compile(e)},e.prototype.create=function(e,t){var n=this,i=s.pattern([[o.isString,function(e){return i(n.compile(e))}],[s.is(r.UrlMatcher),function(e){return n.fromUrlMatcher(e,t)}],[o.isState,function(e){return n.fromState(e,n.router)}],[s.is(RegExp),function(e){return n.fromRegExp(e,t)}],[o.isFunction,function(e){return new u(e,t)}]]),a=i(e);if(!a)throw new Error("invalid 'what' in when()");return a},e.prototype.fromUrlMatcher=function(e,t){var n=t;o.isString(t)&&(t=this.router.urlMatcherFactory.compile(t)),s.is(r.UrlMatcher)(t)&&(n=function(e){return t.format(e)});var a={urlMatcher:e,matchPriority:function(t){var n=e.parameters().filter(function(e){return e.isOptional});return n.length?n.filter(function(e){return t[e.id]}).length/n.length:1e-6},type:"URLMATCHER"};return i.extend(new u(function(t){var n=e.exec(t.path,t.search,t.hash);return e.validates(n)&&n},n),a)},e.prototype.fromState=function(e,t){var n={state:e,type:"STATE"};return i.extend(this.fromUrlMatcher(e.url,function(n){var r=t.stateService,o=t.globals;r.href(e,n)!==r.href(o.current,o.params)&&r.transitionTo(e,n,{inherit:!0,source:"url"})}),n)},e.prototype.fromRegExp=function(e,t){if(e.global||e.sticky)throw new Error("Rule RegExp must not be global or sticky");var n=o.isString(t)?function(e){return t.replace(/\$(\$|\d{1,2})/,function(t,n){return e["$"===n?0:Number(n)]})}:t,r={regexp:e,type:"REGEXP"};return i.extend(new u(function(t){return e.exec(t.path)},n),r)},e}();a.isUrlRule=function(e){return e&&["type","match","handler"].every(function(t){return o.isDefined(e[t])})},t.UrlRuleFactory=a;var u=function(){return function(e,t){var n=this;this.match=e,this.type="RAW",this.matchPriority=function(e){return 0-n.$id},this.handler=t||i.identity}}();t.BaseUrlRule=u},"./node_modules/@uirouter/core/lib/url/urlService.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/common/coreservices.js"),o=n("./node_modules/@uirouter/core/lib/common/common.js"),i=function(e){return e.reduce(function(e,t){return e[t]=r.notImplemented(t),e},{dispose:o.noop})},s=["url","path","search","hash","onChange"],a=["port","protocol","host","baseHref","html5Mode","hashPrefix"],u=["type","caseInsensitive","strictMode","defaultSquashPolicy"],l=["sort","when","initial","otherwise","rules","rule","removeRule"],c=["deferIntercept","listen","sync","match"],d=function(){function e(e,t){void 0===t&&(t=!0),this.router=e,this.rules={},this.config={};var n=function(){return e.locationService};o.createProxyFunctions(n,this,n,s,t);var r=function(){return e.locationConfig};o.createProxyFunctions(r,this.config,r,a,t);var i=function(){return e.urlMatcherFactory};o.createProxyFunctions(i,this.config,i,u);var d=function(){return e.urlRouter};o.createProxyFunctions(d,this.rules,d,l),o.createProxyFunctions(d,this,d,c)}return e.prototype.url=function(e,t,n){},e.prototype.path=function(){},e.prototype.search=function(){},e.prototype.hash=function(){},e.prototype.onChange=function(e){},e.prototype.parts=function(){return{path:this.path(),search:this.search(),hash:this.hash()}},e.prototype.dispose=function(){},e.prototype.sync=function(e){},e.prototype.listen=function(e){},e.prototype.deferIntercept=function(e){},e.prototype.match=function(e){},e}();d.locationServiceStub=i(s),d.locationConfigStub=i(a),t.UrlService=d},"./node_modules/@uirouter/core/lib/vanilla.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n("./node_modules/@uirouter/core/lib/vanilla/index.js"))},"./node_modules/@uirouter/core/lib/vanilla/baseLocationService.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/vanilla/utils.js"),o=n("./node_modules/@uirouter/core/lib/common/predicates.js"),i=n("./node_modules/@uirouter/core/lib/common/common.js"),s=function(){function e(e,t){var n=this;this.fireAfterUpdate=t,this._listener=function(e){return n._listeners.forEach(function(t){return t(e)})},this._listeners=[],this.hash=function(){return r.parseUrl(n._get()).hash},this.path=function(){return r.parseUrl(n._get()).path},this.search=function(){return r.getParams(r.parseUrl(n._get()).search)},this._location=window&&window.location,this._history=window&&window.history}return e.prototype.url=function(e,t){if(void 0===t&&(t=!0),o.isDefined(e)&&e!==this._get()&&(this._set(null,null,e,t),this.fireAfterUpdate)){var n=i.extend(new Event("locationchange"),{url:e});this._listeners.forEach(function(e){return e(n)})}return r.buildUrl(this)},e.prototype.onChange=function(e){var t=this;return this._listeners.push(e),function(){return i.removeFrom(t._listeners,e)}},e.prototype.dispose=function(e){i.deregAll(this._listeners)},e}();t.BaseLocationServices=s},"./node_modules/@uirouter/core/lib/vanilla/browserLocationConfig.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/common/predicates.js"),o=function(){function e(e,t){void 0===t&&(t=!1),this._isHtml5=t,this._baseHref=void 0,this._hashPrefix=""}return e.prototype.port=function(){return location.port?Number(location.port):"https"===this.protocol()?443:80},e.prototype.protocol=function(){return location.protocol.replace(/:/g,"")},e.prototype.host=function(){return location.host},e.prototype.html5Mode=function(){return this._isHtml5},e.prototype.hashPrefix=function(e){return r.isDefined(e)?this._hashPrefix=e:this._hashPrefix},e.prototype.baseHref=function(e){return r.isDefined(e)?this._baseHref=e:this._baseHref||this.applyDocumentBaseHref()},e.prototype.applyDocumentBaseHref=function(){var e=document.getElementsByTagName("base");return this._baseHref=e.length?e[0].href.substr(location.origin.length):""},e.prototype.dispose=function(){},e}();t.BrowserLocationConfig=o},"./node_modules/@uirouter/core/lib/vanilla/hashLocationService.js":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/@uirouter/core/lib/vanilla/utils.js"),s=function(e){function t(t){var n=e.call(this,t,!1)||this;return window.addEventListener("hashchange",n._listener,!1),n}return o(t,e),t.prototype._get=function(){return i.trimHashVal(this._location.hash)},t.prototype._set=function(e,t,n,r){this._location.hash=n},t.prototype.dispose=function(t){e.prototype.dispose.call(this,t),window.removeEventListener("hashchange",this._listener)},t}(n("./node_modules/@uirouter/core/lib/vanilla/baseLocationService.js").BaseLocationServices);t.HashLocationService=s},"./node_modules/@uirouter/core/lib/vanilla/index.js":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("./node_modules/@uirouter/core/lib/vanilla/q.js")),r(n("./node_modules/@uirouter/core/lib/vanilla/injector.js")),r(n("./node_modules/@uirouter/core/lib/vanilla/baseLocationService.js")),r(n("./node_modules/@uirouter/core/lib/vanilla/hashLocationService.js")),r(n("./node_modules/@uirouter/core/lib/vanilla/memoryLocationService.js")),r(n("./node_modules/@uirouter/core/lib/vanilla/pushStateLocationService.js")),r(n("./node_modules/@uirouter/core/lib/vanilla/memoryLocationConfig.js")),r(n("./node_modules/@uirouter/core/lib/vanilla/browserLocationConfig.js")),r(n("./node_modules/@uirouter/core/lib/vanilla/utils.js")),r(n("./node_modules/@uirouter/core/lib/vanilla/plugins.js"))},"./node_modules/@uirouter/core/lib/vanilla/injector.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/common/index.js"),o={},i=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,s=/([^\s,]+)/g;t.$injector={get:function(e){return o[e]},has:function(e){return null!=t.$injector.get(e)},invoke:function(e,n,i){var s=r.extend({},o,i||{}),a=t.$injector.annotate(e),u=r.assertPredicate(function(e){return s.hasOwnProperty(e)},function(e){return"DI can't find injectable: '"+e+"'"}),l=a.filter(u).map(function(e){return s[e]});return r.isFunction(e)?e.apply(n,l):e.slice(-1)[0].apply(n,l)},annotate:function(e){if(!r.isInjectable(e))throw new Error("Not an injectable function: "+e);if(e&&e.$inject)return e.$inject;if(r.isArray(e))return e.slice(0,-1);var t=e.toString().replace(i,"");return t.slice(t.indexOf("(")+1,t.indexOf(")")).match(s)||[]}}},"./node_modules/@uirouter/core/lib/vanilla/memoryLocationConfig.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/common/predicates.js"),o=n("./node_modules/@uirouter/core/lib/common/common.js"),i=function(){return function(){var e=this;this._baseHref="",this._port=80,this._protocol="http",this._host="localhost",this._hashPrefix="",this.port=function(){return e._port},this.protocol=function(){return e._protocol},this.host=function(){return e._host},this.baseHref=function(){return e._baseHref},this.html5Mode=function(){return!1},this.hashPrefix=function(t){return r.isDefined(t)?e._hashPrefix=t:e._hashPrefix},this.dispose=o.noop}}();t.MemoryLocationConfig=i},"./node_modules/@uirouter/core/lib/vanilla/memoryLocationService.js":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){return e.call(this,t,!0)||this}return o(t,e),t.prototype._get=function(){return this._url},t.prototype._set=function(e,t,n,r){this._url=n},t}(n("./node_modules/@uirouter/core/lib/vanilla/baseLocationService.js").BaseLocationServices);t.MemoryLocationService=i},"./node_modules/@uirouter/core/lib/vanilla/plugins.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/vanilla/browserLocationConfig.js"),o=n("./node_modules/@uirouter/core/lib/vanilla/hashLocationService.js"),i=n("./node_modules/@uirouter/core/lib/vanilla/utils.js"),s=n("./node_modules/@uirouter/core/lib/vanilla/pushStateLocationService.js"),a=n("./node_modules/@uirouter/core/lib/vanilla/memoryLocationService.js"),u=n("./node_modules/@uirouter/core/lib/vanilla/memoryLocationConfig.js"),l=n("./node_modules/@uirouter/core/lib/vanilla/injector.js"),c=n("./node_modules/@uirouter/core/lib/vanilla/q.js"),d=n("./node_modules/@uirouter/core/lib/common/coreservices.js");t.servicesPlugin=function(e){return d.services.$injector=l.$injector,d.services.$q=c.$q,{name:"vanilla.services",$q:c.$q,$injector:l.$injector,dispose:function(){return null}}},t.hashLocationPlugin=i.locationPluginFactory("vanilla.hashBangLocation",!1,o.HashLocationService,r.BrowserLocationConfig),t.pushStateLocationPlugin=i.locationPluginFactory("vanilla.pushStateLocation",!0,s.PushStateLocationService,r.BrowserLocationConfig),t.memoryLocationPlugin=i.locationPluginFactory("vanilla.memoryLocation",!1,a.MemoryLocationService,u.MemoryLocationConfig)},"./node_modules/@uirouter/core/lib/vanilla/pushStateLocationService.js":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/@uirouter/core/lib/vanilla/utils.js"),s=function(e){function t(t){var n=e.call(this,t,!0)||this;return n._config=t.urlService.config,window.addEventListener("popstate",n._listener,!1),n}return o(t,e),t.prototype._get=function(){var e=this._location,t=e.pathname,n=e.hash,r=e.search;return r=i.splitQuery(r)[1],n=i.splitHash(n)[1],t+(r?"?"+r:"")+(n?"$"+r:"")},t.prototype._set=function(e,t,n,r){var o=this._config,i=this._history,s=o.baseHref()+n;r?i.replaceState(e,t,s):i.pushState(e,t,s)},t.prototype.dispose=function(t){e.prototype.dispose.call(this,t),window.removeEventListener("popstate",this._listener)},t}(n("./node_modules/@uirouter/core/lib/vanilla/baseLocationService.js").BaseLocationServices);t.PushStateLocationService=s},"./node_modules/@uirouter/core/lib/vanilla/q.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/common/index.js");t.$q={when:function(e){return new Promise(function(t,n){return t(e)})},reject:function(e){return new Promise(function(t,n){n(e)})},defer:function(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e},all:function(e){if(r.isArray(e))return Promise.all(e);if(r.isObject(e)){var n=Object.keys(e).map(function(t){return e[t].then(function(e){return{key:t,val:e}})});return t.$q.all(n).then(function(e){return e.reduce(function(e,t){return e[t.key]=t.val,e},{})})}}}},"./node_modules/@uirouter/core/lib/vanilla/utils.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/common/index.js"),o=n("./node_modules/@uirouter/core/lib/common/common.js"),i=function(e){return function(t){if(!t)return["",""];var n=t.indexOf(e);return-1===n?[t,""]:[t.substr(0,n),t.substr(n+1)]}};t.splitHash=i("#"),t.splitQuery=i("?"),t.splitEqual=i("="),t.trimHashVal=function(e){return e?e.replace(/^#/,""):""},t.keyValsToObjectR=function(e,t){var n=t[0],o=t[1];return e.hasOwnProperty(n)?r.isArray(e[n])?e[n].push(o):e[n]=[e[n],o]:e[n]=o,e},t.getParams=function(e){return e.split("&").filter(o.identity).map(t.splitEqual).reduce(t.keyValsToObjectR,{})},t.parseUrl=function(e){var n=function(e){return e||""},r=t.splitHash(e).map(n),o=r[0],i=r[1],s=t.splitQuery(o).map(n);return{path:s[0],search:s[1],hash:i,url:e}},t.buildUrl=function(e){var t=e.path(),n=e.search(),i=e.hash(),s=Object.keys(n).map(function(e){var t=n[e];return(r.isArray(t)?t:[t]).map(function(t){return e+"="+t})}).reduce(o.unnestR,[]).join("&");return t+(s?"?"+s:"")+(i?"#"+i:"")},t.locationPluginFactory=function(e,t,n,r){return function(o){var i=o.locationService=new n(o),s=o.locationConfig=new r(o,t);return{name:e,service:i,configuration:s,dispose:function(e){e.dispose(i),e.dispose(s)}}}}},"./node_modules/@uirouter/core/lib/view/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n("./node_modules/@uirouter/core/lib/view/view.js"))},"./node_modules/@uirouter/core/lib/view/view.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/common/common.js"),o=n("./node_modules/@uirouter/core/lib/common/hof.js"),i=n("./node_modules/@uirouter/core/lib/common/predicates.js"),s=n("./node_modules/@uirouter/core/lib/common/trace.js"),a=function(){function e(){var e=this;this._uiViews=[],this._viewConfigs=[],this._viewConfigFactories={},this._pluginapi={_rootViewContext:this._rootViewContext.bind(this),_viewConfigFactory:this._viewConfigFactory.bind(this),_registeredUIViews:function(){return e._uiViews},_activeViewConfigs:function(){return e._viewConfigs}}}return e.prototype._rootViewContext=function(e){return this._rootContext=e||this._rootContext},e.prototype._viewConfigFactory=function(e,t){this._viewConfigFactories[e]=t},e.prototype.createViewConfig=function(e,t){var n=this._viewConfigFactories[t.$type];if(!n)throw new Error("ViewService: No view config factory registered for type "+t.$type);var r=n(e,t);return i.isArray(r)?r:[r]},e.prototype.deactivateViewConfig=function(e){s.trace.traceViewServiceEvent("<- Removing",e),r.removeFrom(this._viewConfigs,e)},e.prototype.activateViewConfig=function(e){s.trace.traceViewServiceEvent("-> Registering",e),this._viewConfigs.push(e)},e.prototype.sync=function(){var t=this,n=this._uiViews.map(function(e){return[e.fqn,e]}).reduce(r.applyPairs,{});function i(e){for(var t=e.viewDecl.$context,n=0;++n&&t.parent;)t=t.parent;return n}var s=o.curry(function(e,t,n,r){return t*(e(n)-e(r))});this._uiViews.sort(s(function(e){var t=function(e){return e&&e.parent?t(e.parent)+1:1};return 1e4*e.fqn.split(".").length+t(e.creationContext)},1)).map(function(r){var o=t._viewConfigs.filter(e.matches(n,r));return o.length>1&&o.sort(s(i,-1)),[r,o[0]]}).forEach(function(e){var n=e[0],r=e[1];-1!==t._uiViews.indexOf(n)&&n.configUpdated(r)})},e.prototype.registerUIView=function(e){s.trace.traceViewServiceUIViewEvent("-> Registering",e);var t=this._uiViews;return t.filter(function(t){return t.fqn===e.fqn}).length&&s.trace.traceViewServiceUIViewEvent("!!!! duplicate uiView named:",e),t.push(e),this.sync(),function(){-1!==t.indexOf(e)?(s.trace.traceViewServiceUIViewEvent("<- Deregistering",e),r.removeFrom(t)(e)):s.trace.traceViewServiceUIViewEvent("Tried removing non-registered uiView",e)}},e.prototype.available=function(){return this._uiViews.map(o.prop("fqn"))},e.prototype.active=function(){return this._uiViews.filter(o.prop("$config")).map(o.prop("name"))},e.normalizeUIViewTarget=function(e,t){void 0===t&&(t="");var n=t.split("@"),r=n[0]||"$default",o=i.isString(n[1])?n[1]:"^",s=/^(\^(?:\.\^)*)\.(.*$)/.exec(r);s&&(o=s[1],r=s[2]),"!"===r.charAt(0)&&(r=r.substr(1),o="");/^(\^(?:\.\^)*)$/.exec(o)?o=o.split(".").reduce(function(e,t){return e.parent},e).name:"."===o&&(o=e.name);return{uiViewName:r,uiViewContextAnchor:o}},e}();a.matches=function(e,t){return function(n){if(t.$type!==n.viewDecl.$type)return!1;var o=n.viewDecl,i=o.$uiViewName.split("."),s=t.fqn.split(".");if(!r.equals(i,s.slice(0-i.length)))return!1;var a=1-i.length||void 0,u=s.slice(0,a).join("."),l=e[u].creationContext;return o.$uiViewContextAnchor===(l&&l.name)}},t.ViewService=a},"./node_modules/angular-ui-router/lib/angular.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/angular/index.js"),o=angular;t.ng=r&&r.module?r:o},"./node_modules/angular-ui-router/lib/directives/stateDirectives.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o,i,s=n("./node_modules/angular-ui-router/lib/angular.js"),a=n("./node_modules/@uirouter/core/lib/index.js");function u(e){var t,n=e.match(/^\s*({[^}]*})\s*$/);if(n&&(e="("+n[1]+")"),!(t=e.replace(/\n/g," ").match(/^\s*([^(]*?)\s*(\((.*)\))?\s*$/))||4!==t.length)throw new Error("Invalid state ref '"+e+"'");return{state:t[1]||null,paramExpr:t[3]||null}}function l(e){var t=e.parent().inheritedData("$uiView"),n=a.parse("$cfg.path")(t);return n?a.tail(n).state.name:void 0}function c(e,t,n){var r=n.uiState||e.current.name,o=a.extend(function(e,t){return{relative:l(e)||t.$current,inherit:!0,source:"sref"}}(t,e),n.uiStateOpts||{}),i=e.href(r,n.uiStateParams,o);return{uiState:r,uiStateParams:n.uiStateParams,uiStateOpts:o,href:i}}function d(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),n="FORM"===e[0].nodeName;return{attr:n?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!n}}function m(e,t,n,r,o){return function(i){var s=i.which||i.button,a=o();if(!(s>1||i.ctrlKey||i.metaKey||i.shiftKey||e.attr("target"))){var u=n(function(){t.go(a.uiState,a.uiStateParams,a.uiStateOpts)});i.preventDefault();var l=r.isAnchor&&!a.href?1:0;i.preventDefault=function(){l--<=0&&n.cancel(u)}}}}function f(e,t,n,r){var o;r&&(o=r.events),a.isArray(o)||(o=["click"]);for(var i=e.on?"on":"bind",s=0,u=o;s<u.length;s++){var l=u[s];e[i](l,n)}t.$on("$destroy",function(){for(var t=e.off?"off":"unbind",r=0,i=o;r<i.length;r++){var s=i[r];e[t](s,n)}})}r=["$uiRouter","$timeout",function(e,t){var n=e.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,o,i,s){var l,p=d(o),h=s[1]||s[0],v=null,g={},_=function(){return c(n,o,g)},y=u(i.uiSref);function j(){var e=_();v&&v(),h&&(v=h.$$addStateInfo(e.uiState,e.uiStateParams)),null!=e.href&&i.$set(p.attr,e.href)}g.uiState=y.state,g.uiStateOpts=i.uiSrefOpts?r.$eval(i.uiSrefOpts):{},y.paramExpr&&(r.$watch(y.paramExpr,function(e){g.uiStateParams=a.extend({},e),j()},!0),g.uiStateParams=a.extend({},r.$eval(y.paramExpr))),j(),r.$on("$destroy",e.stateRegistry.onStatesChanged(j)),r.$on("$destroy",e.transitionService.onSuccess({},j)),p.clickable&&(l=m(o,n,t,p,_),f(o,r,l,g.uiStateOpts))}}}],o=["$uiRouter","$timeout",function(e,t){var n=e.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,o,i,s){var u,l=d(o),p=s[1]||s[0],h=null,v={},g=function(){return c(n,o,v)},_=["uiState","uiStateParams","uiStateOpts"],y=_.reduce(function(e,t){return e[t]=a.noop,e},{});function j(){var e=g();h&&h(),p&&(h=p.$$addStateInfo(e.uiState,e.uiStateParams)),null!=e.href&&i.$set(l.attr,e.href)}_.forEach(function(e){v[e]=i[e]?r.$eval(i[e]):null,i.$observe(e,function(t){y[e](),y[e]=r.$watch(t,function(t){v[e]=t,j()},!0)})}),j(),r.$on("$destroy",e.stateRegistry.onStatesChanged(j)),r.$on("$destroy",e.transitionService.onSuccess({},j)),l.clickable&&(u=m(o,n,t,l,g),f(o,r,u,v.uiStateOpts))}}}],i=["$state","$stateParams","$interpolate","$uiRouter",function(e,t,n,r){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,o,i){var s,c,d=[];s=n(i.uiSrefActiveEq||"",!1)(t);try{c=t.$eval(i.uiSrefActive)}catch(e){}function m(e){e.promise.then(p)}function f(t,n,r){var i={state:e.get(t,l(o))||{name:t},params:n,activeClass:r};return d.push(i),function(){a.removeFrom(d)(i)}}function p(){var n=function(e){return e.split(/\s/).filter(a.identity)},r=function(e){return e.map(function(e){return e.activeClass}).map(n).reduce(a.unnestR,[])},i=r(d).concat(n(s)).reduce(a.uniqR,[]),u=r(d.filter(function(t){return e.includes(t.state.name,t.params)})),l=!!d.filter(function(t){return e.is(t.state.name,t.params)}).length?n(s):[],c=u.concat(l).reduce(a.uniqR,[]),m=i.filter(function(e){return!a.inArray(c,e)});t.$evalAsync(function(){c.forEach(function(e){return o.addClass(e)}),m.forEach(function(e){return o.removeClass(e)})})}c=c||n(i.uiSrefActive||"",!1)(t),a.isObject(c)&&a.forEach(c,function(e,n){if(a.isString(e)){var r=u(e);f(r.state,t.$eval(r.paramExpr),n)}}),this.$$addStateInfo=function(e,t){if(!(a.isObject(c)&&d.length>0)){var n=f(e,t,c);return p(),n}},t.$on("$stateChangeSuccess",p),t.$on("$destroy",r.transitionService.onStart({},m)),r.globals.transition&&m(r.globals.transition),p()}]}}],s.ng.module("ui.router.state").directive("uiSref",r).directive("uiSrefActive",i).directive("uiSrefActiveEq",i).directive("uiState",o)},"./node_modules/angular-ui-router/lib/directives/viewDirective.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/angular-ui-router/lib/angular.js"),o=n("./node_modules/angular/index.js"),i=n("./node_modules/@uirouter/core/lib/index.js"),s=n("./node_modules/angular-ui-router/lib/statebuilders/views.js"),a=n("./node_modules/angular-ui-router/lib/services.js");function u(e,t,n,s,u,l){var c=i.parse("viewDecl.controllerAs"),m=i.parse("viewDecl.resolveAs");return{restrict:"ECA",priority:-400,compile:function(s){var l=s.html();return s.empty(),function(s,f){var p=f.data("$uiView");if(!p)return f.html(l),void e(f.contents())(s);var h=p.$cfg||{viewDecl:{},getTemplate:o.noop},v=h.path&&new i.ResolveContext(h.path);f.html(h.getTemplate(f,v)||l),i.trace.traceUIViewFill(p.$uiView,f.html());var g=e(f.contents()),_=h.controller,y=c(h),j=m(h),b=v&&a.getLocals(v);if(s[j]=b,_){var w=t(_,i.extend({},b,{$scope:s,$element:f}));y&&(s[y]=w,s[y][j]=b),f.data("$ngControllerController",w),f.children().data("$ngControllerController",w),d(u,n,w,s,h)}if(i.isString(h.viewDecl.component))var C=h.viewDecl.component,S=i.kebobString(C),E=new RegExp("^(x-|data-)?"+S+"$","i"),P=s.$watch(function(){var e=[].slice.call(f[0].children).filter(function(e){return e&&e.tagName&&E.exec(e.tagName)});return e&&r.ng.element(e).data("$"+C+"Controller")},function(e){e&&(d(u,n,e,s,h),P())});g(s)}}}}t.uiView=["$view","$animate","$uiViewScroll","$interpolate","$q",function(e,t,n,o,a){var u={$cfg:{viewDecl:{$context:e._pluginapi._rootViewContext()}},$uiView:{}},l={count:0,restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(c,d,m){return function(c,d,f){var p,h,v,g,_=f.onload||"",y=f.autoscroll,j={enter:function(e,n,o){r.ng.version.minor>2?t.enter(e,null,n).then(o):t.enter(e,null,n,o)},leave:function(e,n){r.ng.version.minor>2?t.leave(e).then(n):t.leave(e,n)}},b=void 0,w=d.inheritedData("$uiView")||u,C=o(f.uiView||f.name||"")(c)||"$default",S={$type:"ng1",id:l.count++,name:C,fqn:w.$uiView.fqn?w.$uiView.fqn+"."+C:C,config:null,configUpdated:function(e){if(e&&!(e instanceof s.Ng1ViewConfig))return;if(t=b,n=e,t===n)return;var t,n;i.trace.traceUIViewConfigUpdated(S,e&&e.viewDecl&&e.viewDecl.$context),b=e,E(e)},get creationContext(){var e=i.parse("$cfg.viewDecl.$context")(w),t=i.parse("$uiView.creationContext")(w);return e||t}};function E(e){var t=c.$new(),r=a.defer(),o=a.defer(),s={$cfg:e,$uiView:S},u={$animEnter:r.promise,$animLeave:o.promise,$$animLeave:o};t.$emit("$viewContentLoading",C);var l=m(t,function(e){e.data("$uiViewAnim",u),e.data("$uiView",s),j.enter(e,d,function(){r.resolve(),v&&v.$emit("$viewContentAnimationEnded"),(i.isDefined(y)&&!y||c.$eval(y))&&n(e)}),function(){if(p&&(i.trace.traceUIViewEvent("Removing (previous) el",p.data("$uiView")),p.remove(),p=null),v&&(i.trace.traceUIViewEvent("Destroying scope",S),v.$destroy(),v=null),h){var e=h.data("$uiViewAnim");i.trace.traceUIViewEvent("Animate out",e),j.leave(h,function(){e.$$animLeave.resolve(),p=null}),p=h,h=null}}()});h=l,(v=t).$emit("$viewContentLoaded",e||b),v.$eval(_)}i.trace.traceUIViewEvent("Linking",S),d.data("$uiView",{$uiView:S}),E(),g=e.registerUIView(S),c.$on("$destroy",function(){i.trace.traceUIViewEvent("Destroying/Unregistering",S),g()})}}};return l}],u.$inject=["$compile","$controller","$transitions","$view","$q","$timeout"];var l="function"==typeof r.ng.module("ui.router").component,c=0;function d(e,t,n,r,o){!i.isFunction(n.$onInit)||o.viewDecl.component&&l||n.$onInit();var s=i.tail(o.path).state.self,a={bind:n};if(i.isFunction(n.uiOnParamsChanged)){var u=new i.ResolveContext(o.path).getResolvable("$transition$").data;r.$on("$destroy",t.onSuccess({},function(e){if(e!==u&&-1===e.exiting().indexOf(s)){var t=e.params("to"),r=e.params("from"),o=e.treeChanges().to.map(function(e){return e.paramSchema}).reduce(i.unnestR,[]),a=e.treeChanges().from.map(function(e){return e.paramSchema}).reduce(i.unnestR,[]),l=o.filter(function(e){var n=a.indexOf(e);return-1===n||!a[n].type.equals(t[e.id],r[e.id])});if(l.length){var c=l.map(function(e){return e.id}),d=i.filter(t,function(e,t){return-1!==c.indexOf(t)});n.uiOnParamsChanged(d,e)}}},a))}if(i.isFunction(n.uiCanExit)){var d=c++,m=function(e){return!!e&&(e._uiCanExitIds&&!0===e._uiCanExitIds[d]||m(e.redirectedFrom()))},f={exiting:s.name};r.$on("$destroy",t.onBefore(f,function(t){var r,o=t._uiCanExitIds=t._uiCanExitIds||{};return m(t)||(r=e.when(n.uiCanExit(t))).then(function(e){return o[d]=!1!==e}),r},a))}}r.ng.module("ui.router.state").directive("uiView",t.uiView),r.ng.module("ui.router.state").directive("uiView",u)},"./node_modules/angular-ui-router/lib/index.js":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/@uirouter/core/lib/index.js");t.core=o,r(n("./node_modules/@uirouter/core/lib/index.js")),r(n("./node_modules/angular-ui-router/lib/services.js")),r(n("./node_modules/angular-ui-router/lib/statebuilders/views.js")),r(n("./node_modules/angular-ui-router/lib/stateProvider.js")),r(n("./node_modules/angular-ui-router/lib/urlRouterProvider.js")),n("./node_modules/angular-ui-router/lib/injectables.js"),n("./node_modules/angular-ui-router/lib/directives/stateDirectives.js"),n("./node_modules/angular-ui-router/lib/stateFilters.js"),n("./node_modules/angular-ui-router/lib/directives/viewDirective.js"),n("./node_modules/angular-ui-router/lib/viewScroll.js"),t.default="ui.router"},"./node_modules/angular-ui-router/lib/injectables.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"./node_modules/angular-ui-router/lib/locationServices.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/index.js"),o=function(){function e(e){this._urlListeners=[],this.$locationProvider=e;var t=r.val(e);r.createProxyFunctions(t,this,t,["hashPrefix"])}return e.prototype.dispose=function(){},e.prototype.onChange=function(e){var t=this;return this._urlListeners.push(e),function(){return r.removeFrom(t._urlListeners)(e)}},e.prototype.html5Mode=function(){var e=this.$locationProvider.html5Mode();return(e=r.isObject(e)?e.enabled:e)&&this.$sniffer.history},e.prototype.url=function(e,t,n){return void 0===t&&(t=!1),e&&this.$location.url(e),t&&this.$location.replace(),n&&this.$location.state(n),this.$location.url()},e.prototype._runtimeServices=function(e,t,n,o){var i=this;this.$location=t,this.$sniffer=n,e.$on("$locationChangeSuccess",function(e){return i._urlListeners.forEach(function(t){return t(e)})});var s=r.val(t),a=r.val(o);r.createProxyFunctions(s,this,s,["replace","path","search","hash"]),r.createProxyFunctions(s,this,s,["port","protocol","host"]),r.createProxyFunctions(a,this,a,["baseHref"])},e.monkeyPatchPathParameterType=function(e){var t=e.urlMatcherFactory.type("path");t.encode=function(e){return null!=e?e.toString().replace(/(~|\/)/g,function(e){return{"~":"~~","/":"~2F"}[e]}):e},t.decode=function(e){return null!=e?e.toString().replace(/(~~|~2F)/g,function(e){return{"~~":"~","~2F":"/"}[e]}):e}},e}();t.Ng1LocationServices=o},"./node_modules/angular-ui-router/lib/services.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/angular-ui-router/lib/angular.js"),o=n("./node_modules/@uirouter/core/lib/index.js"),i=n("./node_modules/angular-ui-router/lib/statebuilders/views.js"),s=n("./node_modules/angular-ui-router/lib/templateFactory.js"),a=n("./node_modules/angular-ui-router/lib/stateProvider.js"),u=n("./node_modules/angular-ui-router/lib/statebuilders/onEnterExitRetain.js"),l=n("./node_modules/angular-ui-router/lib/locationServices.js"),c=n("./node_modules/angular-ui-router/lib/urlRouterProvider.js");r.ng.module("ui.router.angular1",[]);var d=r.ng.module("ui.router.init",[]),m=r.ng.module("ui.router.util",["ng","ui.router.init"]),f=r.ng.module("ui.router.router",["ui.router.util"]),p=r.ng.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]),h=r.ng.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]),v=(r.ng.module("ui.router.compat",["ui.router"]),null);function g(e){(v=this.router=new o.UIRouter).stateProvider=new a.StateProvider(v.stateRegistry,v.stateService),v.stateRegistry.decorator("views",i.ng1ViewsBuilder),v.stateRegistry.decorator("onExit",u.getStateHookBuilder("onExit")),v.stateRegistry.decorator("onRetain",u.getStateHookBuilder("onRetain")),v.stateRegistry.decorator("onEnter",u.getStateHookBuilder("onEnter")),v.viewService._pluginapi._viewConfigFactory("ng1",i.getNg1ViewConfigFactory());var t=v.locationService=v.locationConfig=new l.Ng1LocationServices(e);function n(e,n,r,o,i,s){return t._runtimeServices(o,e,r,n),delete v.router,delete v.$get,v}return l.Ng1LocationServices.monkeyPatchPathParameterType(v),v.router=v,v.$get=n,n.$inject=["$location","$browser","$sniffer","$rootScope","$http","$templateCache"],v}g.$inject=["$locationProvider"];var _=function(e){return["$uiRouterProvider",function(t){var n=t.router[e];return n.$get=function(){return n},n}]};function y(e,t,n){o.services.$injector=e,o.services.$q=t,n.stateRegistry.get().map(function(e){return e.$$state().resolvables}).reduce(o.unnestR,[]).filter(function(e){return"deferred"===e.deps}).forEach(function(t){return t.deps=e.annotate(t.resolveFn)})}y.$inject=["$injector","$q","$uiRouter"];function j(e){e.$watch(function(){o.trace.approximateDigests++})}j.$inject=["$rootScope"],t.watchDigests=j,d.provider("$uiRouter",g),f.provider("$urlRouter",["$uiRouterProvider",function(e){return e.urlRouterProvider=new c.UrlRouterProvider(e)}]),m.provider("$urlService",_("urlService")),m.provider("$urlMatcherFactory",["$uiRouterProvider",function(){return v.urlMatcherFactory}]),m.provider("$templateFactory",function(){return new s.TemplateFactory}),p.provider("$stateRegistry",_("stateRegistry")),p.provider("$uiRouterGlobals",_("globals")),p.provider("$transitions",_("transitionService")),p.provider("$state",["$uiRouterProvider",function(){return o.extend(v.stateProvider,{$get:function(){return v.stateService}})}]),p.factory("$stateParams",["$uiRouter",function(e){return e.globals.params}]),h.factory("$view",function(){return v.viewService}),h.service("$trace",function(){return o.trace}),h.run(j),m.run(["$urlMatcherFactory",function(e){}]),p.run(["$state",function(e){}]),f.run(["$urlRouter",function(e){}]),d.run(y),t.getLocals=function(e){return e.getTokens().filter(o.isString).map(function(t){var n=e.getResolvable(t);return[t,"NOWAIT"===e.getPolicy(n).async?n.promise:n.data]}).reduce(o.applyPairs,{})}},"./node_modules/angular-ui-router/lib/stateFilters.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/angular-ui-router/lib/angular.js");function o(e){var t=function(t,n,r){return e.is(t,n,r)};return t.$stateful=!0,t}function i(e){var t=function(t,n,r){return e.includes(t,n,r)};return t.$stateful=!0,t}o.$inject=["$state"],t.$IsStateFilter=o,i.$inject=["$state"],t.$IncludedByStateFilter=i,r.ng.module("ui.router.state").filter("isState",o).filter("includedByState",i)},"./node_modules/angular-ui-router/lib/stateProvider.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/index.js"),o=function(){function e(t,n){this.stateRegistry=t,this.stateService=n,r.createProxyFunctions(r.val(e.prototype),this,r.val(this))}return e.prototype.decorator=function(e,t){return this.stateRegistry.decorator(e,t)||this},e.prototype.state=function(e,t){return r.isObject(e)?t=e:t.name=e,this.stateRegistry.register(t),this},e.prototype.onInvalid=function(e){return this.stateService.onInvalid(e)},e}();t.StateProvider=o},"./node_modules/angular-ui-router/lib/statebuilders/onEnterExitRetain.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/index.js"),o=n("./node_modules/angular-ui-router/lib/services.js");t.getStateHookBuilder=function(e){return function(t,n){var i=t[e],s="onExit"===e?"from":"to";return i?function(e,t){var n=new r.ResolveContext(e.treeChanges(s)),a=r.extend(o.getLocals(n),{$state$:t,$transition$:e});return r.services.$injector.invoke(i,this,a)}:void 0}}},"./node_modules/angular-ui-router/lib/statebuilders/views.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/index.js");t.getNg1ViewConfigFactory=function(){var e=null;return function(t,n){return e=e||r.services.$injector.get("$templateFactory"),[new s(t,n,e)]}};var o=function(e,t){return e.reduce(function(e,n){return e||r.isDefined(t[n])},!1)};t.ng1ViewsBuilder=function(e){if(!e.parent)return{};var t=["component","bindings","componentProvider"],n=["templateProvider","templateUrl","template","notify","async"].concat(["controller","controllerProvider","controllerAs","resolveAs"]),i=t.concat(n);if(r.isDefined(e.views)&&o(i,e))throw new Error("State '"+e.name+"' has a 'views' object. It cannot also have \"view properties\" at the state level.  Move the following properties into a view (in the 'views' object):  "+i.filter(function(t){return r.isDefined(e[t])}).join(", "));var s={},a=e.views||{$default:r.pick(e,i)};return r.forEach(a,function(i,a){if(a=a||"$default",r.isString(i)&&(i={component:i}),i=r.extend({},i),o(t,i)&&o(n,i))throw new Error("Cannot combine: "+t.join("|")+" with: "+n.join("|")+" in stateview: '"+a+"@"+e.name+"'");i.resolveAs=i.resolveAs||"$resolve",i.$type="ng1",i.$context=e,i.$name=a;var u=r.ViewService.normalizeUIViewTarget(i.$context,i.$name);i.$uiViewName=u.uiViewName,i.$uiViewContextAnchor=u.uiViewContextAnchor,s[a]=i}),s};var i=0,s=function(){function e(e,t,n){var r=this;this.path=e,this.viewDecl=t,this.factory=n,this.$id=i++,this.loaded=!1,this.getTemplate=function(e,t){return r.component?r.factory.makeComponentTemplate(e,t,r.component,r.viewDecl.bindings):r.template}}return e.prototype.load=function(){var e=this,t=r.services.$q,n=new r.ResolveContext(this.path),o=this.path.reduce(function(e,t){return r.extend(e,t.paramValues)},{}),i={template:t.when(this.factory.fromConfig(this.viewDecl,o,n)),controller:t.when(this.getController(n))};return t.all(i).then(function(t){return r.trace.traceViewServiceEvent("Loaded",e),e.controller=t.controller,r.extend(e,t.template),e})},e.prototype.getController=function(e){var t=this.viewDecl.controllerProvider;if(!r.isInjectable(t))return this.viewDecl.controller;var n=r.services.$injector.annotate(t),o=r.isArray(t)?r.tail(t):t;return new r.Resolvable("",o,n).get(e)},e}();t.Ng1ViewConfig=s},"./node_modules/angular-ui-router/lib/templateFactory.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/angular-ui-router/lib/angular.js"),o=n("./node_modules/@uirouter/core/lib/index.js"),i=function(){function e(){var e=this;this._useHttp=r.ng.version.minor<3,this.$get=["$http","$templateCache","$injector",function(t,n,r){return e.$templateRequest=r.has&&r.has("$templateRequest")&&r.get("$templateRequest"),e.$http=t,e.$templateCache=n,e}]}return e.prototype.useHttpService=function(e){this._useHttp=e},e.prototype.fromConfig=function(e,t,n){var r=function(e){return o.services.$q.when(e).then(function(e){return{template:e}})},i=function(e){return o.services.$q.when(e).then(function(e){return{component:e}})};return o.isDefined(e.template)?r(this.fromString(e.template,t)):o.isDefined(e.templateUrl)?r(this.fromUrl(e.templateUrl,t)):o.isDefined(e.templateProvider)?r(this.fromProvider(e.templateProvider,t,n)):o.isDefined(e.component)?i(e.component):o.isDefined(e.componentProvider)?i(this.fromComponentProvider(e.componentProvider,t,n)):r("<ui-view></ui-view>")},e.prototype.fromString=function(e,t){return o.isFunction(e)?e(t):e},e.prototype.fromUrl=function(e,t){return o.isFunction(e)&&(e=e(t)),null==e?null:this._useHttp?this.$http.get(e,{cache:this.$templateCache,headers:{Accept:"text/html"}}).then(function(e){return e.data}):this.$templateRequest(e)},e.prototype.fromProvider=function(e,t,n){var r=o.services.$injector.annotate(e),i=o.isArray(e)?o.tail(e):e;return new o.Resolvable("",i,r).get(n)},e.prototype.fromComponentProvider=function(e,t,n){var r=o.services.$injector.annotate(e),i=o.isArray(e)?o.tail(e):e;return new o.Resolvable("",i,r).get(n)},e.prototype.makeComponentTemplate=function(e,t,n,i){i=i||{};var a=r.ng.version.minor>=3?"::":"",u=function(e){var t=o.kebobString(e);return/^(x|data)-/.exec(t)?"x-"+t:t},l=function(e){var t=o.services.$injector.get(e+"Directive");if(!t||!t.length)throw new Error("Unable to find component named '"+e+"'");return t.map(s).reduce(o.unnestR,[])}(n).map(function(n){var r=n.name,s=n.type,l=u(r);if(e.attr(l)&&!i[r])return l+"='"+e.attr(l)+"'";var c=i[r]||r;if("@"===s)return l+"='{{"+a+"$resolve."+c+"}}'";if("&"===s){var d=t.getResolvable(c),m=d&&d.data,f=m&&o.services.$injector.annotate(m)||[];return l+"='$resolve."+c+(o.isArray(m)?"["+(m.length-1)+"]":"")+"("+f.join(",")+")'"}return l+"='"+a+"$resolve."+c+"'"}).join(" "),c=u(n);return"<"+c+" "+l+"></"+c+">"},e}();t.TemplateFactory=i;var s=function(e){return o.isObject(e.bindToController)?a(e.bindToController):a(e.scope)},a=function(e){return Object.keys(e||{}).map(function(t){return[t,/^([=<@&])[?]?(.*)/.exec(e[t])]}).filter(function(e){return o.isDefined(e)&&o.isArray(e[1])}).map(function(e){return{name:e[1][2]||e[0],type:e[1][1]}})}},"./node_modules/angular-ui-router/lib/urlRouterProvider.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@uirouter/core/lib/index.js"),o=n("./node_modules/@uirouter/core/lib/index.js"),i=function(){function e(e){this._router=e,this._urlRouter=e.urlRouter}return e.prototype.$get=function(){var e=this._urlRouter;return e.update(!0),e.interceptDeferred||e.listen(),e},e.prototype.rule=function(e){var t=this;if(!o.isFunction(e))throw new Error("'rule' must be a function");var n=new r.BaseUrlRule(function(){return e(o.services.$injector,t._router.locationService)},o.identity);return this._urlRouter.rule(n),this},e.prototype.otherwise=function(e){var t=this,n=this._urlRouter;if(o.isString(e))n.otherwise(e);else{if(!o.isFunction(e))throw new Error("'rule' must be a string or function");n.otherwise(function(){return e(o.services.$injector,t._router.locationService)})}return this},e.prototype.when=function(t,n){return(o.isArray(n)||o.isFunction(n))&&(n=e.injectableHandler(this._router,n)),this._urlRouter.when(t,n),this},e.injectableHandler=function(e,t){return function(n){return o.services.$injector.invoke(t,null,{$match:n,$stateParams:e.globals.params})}},e.prototype.deferIntercept=function(e){this._urlRouter.deferIntercept(e)},e}();t.UrlRouterProvider=i},"./node_modules/angular-ui-router/lib/viewScroll.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n("./node_modules/angular-ui-router/lib/angular.js").ng.module("ui.router.state").provider("$uiViewScroll",function(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n(function(){e[0].scrollIntoView()},0,!1)}}]})},"./node_modules/lodash/_baseMap.js":function(e,t,n){var r=n("./node_modules/lodash/_baseEach.js"),o=n("./node_modules/lodash/isArrayLike.js");e.exports=function(e,t){var n=-1,i=o(e)?Array(e.length):[];return r(e,function(e,r,o){i[++n]=t(e,r,o)}),i}},"./node_modules/lodash/findIndex.js":function(e,t,n){var r=n("./node_modules/lodash/_baseFindIndex.js"),o=n("./node_modules/lodash/_baseIteratee.js"),i=n("./node_modules/lodash/toInteger.js"),s=Math.max;e.exports=function(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var u=null==n?0:i(n);return u<0&&(u=s(a+u,0)),r(e,o(t,3),u)}},"./node_modules/lodash/flatMap.js":function(e,t,n){var r=n("./node_modules/lodash/_baseFlatten.js"),o=n("./node_modules/lodash/map.js");e.exports=function(e,t){return r(o(e,t),1)}},"./node_modules/lodash/map.js":function(e,t,n){var r=n("./node_modules/lodash/_arrayMap.js"),o=n("./node_modules/lodash/_baseIteratee.js"),i=n("./node_modules/lodash/_baseMap.js"),s=n("./node_modules/lodash/isArray.js");e.exports=function(e,t){return(s(e)?r:i)(e,o(t,3))}},"./node_modules/lodash/toFinite.js":function(e,t,n){var r=n("./node_modules/lodash/toNumber.js"),o=1/0,i=1.7976931348623157e308;e.exports=function(e){return e?(e=r(e))===o||e===-o?(e<0?-1:1)*i:e==e?e:0:0===e?e:0}},"./node_modules/lodash/toInteger.js":function(e,t,n){var r=n("./node_modules/lodash/toFinite.js");e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},"./node_modules/moment/locale sync recursive ^\\.\\/.*$":function(e,t,n){var r={"./af":"./node_modules/moment/locale/af.js","./af.js":"./node_modules/moment/locale/af.js","./ar":"./node_modules/moment/locale/ar.js","./ar-dz":"./node_modules/moment/locale/ar-dz.js","./ar-dz.js":"./node_modules/moment/locale/ar-dz.js","./ar-kw":"./node_modules/moment/locale/ar-kw.js","./ar-kw.js":"./node_modules/moment/locale/ar-kw.js","./ar-ly":"./node_modules/moment/locale/ar-ly.js","./ar-ly.js":"./node_modules/moment/locale/ar-ly.js","./ar-ma":"./node_modules/moment/locale/ar-ma.js","./ar-ma.js":"./node_modules/moment/locale/ar-ma.js","./ar-sa":"./node_modules/moment/locale/ar-sa.js","./ar-sa.js":"./node_modules/moment/locale/ar-sa.js","./ar-tn":"./node_modules/moment/locale/ar-tn.js","./ar-tn.js":"./node_modules/moment/locale/ar-tn.js","./ar.js":"./node_modules/moment/locale/ar.js","./az":"./node_modules/moment/locale/az.js","./az.js":"./node_modules/moment/locale/az.js","./be":"./node_modules/moment/locale/be.js","./be.js":"./node_modules/moment/locale/be.js","./bg":"./node_modules/moment/locale/bg.js","./bg.js":"./node_modules/moment/locale/bg.js","./bm":"./node_modules/moment/locale/bm.js","./bm.js":"./node_modules/moment/locale/bm.js","./bn":"./node_modules/moment/locale/bn.js","./bn.js":"./node_modules/moment/locale/bn.js","./bo":"./node_modules/moment/locale/bo.js","./bo.js":"./node_modules/moment/locale/bo.js","./br":"./node_modules/moment/locale/br.js","./br.js":"./node_modules/moment/locale/br.js","./bs":"./node_modules/moment/locale/bs.js","./bs.js":"./node_modules/moment/locale/bs.js","./ca":"./node_modules/moment/locale/ca.js","./ca.js":"./node_modules/moment/locale/ca.js","./cs":"./node_modules/moment/locale/cs.js","./cs.js":"./node_modules/moment/locale/cs.js","./cv":"./node_modules/moment/locale/cv.js","./cv.js":"./node_modules/moment/locale/cv.js","./cy":"./node_modules/moment/locale/cy.js","./cy.js":"./node_modules/moment/locale/cy.js","./da":"./node_modules/moment/locale/da.js","./da.js":"./node_modules/moment/locale/da.js","./de":"./node_modules/moment/locale/de.js","./de-at":"./node_modules/moment/locale/de-at.js","./de-at.js":"./node_modules/moment/locale/de-at.js","./de-ch":"./node_modules/moment/locale/de-ch.js","./de-ch.js":"./node_modules/moment/locale/de-ch.js","./de.js":"./node_modules/moment/locale/de.js","./dv":"./node_modules/moment/locale/dv.js","./dv.js":"./node_modules/moment/locale/dv.js","./el":"./node_modules/moment/locale/el.js","./el.js":"./node_modules/moment/locale/el.js","./en-au":"./node_modules/moment/locale/en-au.js","./en-au.js":"./node_modules/moment/locale/en-au.js","./en-ca":"./node_modules/moment/locale/en-ca.js","./en-ca.js":"./node_modules/moment/locale/en-ca.js","./en-gb":"./node_modules/moment/locale/en-gb.js","./en-gb.js":"./node_modules/moment/locale/en-gb.js","./en-ie":"./node_modules/moment/locale/en-ie.js","./en-ie.js":"./node_modules/moment/locale/en-ie.js","./en-il":"./node_modules/moment/locale/en-il.js","./en-il.js":"./node_modules/moment/locale/en-il.js","./en-nz":"./node_modules/moment/locale/en-nz.js","./en-nz.js":"./node_modules/moment/locale/en-nz.js","./eo":"./node_modules/moment/locale/eo.js","./eo.js":"./node_modules/moment/locale/eo.js","./es":"./node_modules/moment/locale/es.js","./es-do":"./node_modules/moment/locale/es-do.js","./es-do.js":"./node_modules/moment/locale/es-do.js","./es-us":"./node_modules/moment/locale/es-us.js","./es-us.js":"./node_modules/moment/locale/es-us.js","./es.js":"./node_modules/moment/locale/es.js","./et":"./node_modules/moment/locale/et.js","./et.js":"./node_modules/moment/locale/et.js","./eu":"./node_modules/moment/locale/eu.js","./eu.js":"./node_modules/moment/locale/eu.js","./fa":"./node_modules/moment/locale/fa.js","./fa.js":"./node_modules/moment/locale/fa.js","./fi":"./node_modules/moment/locale/fi.js","./fi.js":"./node_modules/moment/locale/fi.js","./fo":"./node_modules/moment/locale/fo.js","./fo.js":"./node_modules/moment/locale/fo.js","./fr":"./node_modules/moment/locale/fr.js","./fr-ca":"./node_modules/moment/locale/fr-ca.js","./fr-ca.js":"./node_modules/moment/locale/fr-ca.js","./fr-ch":"./node_modules/moment/locale/fr-ch.js","./fr-ch.js":"./node_modules/moment/locale/fr-ch.js","./fr.js":"./node_modules/moment/locale/fr.js","./fy":"./node_modules/moment/locale/fy.js","./fy.js":"./node_modules/moment/locale/fy.js","./gd":"./node_modules/moment/locale/gd.js","./gd.js":"./node_modules/moment/locale/gd.js","./gl":"./node_modules/moment/locale/gl.js","./gl.js":"./node_modules/moment/locale/gl.js","./gom-latn":"./node_modules/moment/locale/gom-latn.js","./gom-latn.js":"./node_modules/moment/locale/gom-latn.js","./gu":"./node_modules/moment/locale/gu.js","./gu.js":"./node_modules/moment/locale/gu.js","./he":"./node_modules/moment/locale/he.js","./he.js":"./node_modules/moment/locale/he.js","./hi":"./node_modules/moment/locale/hi.js","./hi.js":"./node_modules/moment/locale/hi.js","./hr":"./node_modules/moment/locale/hr.js","./hr.js":"./node_modules/moment/locale/hr.js","./hu":"./node_modules/moment/locale/hu.js","./hu.js":"./node_modules/moment/locale/hu.js","./hy-am":"./node_modules/moment/locale/hy-am.js","./hy-am.js":"./node_modules/moment/locale/hy-am.js","./id":"./node_modules/moment/locale/id.js","./id.js":"./node_modules/moment/locale/id.js","./is":"./node_modules/moment/locale/is.js","./is.js":"./node_modules/moment/locale/is.js","./it":"./node_modules/moment/locale/it.js","./it.js":"./node_modules/moment/locale/it.js","./ja":"./node_modules/moment/locale/ja.js","./ja.js":"./node_modules/moment/locale/ja.js","./jv":"./node_modules/moment/locale/jv.js","./jv.js":"./node_modules/moment/locale/jv.js","./ka":"./node_modules/moment/locale/ka.js","./ka.js":"./node_modules/moment/locale/ka.js","./kk":"./node_modules/moment/locale/kk.js","./kk.js":"./node_modules/moment/locale/kk.js","./km":"./node_modules/moment/locale/km.js","./km.js":"./node_modules/moment/locale/km.js","./kn":"./node_modules/moment/locale/kn.js","./kn.js":"./node_modules/moment/locale/kn.js","./ko":"./node_modules/moment/locale/ko.js","./ko.js":"./node_modules/moment/locale/ko.js","./ky":"./node_modules/moment/locale/ky.js","./ky.js":"./node_modules/moment/locale/ky.js","./lb":"./node_modules/moment/locale/lb.js","./lb.js":"./node_modules/moment/locale/lb.js","./lo":"./node_modules/moment/locale/lo.js","./lo.js":"./node_modules/moment/locale/lo.js","./lt":"./node_modules/moment/locale/lt.js","./lt.js":"./node_modules/moment/locale/lt.js","./lv":"./node_modules/moment/locale/lv.js","./lv.js":"./node_modules/moment/locale/lv.js","./me":"./node_modules/moment/locale/me.js","./me.js":"./node_modules/moment/locale/me.js","./mi":"./node_modules/moment/locale/mi.js","./mi.js":"./node_modules/moment/locale/mi.js","./mk":"./node_modules/moment/locale/mk.js","./mk.js":"./node_modules/moment/locale/mk.js","./ml":"./node_modules/moment/locale/ml.js","./ml.js":"./node_modules/moment/locale/ml.js","./mn":"./node_modules/moment/locale/mn.js","./mn.js":"./node_modules/moment/locale/mn.js","./mr":"./node_modules/moment/locale/mr.js","./mr.js":"./node_modules/moment/locale/mr.js","./ms":"./node_modules/moment/locale/ms.js","./ms-my":"./node_modules/moment/locale/ms-my.js","./ms-my.js":"./node_modules/moment/locale/ms-my.js","./ms.js":"./node_modules/moment/locale/ms.js","./mt":"./node_modules/moment/locale/mt.js","./mt.js":"./node_modules/moment/locale/mt.js","./my":"./node_modules/moment/locale/my.js","./my.js":"./node_modules/moment/locale/my.js","./nb":"./node_modules/moment/locale/nb.js","./nb.js":"./node_modules/moment/locale/nb.js","./ne":"./node_modules/moment/locale/ne.js","./ne.js":"./node_modules/moment/locale/ne.js","./nl":"./node_modules/moment/locale/nl.js","./nl-be":"./node_modules/moment/locale/nl-be.js","./nl-be.js":"./node_modules/moment/locale/nl-be.js","./nl.js":"./node_modules/moment/locale/nl.js","./nn":"./node_modules/moment/locale/nn.js","./nn.js":"./node_modules/moment/locale/nn.js","./pa-in":"./node_modules/moment/locale/pa-in.js","./pa-in.js":"./node_modules/moment/locale/pa-in.js","./pl":"./node_modules/moment/locale/pl.js","./pl.js":"./node_modules/moment/locale/pl.js","./pt":"./node_modules/moment/locale/pt.js","./pt-br":"./node_modules/moment/locale/pt-br.js","./pt-br.js":"./node_modules/moment/locale/pt-br.js","./pt.js":"./node_modules/moment/locale/pt.js","./ro":"./node_modules/moment/locale/ro.js","./ro.js":"./node_modules/moment/locale/ro.js","./ru":"./node_modules/moment/locale/ru.js","./ru.js":"./node_modules/moment/locale/ru.js","./sd":"./node_modules/moment/locale/sd.js","./sd.js":"./node_modules/moment/locale/sd.js","./se":"./node_modules/moment/locale/se.js","./se.js":"./node_modules/moment/locale/se.js","./si":"./node_modules/moment/locale/si.js","./si.js":"./node_modules/moment/locale/si.js","./sk":"./node_modules/moment/locale/sk.js","./sk.js":"./node_modules/moment/locale/sk.js","./sl":"./node_modules/moment/locale/sl.js","./sl.js":"./node_modules/moment/locale/sl.js","./sq":"./node_modules/moment/locale/sq.js","./sq.js":"./node_modules/moment/locale/sq.js","./sr":"./node_modules/moment/locale/sr.js","./sr-cyrl":"./node_modules/moment/locale/sr-cyrl.js","./sr-cyrl.js":"./node_modules/moment/locale/sr-cyrl.js","./sr.js":"./node_modules/moment/locale/sr.js","./ss":"./node_modules/moment/locale/ss.js","./ss.js":"./node_modules/moment/locale/ss.js","./sv":"./node_modules/moment/locale/sv.js","./sv.js":"./node_modules/moment/locale/sv.js","./sw":"./node_modules/moment/locale/sw.js","./sw.js":"./node_modules/moment/locale/sw.js","./ta":"./node_modules/moment/locale/ta.js","./ta.js":"./node_modules/moment/locale/ta.js","./te":"./node_modules/moment/locale/te.js","./te.js":"./node_modules/moment/locale/te.js","./tet":"./node_modules/moment/locale/tet.js","./tet.js":"./node_modules/moment/locale/tet.js","./tg":"./node_modules/moment/locale/tg.js","./tg.js":"./node_modules/moment/locale/tg.js","./th":"./node_modules/moment/locale/th.js","./th.js":"./node_modules/moment/locale/th.js","./tl-ph":"./node_modules/moment/locale/tl-ph.js","./tl-ph.js":"./node_modules/moment/locale/tl-ph.js","./tlh":"./node_modules/moment/locale/tlh.js","./tlh.js":"./node_modules/moment/locale/tlh.js","./tr":"./node_modules/moment/locale/tr.js","./tr.js":"./node_modules/moment/locale/tr.js","./tzl":"./node_modules/moment/locale/tzl.js","./tzl.js":"./node_modules/moment/locale/tzl.js","./tzm":"./node_modules/moment/locale/tzm.js","./tzm-latn":"./node_modules/moment/locale/tzm-latn.js","./tzm-latn.js":"./node_modules/moment/locale/tzm-latn.js","./tzm.js":"./node_modules/moment/locale/tzm.js","./ug-cn":"./node_modules/moment/locale/ug-cn.js","./ug-cn.js":"./node_modules/moment/locale/ug-cn.js","./uk":"./node_modules/moment/locale/uk.js","./uk.js":"./node_modules/moment/locale/uk.js","./ur":"./node_modules/moment/locale/ur.js","./ur.js":"./node_modules/moment/locale/ur.js","./uz":"./node_modules/moment/locale/uz.js","./uz-latn":"./node_modules/moment/locale/uz-latn.js","./uz-latn.js":"./node_modules/moment/locale/uz-latn.js","./uz.js":"./node_modules/moment/locale/uz.js","./vi":"./node_modules/moment/locale/vi.js","./vi.js":"./node_modules/moment/locale/vi.js","./x-pseudo":"./node_modules/moment/locale/x-pseudo.js","./x-pseudo.js":"./node_modules/moment/locale/x-pseudo.js","./yo":"./node_modules/moment/locale/yo.js","./yo.js":"./node_modules/moment/locale/yo.js","./zh-cn":"./node_modules/moment/locale/zh-cn.js","./zh-cn.js":"./node_modules/moment/locale/zh-cn.js","./zh-hk":"./node_modules/moment/locale/zh-hk.js","./zh-hk.js":"./node_modules/moment/locale/zh-hk.js","./zh-tw":"./node_modules/moment/locale/zh-tw.js","./zh-tw.js":"./node_modules/moment/locale/zh-tw.js"};function o(e){var t=i(e);return n(t)}function i(e){var t=r[e];if(!(t+1)){var n=new Error('Cannot find module "'+e+'".');throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id="./node_modules/moment/locale sync recursive ^\\.\\/.*$"},"./src/Cms/AddNewContent/AddNewContent.html":function(e,t){e.exports='<md-button ng-click="vm.showAddNewContentDialog($event)" ng-hide="vm.toEdit" class="md-primary md-raised add-new">\n  <md-icon class="material-icons">add</md-icon>\n  <translate>Add new content</translate>\n</md-button>\n<md-button class="edit-button" md-no-ink ng-show="vm.toEdit" ng-click="vm.showAddNewContentDialog($event)">\n  <md-icon>create</md-icon>\n  <span class="edit-text">\n    <translate>Edit</translate>\n  </span>\n</md-button>\n'},"./src/Cms/AddNewContent/AddNewContent.scss":function(e,t,n){},"./src/Cms/AddNewContent/AddNewContentController.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddNewContentDialog=void 0;var r=m(n("./node_modules/babel-runtime/core-js/object/assign.js")),o=m(n("./node_modules/babel-runtime/regenerator/index.js")),i=m(n("./node_modules/babel-runtime/helpers/asyncToGenerator.js")),s=m(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),a=m(n("./node_modules/babel-runtime/helpers/createClass.js")),u=m(n("./node_modules/angular/index.js")),l=d(n("./src/store/modules/cms.js")),c=d(n("./src/store/modules/user.js"));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t,n,r,o,i,a){(0,s.default)(this,e),this.scope=t,this.dialog=n,this.upload=r,this.toast=o,this.showTrixError=!1,this.disableSubmit=!1,this.newContent=a,this.unsubscribe=i.connect(this.mapState,l)(this)}return(0,a.default)(e,[{key:"mapState",value:function(e){return{axes:l.getDomainStructureForCms(e),global:l.getCmsData(e),userProfile:c.getProfile(e),isSuperUser:c.isSuperUser(e)}}},{key:"cancel",value:function(){this.dialog.cancel()}},{key:"submit",value:function(){var e=(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.form.$valid&&this.newContent.textValid)try{this.saveOrUpdateContent(this.newContent),this.dialog.hide(this.newContent)}catch(e){console.log(e),this.showToast("Validation error")}else this.newContent.textValid||(this.showTrixError=!0),this.showToast("Validation error");case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"beforeImageSelect",value:function(){this.disableSubmit=!0}},{key:"imageSelected",value:function(){this.disableSubmit=!1}},{key:"showToast",value:function(e){this.toast.show(this.toast.simple().parent(window.document.querySelector("md-dialog")).textContent(e).position("bottom right").hideDelay(3e3))}}],[{key:"factory",value:function(t,n){function r(r,o,i,s,a){return new e(r,o,i,s,a,t,n)}return r.$inject=["$scope","$mdDialog","Upload","$mdToast","$ngRedux"],r}}]),e}(),p=function(){function e(t,n){(0,s.default)(this,e),this.scope=t,this.dialog=n}return(0,a.default)(e,[{key:"showAddNewContentDialog",value:function(e){var t=this.toEdit?(0,r.default)({},this.toEdit):{};this.dialog.show({controller:f.factory(t),controllerAs:"vm",template:n("./src/Cms/AddNewContent/AddNewContentDialog.html"),parent:u.default.element(document.body),targetEvent:e,clickOutsideToClose:!0})}}],[{key:"factory",value:function(){function t(t,n){return new e(t,n)}return n("./src/Cms/AddNewContent/AddNewContent.scss"),t.$inject=["$scope","$mdDialog"],t}}]),e}();t.default=p,t.AddNewContentDialog=f},"./src/Cms/AddNewContent/AddNewContentDialog.html":function(e,t){e.exports='<md-dialog aria-label="add-new-content" class="detail-dialog new-content-dialog">\n  <md-toolbar>\n    <div class="md-toolbar-tools">\n      <h3 class="md-title" ng-hide="vm.newContent.id">\n        <translate>Add new</translate>\n        <span>\n          <translate>content</translate>\n        </span>\n      </h3>\n      <h3 class="md-title" ng-show="vm.newContent.id">Edit content</h3>\n      <span flex></span>\n      <md-button class="md-icon-button" ng-click="vm.cancel()">\n        <md-icon  aria-label="Close dialog">close</md-icon>\n      </md-button>\n    </div>\n  </md-toolbar>\n\n  <form name="vm.form" ng-submit="vm.submit($event)" novalidate>\n    <md-dialog-content>\n      <div class="md-dialog-content">\n\n        <div class="content">\n          <div layout="column">\n            <md-input-container >\n              <label>\n                <translate>Select a type</translate>\n              </label>\n              <md-select ng-model="vm.newContent.type" required name="type" >\n                <md-option ng-value="1">\n                  <translate>Resources</translate>\n                </md-option>\n                <md-option ng-value="2" ng-if="vm.isSuperUser" >\n                  <translate>Tips &amp; Considerations</translate>\n                </md-option>\n                <md-option ng-value="3" >\n                  <translate>Experiences</translate>\n                </md-option>\n              </md-select>\n              <div ng-messages="vm.form.type.$error">\n                <div ng-message="required">\n                  <translate>This is required.</translate>\n                </div>\n              </div>\n            </md-input-container>\n            <md-input-container>\n              <label>\n                <translate>Select a domain</translate>\n              </label>\n              <md-select aria-label="domain-selector" name="domain" ng-model="vm.newContent.domain" required class="">\n                <md-optgroup label="{{axis.name}}" ng-repeat="axis in vm.axes">\n                  <md-option ng-value="domain.id" ng-repeat="domain in axis.domains track by domain.id">{{domain.name}}</md-option>\n                </md-optgroup>\n              </md-select>\n              <div ng-messages="vm.form.domain.$error">\n                <div ng-message="required">\n                  <translate>This is required.</translate>\n                </div>\n              </div>\n            </md-input-container>\n\n            <md-input-container>\n              <label>\n                <translate>Add a title</translate>\n              </label>\n              <input type="text" ng-model="vm.newContent.name"  name="name" required md-maxlength="120" />\n              <div ng-messages="vm.form.name.$error">\n                <div ng-message="required">\n                  <translate>This is required.</translate>\n                </div>\n                <div ng-message="md-maxlength">\n                  <translate>The name has to be less than 120 characters long.</translate>\n                </div>\n              </div>\n            </md-input-container>\n          </div>\n\n          <trix-component value="vm.newContent.body" show-error="vm.showTrixError" valid="vm.newContent.textValid" placeholder="{{\'Add content\' | translate}}" char-limit="2500" required></trix-component>\n\n          <div class="file-upload" layout="row" layout-align="start center" ng-if="vm.newContent.type !== 3">\n            <div class="selected-file-thumbnail">\n              <img ngf-thumbnail="vm.newContent.cover" ngf-size="{width: auto, height: 36, quality: 0.9}">\n            </div>\n            <div class="md-button md-gray" ngf-select ng-model="vm.newContent.cover" ngf-pattern="\'image/*\'"\n                 ngf-accept="\'image/*\'" ngf-max-size="10MB" ngf-min-height="100" ngf-before-model-change="vm.beforeImageSelect()" ng-change="vm.imageSelected()">\n              <md-icon>insert_photo</md-icon>\n              <translate>Add cover image</translate>\n            </div>\n            <div>\n              <small>\n                <translate>Maximum file size: 10MB</translate>\n              </small>\n            </div>\n          </div>\n        </div>\n      </div>\n    </md-dialog-content>\n\n    <md-dialog-actions layout="row">\n      <md-button ng-click="vm.cancel()">\n        <translate>Cancel</translate>\n      </md-button>\n      <span flex></span>\n      <md-button  class="md-primary md-raised" ng-disabled="vm.disableSubmit" type="submit">\n        <translate>Submit</translate>\n      </md-button>\n    </md-dialog-actions>\n  </form>\n\n</md-dialog>\n'},"./src/Cms/AddNewContent/addNewContentComponent.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n("./src/Cms/AddNewContent/AddNewContentController.js"));function o(e){return e&&e.__esModule?e:{default:e}}var i={template:o(n("./src/Cms/AddNewContent/AddNewContent.html")).default,controller:r.default.factory(),controllerAs:"vm",name:"cmsAddNewContent",bindings:{toEdit:"<?"}};t.default=i},"./src/Cms/CommentWidget/CommentWidget.html":function(e,t){e.exports='<div md-whiteframe="2" class="comment" ng-class="{\'expanded\': vm.expanded}" layout="row" layout-align="start start">\n  <div class="avatar-img">\n    <span ng-hide="vm.item.avatar" class="no-avatar"></span>\n    <img ng-show="vm.item.avatar" ng-src="{{vm.item.avatar}}" alt="avatar">\n  </div>\n  <div class="excerpt">\n    <h3 class="md-title">{{vm.getUsername()}}</h3>\n    <div class="comment-info">\n      <small class="time">\n        {{vm.prettifyDate(vm.comment)}}\n        <span class="sep">|</span>\n        \x3c!-- visible if user is able to edit --\x3e\n        <span ng-show="vm.isAuthor()">\n          <md-button class="edit-button" md-no-ink ng-click="vm.edit()">\n            <md-icon>create</md-icon>\n            <span class="edit-text">\n              <translate>Edit</translate>\n            </span>\n          </md-button>\n          <cms-report-delete-button type="delete" item="vm.comment"></cms-report-delete-button>\n          <span class="sep">|</span>\n        </span>\n        \x3c!-- / --\x3e\n        <cms-report-delete-button item="vm.comment"></cms-report-delete-button>\n      </small>\n    </div>\n    <div class="comment-text" ng-if="!vm.editMode">\n      <div class="comment-text-wrapper" ng-bind-html="vm.postProcessHtml(vm.comment.text)"></div>\n      <span ng-click="vm.readMore()" ng-show="vm.comment.text.length > 200" class="read-more">\n        <span ng-hide="vm.expanded">\n          <translate>Read more...</translate>\n        </span>\n        <span ng-show="vm.expanded">\n          <translate>...Read less</translate>\n        </span>\n      </span>\n    </div>\n    <div class="comment-text" ng-if="vm.editMode">\n      <trix-component placeholder="{{\'Start typing here...\' | translate }}" valid="vm.modified.valid" value="vm.modified.text" char-limit="2500"></trix-component>\n      <md-button class="md-primary md-raised" ng-click="vm.update()" ng-disabled="!vm.modified.valid">\n        <md-icon>done</md-icon>\n        <translate>Save</translate>\n      </md-button>\n      <md-button ng-click="vm.edit()">\n        <md-icon>undo</md-icon>\n        <translate>Cancel</translate>\n      </md-button>\n    </div>\n  </div>\n\n</div>\n'},"./src/Cms/CommentWidget/CommentWidget.scss":function(e,t,n){},"./src/Cms/CommentWidget/CommentWidgetController.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n("./node_modules/babel-runtime/regenerator/index.js")),o=p(n("./node_modules/babel-runtime/helpers/asyncToGenerator.js")),i=p(n("./node_modules/babel-runtime/core-js/object/assign.js")),s=p(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),a=p(n("./node_modules/babel-runtime/helpers/createClass.js")),u=n("./src/Cms/utilities.js"),l=p(n("./src/Storage.js")),c=f(n("./src/store/modules/cms.js")),d=f(n("./src/store/modules/user.js")),m=f(n("./src/store/modules/system.js"));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}var h=function(){function e(t,n){(0,s.default)(this,e),this.scope=t,this.prettifyDate=u.prettifyDate,this.postProcessHtml=u.postProcessHtml,this.$onInit=this.onInit.bind(this),this.$onDestroy=this.onDestroy.bind(this),this.storage=new l.default,this.unsubscribe=n.connect(this.mapState,c)(this)}return(0,a.default)(e,[{key:"onInit",value:function(){this.expanded=!1,this.editMode=!1}},{key:"onDestroy",value:function(){this.unsubscribe()}},{key:"mapState",value:function(e){return{global:c.getCmsData(e),userProfile:d.getProfile(e),profiles:m.getUserProfiles(e)}}},{key:"isAuthor",value:function(){return this.userProfile.id===this.comment.user}},{key:"getUsername",value:function(){var e=this,t=this.profiles.find(function(t){return t.id===e.comment.user});return t?t.name:"No name"}},{key:"edit",value:function(){this.editMode=!this.editMode,this.editMode&&(this.modified=(0,i.default)({},this.comment))}},{key:"update",value:function(){var e=(0,o.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateComment(this.modified);case 2:this.editMode=!1;case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"readMore",value:function(){this.expanded=!this.expanded}}],[{key:"factory",value:function(){function t(t,n){return new e(t,n)}return n("./src/Cms/CommentWidget/CommentWidget.scss"),t.$inject=["$scope","$ngRedux"],t}}]),e}();t.default=h},"./src/Cms/CommentWidget/commentWidgetComponent.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n("./src/Cms/CommentWidget/CommentWidgetController.js"));function o(e){return e&&e.__esModule?e:{default:e}}var i={template:o(n("./src/Cms/CommentWidget/CommentWidget.html")).default,controller:r.default.factory(),controllerAs:"vm",name:"cmsCommentWidget",bindings:{comment:"<",type:"<"}};t.default=i},"./src/Cms/DashboardWidget/DashboardWidget.html":function(e,t){e.exports='<div md-whiteframe="2" class="cms-widget-wrapper" layout="column"  layout-align="start center">\n\n  <div class="cms-widget-header" ng-class="vm.axisColor" layout="row">\n    <div class="domain-icon" ng-class="vm.domainIcon"></div>\n    <div class="domain-score">\n      <translate>You\'ve scored {{vm.domainScore}} % in {{vm.currentDomain.name}} domain!</translate>\n    </div>\n    <div flex></div>\n    <div class="domain-selector">\n      <md-select aria-label="domain-selector" ng-model="vm.currentDomain" md-selected-text="\'Select a domain\' | translate" class="">\n        <md-optgroup label="{{axis.name}}" ng-repeat="axis in vm.axes">\n          <md-option ng-value="domain" ng-repeat="domain in axis.domains">{{domain.name}}</md-option>\n        </md-optgroup>\n      </md-select>\n    </div>\n    <div class="domain-arrows">\n      <md-button ng-click="vm.prevDomain()">\n        <md-icon>keyboard_arrow_left</md-icon>\n      </md-button>\n      <md-button ng-click="vm.nextDomain()">\n        <md-icon>keyboard_arrow_right</md-icon>\n      </md-button>\n    </div>\n  </div>\n\n  <div layout="row" layout-margin="10" layout-wrap>\n    <div class="category-column" layout="column" flex>\n      <div md-whiteframe="2" class="category-header lessons-tips" layout="row"  layout-align="start center">\n        <h4>\n          <translate>Tips and Considerations</translate>\n        </h4>\n      </div>\n      <cms-list-element ng-repeat="item in vm.lessons | orderBy:\'id\':true | limitTo:3" item="item"></cms-list-element>\n      <div md-whiteframe="2"\n           layout="row"\n           layout-align="start center"\n           ng-show="vm.lessons.length === 0"\n           class="empty-card">\n        <translate>No lessons have been added yet...</translate>\n      </div>\n\n      <md-button md-no-ink ui-sref="cms({\'#\': \'lessons\'})" class="md-primary md-small goto-cms">\n        <translate>More Tips &amp; Considerations</translate>\n      </md-button>\n    </div>\n    <div class="category-column" layout="column" flex>\n      <div md-whiteframe="2" class="category-header resources" layout="row"  layout-align="start center">\n        <h4>\n          <translate>Resources</translate>\n        </h4>\n      </div>\n      <cms-list-element ng-repeat="item in vm.resources | orderBy:\'id\':true | limitTo:3" item="item"></cms-list-element>\n      <div md-whiteframe="2"\n           layout="row"\n           layout-align="start center"\n           ng-show="vm.resources.length === 0"\n           class="empty-card">\n        <translate>No resources have been added yet...</translate>\n      </div>\n      <md-button md-no-ink ui-sref="cms({\'#\': \'resources\'})" class="md-primary md-small goto-cms">\n        <translate>More Resources</translate>\n      </md-button>\n    </div>\n    <div class="category-column" layout="column" flex>\n      <div md-whiteframe="2"\n           class="category-header experiences"\n           layout="row"\n           layout-align="start center">\n        <h4>\n          <translate>Experiences</translate>\n        </h4>\n      </div>\n      <cms-list-element ng-repeat="item in vm.experiences | orderBy:\'id\':true | limitTo:3" item="item"></cms-list-element>\n      <div md-whiteframe="2"\n           layout="row"\n           layout-align="start center"\n           ng-show="vm.experiences.length === 0"\n           class="empty-card">\n        <translate>No experiences have been added yet...</translate>\n      </div>\n      <md-button md-no-ink ui-sref="cms({\'#\': \'experiences\'})" class="md-primary md-small goto-cms">\n        <translate>More Experiences</translate>\n      </md-button>\n    </div>\n  </div>\n\n</div>\n'},"./src/Cms/DashboardWidget/DashboardWidget.scss":function(e,t,n){},"./src/Cms/DashboardWidget/DashboardWidgetController.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n("./node_modules/babel-runtime/helpers/slicedToArray.js")),o=d(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),i=d(n("./node_modules/babel-runtime/helpers/createClass.js")),s=d(n("./node_modules/lodash/flatMap.js")),a=d(n("./node_modules/lodash/findIndex.js")),u=c(n("./src/store/modules/cms.js")),l=c(n("./src/store/modules/system.js"));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}var m=function(){function e(t,n){(0,o.default)(this,e),this.scope=t,this.$ngRedux=n,this.$onInit=this.onInit.bind(this),this.watchers=this.watchers.bind(this),this.splitType=this.splitType.bind(this)}return(0,i.default)(e,[{key:"onInit",value:function(){this.lessons=[],this.resources=[],this.experiences=[],this.watchers(),this.unsubscribe=this.$ngRedux.connect(this.mapState,u)(this)}},{key:"mapState",value:function(e){var t=l.getDomains(e),n=t[Math.floor(Math.random()*t.length)];return{axes:u.getDomainStructureForCms(e),all:u.getCmsData(e),domains:t,currentDomain:n}}},{key:"watchers",value:function(){var e=this;this.scope.$watchGroup([function(e){return e.vm.currentDomain},function(e){return e.vm.scores}],function(t){var n=(0,r.default)(t,2),o=n[0],i=n[1];o&&i&&i.length>0&&(e.setDomainVariables(o,i),e.splitType(e.all))}),this.scope.$watchCollection(function(e){return e.vm.all},this.splitType)}},{key:"splitType",value:function(e){if(this.currentDomain&&this.currentDomain.id){var t=this.currentDomain.id;this.resources=e.filter(function(e){return 1===e.type&&e.domain===t}),this.lessons=e.filter(function(e){return 2===e.type&&e.domain===t}),this.experiences=e.filter(function(e){return 3===e.type&&e.domain===t})}}},{key:"setDomainVariables",value:function(e,t){if(this.axisColor="axis-"+e.axis,this.domainIcon="domain-"+e.id,t){var n=(0,s.default)(t,function(e){return e.domains}).find(function(t){return t.id===e.id});this.domainScore=Math.round(100*n.domain_sum/n.domain_max)}}},{key:"nextDomain",value:function(){var e=this,t=(0,a.default)(this.domains,function(t){return t.id===e.currentDomain.id})+1;t>this.domains.length-1&&(t=0),this.currentDomain=this.domains[t]}},{key:"prevDomain",value:function(){var e=this,t=(0,a.default)(this.domains,function(t){return t.id===e.currentDomain.id})-1;-1===t&&(t=this.domains.length-1),this.currentDomain=this.domains[t]}}],[{key:"factory",value:function(){function t(t,n){return new e(t,n)}return n("./src/Cms/DashboardWidget/DashboardWidget.scss"),t.$inject=["$scope","$ngRedux"],t}}]),e}();t.default=m},"./src/Cms/DashboardWidget/dashboardWidgetComponent.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n("./src/Cms/DashboardWidget/DashboardWidgetController.js"));function o(e){return e&&e.__esModule?e:{default:e}}var i={template:o(n("./src/Cms/DashboardWidget/DashboardWidget.html")).default,controller:r.default.factory(),controllerAs:"vm",name:"cmsDashboardWidget",bindings:{scores:"<"}};t.default=i},"./src/Cms/DetailElement/DetailElement.html":function(e,t){e.exports='<md-button ng-click="vm.showDetailDialog($event, true)" class="md-primary md-small">\n  <md-icon class="material-icons">comment</md-icon>\n  <translate>Add comment ({{vm.item.comments.length}})</translate>\n</md-button>\n\n<md-button ng-click="vm.showDetailDialog($event)" class="md-primary md-small">\n  <md-icon class="material-icons">launch</md-icon>\n  <translate>Read more</translate>\n</md-button>\n'},"./src/Cms/DetailElement/DetailElement.scss":function(e,t,n){},"./src/Cms/DetailElement/DetailElementController.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DetailElementDialog=void 0;var r=p(n("./node_modules/babel-runtime/regenerator/index.js")),o=p(n("./node_modules/babel-runtime/helpers/asyncToGenerator.js")),i=p(n("./node_modules/babel-runtime/core-js/object/assign.js")),s=p(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),a=p(n("./node_modules/babel-runtime/helpers/createClass.js")),u=p(n("./node_modules/angular/index.js")),l=n("./src/Cms/utilities.js"),c=p(n("./src/Storage.js")),d=f(n("./src/store/modules/cms.js")),m=f(n("./src/store/modules/user.js"));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}var h=function(){function e(t,n,r,o){(0,s.default)(this,e),this.scope=t,this.storage=new c.default,this.dialog=n,this.prettifyDate=l.prettifyDate,this.postProcessHtml=l.postProcessHtml,this.itemType=l.itemType,this.content=o,this.checkExistence=this.checkExistence.bind(this),this.unsubscribe=r.connect(this.mapState,d)(this),this.init()}return(0,a.default)(e,[{key:"init",value:function(){this.editMode=!1,this.newComment={valid:!0,text:null},this.watchers()}},{key:"mapState",value:function(e){return{global:d.getCmsData(e),userProfile:m.getProfile(e)}}},{key:"watchers",value:function(){this.scope.$watchCollection(function(e){return e.vm.global},this.checkExistence)}},{key:"checkExistence",value:function(e){var t=this;if(e&&e instanceof Array){var n=e.find(function(e){return e.id===t.content.id});n?this.content=n:this.dialog.cancel()}}},{key:"scrollToAddNewComment",value:function(){window.document.querySelector("#add-new-comment").scrollIntoView()}},{key:"cancel",value:function(){this.dialog.cancel()}},{key:"edit",value:function(){this.editMode=!this.editMode,this.editMode&&(this.modified=(0,i.default)({},this.content))}},{key:"update",value:function(){var e=(0,o.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveOrUpdateContent(this.modified);case 2:this.editMode=!1;case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"isAuthor",value:function(){return this.userProfile.id===this.content.author}},{key:"addComment",value:function(){var e=(0,o.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.addNewComment(this.newComment,this.content);case 2:this.newComment.text=!1;case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}],[{key:"factory",value:function(t){function n(n,r,o){return new e(n,r,o,t)}return n.$inject=["$scope","$mdDialog","$ngRedux"],n}}]),e}(),v=function(){function e(t){(0,s.default)(this,e),this.dialog=t}return(0,a.default)(e,[{key:"scrollToAddNewComment",value:function(e){e&&window.document.querySelector("#add-new-comment").scrollIntoView()}},{key:"showDetailDialog",value:function(e,t){var r=this;this.dialog.show({controller:h.factory(r.item),controllerAs:"vm",template:n("./src/Cms/DetailElement/DetailElementDialog.html"),parent:u.default.element(document.body),targetEvent:e,clickOutsideToClose:!0,onComplete:function(){return r.scrollToAddNewComment(t)}})}}],[{key:"factory",value:function(){function t(t){return new e(t)}return n("./src/Cms/DetailElement/DetailElement.scss"),t.$inject=["$mdDialog"],t}}]),e}();t.default=v,t.DetailElementDialog=h},"./src/Cms/DetailElement/DetailElementDialog.html":function(e,t){e.exports='<md-dialog aria-label="detail-dialog" class="detail-dialog">\n  <md-toolbar>\n    <div class="md-toolbar-tools">\n      <h3 class="md-title">{{vm.itemType(vm.content)}}</h3>\n      <span flex></span>\n      <md-button class="md-icon-button" ng-click="vm.cancel()">\n        <md-icon aria-label="Close dialog">close</md-icon>\n      </md-button>\n    </div>\n  </md-toolbar>\n\n  <md-dialog-content>\n    <div class="md-dialog-content" ng-class="vm.content.type">\n      <div class="content">\n\n        \x3c!-- Lessons & tips / Resources --\x3e\n        <div class="cms-content-wrapper" ng-if="vm.content.type !== 3" layout="column">\n          <div class="content-header">\n            <div class="name md-display-1">\n              {{vm.content.name}}\n            </div>\n\n            <div class="created">\n\n              <translate>by {{vm.content.author_name}} at {{vm.prettifyDate(vm.content)}}</translate>\n\n              \x3c!-- visible if user is able to edit --\x3e\n              <span ng-show="vm.isAuthor()">\n                <span class="sep">|</span>\n                <cms-add-new-content to-edit="vm.content"></cms-add-new-content>\n                <cms-report-delete-button type="delete" item="vm.content"></cms-report-delete-button>\n              </span>\n              \x3c!-- / --\x3e\n              <span ng-if="vm.content.type === 1">\n                <span class="sep">|</span>\n                <cms-report-delete-button type="report"  item="vm.content"></cms-report-delete-button>\n              </span>\n            </div>\n          </div>\n\n          <div layout="row">\n            <div class="cover">\n              <a href="{{vm.content.cover}}" target="_blank">\n                <img ng-src="{{vm.content.cover}}"  ng-if="vm.content.cover" />\n              </a>\n              <span class="no-cover" ng-if="!vm.content.cover"></span>\n            </div>\n\n            <div class="body" ng-if="!vm.editMode" ng-bind-html="vm.postProcessHtml(vm.content.body)"></div>\n            <div class="body edit-mode" ng-if="vm.editMode">\n              <trix-component placeholder="{{\'Start typing here...\' | translate }}" valid="vm.modified.valid" value="vm.modified.body" char-limit="2500"></trix-component>\n              <md-button class="md-primary md-raised" ng-click="vm.update()" ng-disabled="!vm.modified.valid">\n                <md-icon>done</md-icon>\n                <translate>Save</translate>\n              </md-button>\n              <md-button ng-click="vm.edit()">\n                <md-icon>undo</md-icon>\n                <translate>Cancel</translate>\n              </md-button>\n            </div>\n          </div>\n        </div>\n        \x3c!-- /end --\x3e\n\n        \x3c!-- Experiences --\x3e\n        <div class="cms-content-wrapper experiences" ng-if="vm.content.type === 3" layout="column">\n          <div class="content-header">\n            <div class="name md-display-1">\n              {{vm.content.name}}\n            </div>\n\n            <div class="created">\n              <translate>by {{vm.content.author_name}} at {{vm.prettifyDate(vm.content)}}</translate>\n\n              <span class="sep">|</span>\n              \x3c!-- visible if user is able to edit --\x3e\n              <span ng-show="vm.isAuthor()">\n                <md-button class="edit-button" md-no-ink ng-click="vm.edit()">\n                  <md-icon>create</md-icon>\n                  <translate>Edit</translate>\n                </md-button>\n                <cms-report-delete-button type="delete" item="vm.content"></cms-report-delete-button>\n                <span class="sep">|</span>\n              </span>\n              \x3c!-- / --\x3e\n              <cms-report-delete-button type="report" item="vm.content"></cms-report-delete-button>\n            </div>\n\n          </div>\n\n          <div class="body" ng-if="!vm.editMode" ng-bind-html="vm.postProcessHtml(vm.content.body)"></div>\n\n          <div class="body edit-mode" ng-if="vm.editMode">\n            <trix-component placeholder="{{\'Start typing here...\' | translate }}" valid="vm.modified.valid" value="vm.modified.body" char-limit="2500"></trix-component>\n            <md-button class="md-primary md-raised" ng-click="vm.update()" ng-disabled="!vm.modified.valid">\n              <md-icon>done</md-icon>\n              <translate>Save</translate>\n            </md-button>\n            <md-button ng-click="vm.edit()" >\n              <md-icon>undo</md-icon>\n              <translate>Cancel</translate>\n            </md-button>\n          </div>\n        </div>\n        \x3c!-- /end --\x3e\n\n      </div>\n\n      <div class="comment-wrapper" ng-show="vm.content.comments.length > 0">\n        <h3 class="md-title">\n          <translate>Comments ({{vm.content.comments.length}})</translate>\n        </h3>\n\n        <a ng-click="vm.scrollToAddNewComment()" class="goto-comment">\n          <md-icon aria-label="Go to Add comment">comment</md-icon>\n          <translate>Add comment</translate>\n        </a>\n\n        <cms-comment-widget comment="comment" type="vm.content.type" ng-repeat="comment in vm.content.comments"></cms-comment-widget>\n      </div>\n\n      <div class="add-new-comment" id="add-new-comment">\n        <h3 class="md-title">\n          <translate>Add new comment</translate>\n        </h3>\n        <trix-component placeholder="{{\'Start typing here...\' | translate }}" valid="vm.newComment.valid" value="vm.newComment.text" char-limit="2500"></trix-component>\n        <md-button ng-click="vm.addComment()" ng-disabled="!vm.newComment.valid" class="md-primary md-raised add-comment">\n          <translate>Add  comment</translate>\n        </md-button>\n      </div>\n    </div>\n  </md-dialog-content>\n\n  \x3c!-- <md-dialog-actions layout="row">\n  </md-dialog-actions> --\x3e\n</md-dialog>\n'},"./src/Cms/DetailElement/detailElementComponent.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n("./src/Cms/DetailElement/DetailElementController.js"));function o(e){return e&&e.__esModule?e:{default:e}}var i={template:o(n("./src/Cms/DetailElement/DetailElement.html")).default,controller:r.default.factory(),controllerAs:"vm",name:"cmsDetailElement",bindings:{item:"<"}};t.default=i},"./src/Cms/ExperiencesList/ExperiencesList.html":function(e,t){e.exports='<div md-whiteframe="2" class="cms-experience-list" layout="row" layout-align="start stretch">\n  <div class="experiences-list" flex="40">\n    <h3 class="md-title">\n      <translate>Learn from others\' experiences</translate>\n    </h3>\n    <p class="empty-card" ng-show="vm.experiences.length === 0">\n      <translate>No experience has been added yet...</translate>\n    </p>\n    <cms-list-element item="item" ng-repeat="item in vm.experiences | orderBy:\'id\':true | limitTo:2"></cms-list-element>\n    <md-button ui-sref="cms({\'#\': \'experiences\'})" class="md-primary md-raised">\n      <translate>Show more</translate>\n    </md-button>\n  </div>\n\n  <div class="add-experience" flex="60">\n    <h3 class="md-title">\n      <translate>Share your own experience</translate>\n    </h3>\n    <form name="vm.form">\n      <div layout="row">\n\n        <md-input-container>\n          <label>\n            <translate>What is your experience about (title)</translate>\n          </label>\n          <input type="text" ng-model="vm.newExperience.name"  name="name" required md-maxlength="120" />\n          <div ng-messages="vm.form.name.$error">\n            <div ng-message="required">\n              <translate>This is required.</translate>\n            </div>\n            <div ng-message="md-maxlength">\n              <translate>The name has to be less than 120 characters long.</translate>\n            </div>\n          </div>\n        </md-input-container>\n\n      </div>\n    </form>\n    <trix-component placeholder="{{\'Add new experience\' | translate }}" value="vm.newExperience.body" valid="vm.newExperience.valid" char-limit="2500"></trix-component>\n    <md-button class="md-primary md-raised" ng-disabled="vm.disableAddButton(vm.newExperience)" ng-click="vm.saveExperience()">\n      <translate>Add experience</translate>\n    </md-button>\n  </div>\n</div>\n'},"./src/Cms/ExperiencesList/ExperiencesList.scss":function(e,t,n){},"./src/Cms/ExperiencesList/ExperiencesListController.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n("./node_modules/babel-runtime/regenerator/index.js")),o=u(n("./node_modules/babel-runtime/helpers/asyncToGenerator.js")),i=u(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),s=u(n("./node_modules/babel-runtime/helpers/createClass.js")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("./src/store/modules/cms.js"));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,n){(0,i.default)(this,e),this.scope=t,this.$ngRedux=n,this.$onInit=this.onInit.bind(this),this.mapState=this.mapState.bind(this)}return(0,s.default)(e,[{key:"onInit",value:function(){this.watchers(),this.unsubscribe=this.$ngRedux.connect(this.mapState,a)(this)}},{key:"mapState",value:function(e){var t=a.getDomainStructureForCms(e),n=parseInt(this.axisId,10),r=parseInt(this.domainId,10),o=t[n].domains[r],i={body:null,valid:!1,name:null,domain:o.id,type:3};return{data:a.getCmsData(e),domains:t,domain:o,newExperience:i}}},{key:"watchers",value:function(){var e=this;this.scope.$watchCollection(function(){return e.data},function(t){e.experiences=t.filter(function(t){return t.domain===e.domain.id&&3===t.type})})}},{key:"saveExperience",value:function(){var e=(0,o.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveOrUpdateContent(this.newExperience);case 2:this.newExperience.body=!1,this.newExperience.name=null,this.form.$setUntouched(),this.form.$setPristine();case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"disableAddButton",value:function(e){return!e.valid||!e.name||e.name.length>120}}],[{key:"factory",value:function(){function t(t,n){return new e(t,n)}return n("./src/Cms/ExperiencesList/ExperiencesList.scss"),t.$inject=["$scope","$ngRedux"],t}}]),e}();t.default=l},"./src/Cms/ExperiencesList/experiencesListComponent.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n("./src/Cms/ExperiencesList/ExperiencesListController.js"));function o(e){return e&&e.__esModule?e:{default:e}}var i={template:o(n("./src/Cms/ExperiencesList/ExperiencesList.html")).default,controller:r.default.factory(),controllerAs:"vm",name:"cmsExperiencesList",bindings:{domainId:"<",axisId:"<"}};t.default=i},"./src/Cms/ListElement/ListElement.html":function(e,t){e.exports='\n<div ng-if="vm.item.type !== 3" md-whiteframe="2" class="cms-list-element" layout="row"  layout-align="start stretch">\n\n  <div class="cover-img">\n    <span class="no-cover" ng-class="vm.typeClass(vm.item)" ng-hide="vm.item.cover"></span>\n    <img ng-show="vm.item.cover" ng-src="{{vm.item.cover}}" alt="cover">\n  </div>\n  <div class="excerpt">\n    <h3 class="md-title">{{vm.item.name}}</h3>\n    <h6 ng-show="vm.item.type === 1">\n      <translate>Resources</translate>\n    </h6>\n    <h6 ng-show="vm.item.type === 2">\n      <translate>Tips & Considerations</translate>\n    </h6>\n    <div class="body" ng-bind-html="vm.postProcessHtml(vm.item.body)"></div>\n    <div class="metadata" layout="column">\n      <span class="author">\n        <i class="material-icons">account_box</i>\n        <translate>by {{vm.item.author_name}} at {{vm.prettifyDate(vm.item)}}</translate>\n      </span>\n      <span class="axis-domain" ng-class="vm.axisAndDomainClass()">\n        <translate>in {{vm.showAxisAndDomain()}}</translate>\n      </span>\n    </div>\n    <cms-detail-element item="vm.item"></cms-detail-element>\n  </div>\n</div>\n\n\n\x3c!-- EXPERIENCES --\x3e\n<div ng-if="vm.item.type === 3" md-whiteframe="2" class="cms-list-element experience" layout="row" layout-align="start stretch">\n\n  <div class="avatar-img">\n    <span class="no-cover"></span>\n  </div>\n  <div class="excerpt">\n\n    <h3 class="md-title">{{vm.item.name}}</h3>\n    <h6>\n      <translate>Experiences</translate>\n    </h6>\n    <div class="body" ng-bind-html="vm.postProcessHtml(vm.item.body)"></div>\n    <div class="metadata" layout="column">\n      <span class="author">\n        <i class="material-icons">account_box</i>\n        <translate>by {{vm.item.author_name}} at {{vm.prettifyDate(vm.item)}}</translate>\n      </span>\n      <span class="axis-domain" ng-class="vm.axisAndDomainClass()">\n        <translate>in {{vm.showAxisAndDomain()}}</translate>\n      </span>\n    </div>\n    <cms-detail-element item="vm.item"></cms-detail-element>\n  </div>\n\n</div>\n'},"./src/Cms/ListElement/ListElement.scss":function(e,t,n){},"./src/Cms/ListElement/ListElementController.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n("./node_modules/babel-runtime/helpers/extends.js")),o=u(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),i=u(n("./node_modules/babel-runtime/helpers/createClass.js")),s=n("./src/Cms/utilities.js"),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("./src/store/modules/cms.js"));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t){(0,o.default)(this,e),this.$ngRedux=t,this.prettifyDate=s.prettifyDate,this.postProcessHtml=s.postProcessHtml,this.itemType=s.itemType,this.$onInit=this.onInit.bind(this),this.mapState=this.mapState.bind(this)}return(0,i.default)(e,[{key:"mapState",value:function(e){return{axisAndDomainName:a.getAxisAndDomainName(e,this.item.domain)}}},{key:"onInit",value:function(){this.$ngRedux.connect(this.mapState,a)(this)}},{key:"typeClass",value:function(e){return"type-"+e.type}},{key:"showAxisAndDomain",value:function(){var e=this.axisAndDomainName;return e.axisName+" - "+e.domainName}},{key:"axisAndDomainClass",value:function(){var e=(0,r.default)({},this.axisAndDomainName);return e.domainName=(0,s.normalizeName)(e.domainName),e.axisName=(0,s.normalizeName)(e.axisName),"axis-"+e.axisName+" domain-"+e.domainName}}],[{key:"factory",value:function(){function t(t){return new e(t)}return n("./src/Cms/ListElement/ListElement.scss"),t.$inject=["$ngRedux"],t}}]),e}();t.default=l},"./src/Cms/ListElement/listElementComponent.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n("./src/Cms/ListElement/ListElementController.js"));function o(e){return e&&e.__esModule?e:{default:e}}var i={template:o(n("./src/Cms/ListElement/ListElement.html")).default,controller:r.default.factory(),controllerAs:"vm",name:"cmsListElement",bindings:{item:"<"}};t.default=i},"./src/Cms/ReportDeleteButton/ReportDeleteButton.html":function(e,t){e.exports='<div class="button-wrapper" ng-class="vm.status">\n  <md-button class="flag-button" md-no-ink ng-click="vm.open()" ng-if="!vm.isDelete">\n    <md-icon>flag</md-icon>\n    <span class="report-text">\n      <translate>Report</translate>\n    </span>\n  </md-button>\n  <md-button class="flag-button" md-no-ink ng-click="vm.open()" ng-if="vm.isDelete">\n    <md-icon>clear</md-icon>\n    <span class="delete-text">\n      <translate>Delete</translate>\n    </span>\n  </md-button>\n  <div class="warning-zone">\n    <div layout="row">\n      <div class="warning-text" flex>\n        <translate>Are you sure?</translate>\n      </div>\n      <div class="warning-actions" flex>\n        <md-button md-no-ink ng-click="vm.close()">\n          <md-icon>undo</md-icon>\n          <translate>No</translate>\n        </md-button>\n        <md-button md-no-ink ng-click="vm.doAction()">\n          <md-icon>check</md-icon>\n          <translate>Yes</translate>\n        </md-button>\n      </div>\n    </div>\n  </div>\n</div>\n'},"./src/Cms/ReportDeleteButton/ReportDeleteButton.scss":function(e,t,n){},"./src/Cms/ReportDeleteButton/ReportDeleteButtonController.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),o=s(n("./node_modules/babel-runtime/helpers/createClass.js")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("./src/store/modules/cms.js"));function s(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t){(0,r.default)(this,e),this.$onInit=this.onInit.bind(this),this.unsubscribe=t.connect(function(){return{}},i)(this)}return(0,o.default)(e,[{key:"onInit",value:function(){this.isDelete=this.type&&"delete"===this.type,this.status=2!==this.item.state||this.isDelete?"close":"reported"}},{key:"open",value:function(){this.status="active"}},{key:"close",value:function(){this.status="close"}},{key:"doReport",value:function(){this.item.user?this.reportComment(this.item):this.reportContent(this.item),this.status="reported"}},{key:"doDelete",value:function(){this.item.user?this.deleteComment(this.item):this.deleteContent(this.item)}},{key:"doAction",value:function(){this.isDelete?this.doDelete():this.doReport()}}],[{key:"factory",value:function(){function t(t){return new e(t)}return n("./src/Cms/ReportDeleteButton/ReportDeleteButton.scss"),t.$inject=["$ngRedux"],t}}]),e}();t.default=a},"./src/Cms/ReportDeleteButton/reportDeleteButtonComponent.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n("./src/Cms/ReportDeleteButton/ReportDeleteButtonController.js"));function o(e){return e&&e.__esModule?e:{default:e}}var i={template:o(n("./src/Cms/ReportDeleteButton/ReportDeleteButton.html")).default,controller:r.default.factory(),controllerAs:"vm",name:"cmsReportDeleteButton",bindings:{item:"<",type:"@?"}};t.default=i},"./src/Cms/StaticInfoWidget/StaticInfoWidget.html":function(e,t){e.exports='<div md-whiteframe="2" class="cms-static-info-wrapper" layout="row" layout-align="start stretch">\n  <div flex="40">\n    <h3 class="md-title">\n      <translate>Planning and Guidance</translate>\n    </h3>\n    <p>\n      <translate>\n      This section can assist in planning next steps by…\n      </translate>\n    </p>\n    <md-button class="md-primary md-raised" ui-sref="cms">\n      <translate>\n      Show more\n      </translate>\n    </md-button>\n  </div>\n  <div flex="60">\n    <ul>\n      <li>\n        <translate>\n        Presenting frameworks to articulate a project\'s endgame strategy and establish links between mHealth strategies and health system constraints\n        </translate>\n      </li>\n      <li>\n        <translate>\n        Consolidating various repositories and resources that may inform landscape mapping of mHealth deployments\n        </translate>\n      </li>\n      <li>\n        <translate>\n        Offering resources for planning and designing an mHealth project, including ways to assess the contextual environment, to ensure the project has a solid foundation\n        </translate>\n      </li>\n    </ul>\n  </div>\n</div>\n'},"./src/Cms/StaticInfoWidget/StaticInfoWidget.scss":function(e,t,n){},"./src/Cms/StaticInfoWidget/StaticInfoWidgetController.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),o=i(n("./node_modules/babel-runtime/helpers/createClass.js"));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,null,[{key:"factory",value:function(){function t(){return new e}return n("./src/Cms/StaticInfoWidget/StaticInfoWidget.scss"),t.$inject=[],t}}]),e}();t.default=s},"./src/Cms/StaticInfoWidget/staticInfoWidgetComponent.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n("./src/Cms/StaticInfoWidget/StaticInfoWidgetController.js"));function o(e){return e&&e.__esModule?e:{default:e}}var i={template:o(n("./src/Cms/StaticInfoWidget/StaticInfoWidget.html")).default,controller:r.default.factory(),controllerAs:"vm",name:"cmsStaticInfoWidget",bindings:{}};t.default=i},"./src/Cms/cmsModule.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n("./node_modules/angular/index.js")),o=g(n("./node_modules/angular-ui-router/lib/index.js")),i=n("./src/Utilities.js"),s=v(n("./src/store/modules/system.js")),a=v(n("./src/store/modules/cms.js")),u=g(n("./src/Cms/AddNewContent/addNewContentComponent.js")),l=g(n("./src/Cms/CommentWidget/commentWidgetComponent.js")),c=g(n("./src/Cms/DashboardWidget/dashboardWidgetComponent.js")),d=g(n("./src/Cms/DetailElement/detailElementComponent.js")),m=g(n("./src/Cms/ExperiencesList/experiencesListComponent.js")),f=g(n("./src/Cms/ListElement/listElementComponent.js")),p=g(n("./src/Cms/StaticInfoWidget/staticInfoWidgetComponent.js")),h=g(n("./src/Cms/ReportDeleteButton/reportDeleteButtonComponent.js"));function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}var _="cms",y=new i.StaticUtilities("Cms");function j(e,t){e.state(_,{url:"/cms",parent:"base",views:{main:{template:"<planning-and-guidance></planning-and-guidance>"}},resolve:{main:function(){return y.lazyLoader(t,"PlanningAndGuidance/planningAndGuidanceComponent")},system:["$ngRedux",function(e){return e.dispatch(s.loadUserProfiles())}],cms:["$ngRedux",function(e){return e.dispatch(a.loadCmsData())}]},profileRequired:!0})}j.$inject=["$stateProvider","$compileProvider"],r.default.module(_,[o.default]).component(u.default.name,u.default).component(l.default.name,l.default).component(c.default.name,c.default).component(d.default.name,d.default).component(m.default.name,m.default).component(f.default.name,f.default).component(h.default.name,h.default).component(p.default.name,p.default).config(j),t.default=_},"./src/Cms/utilities.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postProcessHtml=t.normalizeName=t.levenshtein=t.itemType=t.prettifyDate=void 0;var r,o=n("./node_modules/moment/moment.js"),i=(r=o)&&r.__esModule?r:{default:r};t.prettifyDate=function(e){var t=e.created;return(0,i.default)(t).format("D MMM, YYYY")},t.itemType=function(e){if(e)return["Resources","Tips & Considerations","Experiences"][e.type-1];return""},t.levenshtein=function(e,t){if(0===e.length)return t.length;if(0===t.length)return e.length;var n=void 0,r=void 0,o=void 0,i=void 0,s=void 0;e.length>t.length&&(n=e,e=t,t=n);var a=Array(e.length+1);for(r=0;r<=e.length;r++)a[r]=r;for(r=1;r<=t.length;r++){for(i=r,o=1;o<=e.length;o++)s=t[r-1]===e[o-1]?a[o-1]:Math.min(a[o-1]+1,Math.min(i+1,a[o]+1)),a[o-1]=i,i=s;a[e.length]=i}return a[e.length]},t.normalizeName=function(e){return e.toLowerCase().replace("&","and").replace(/ /g,"-")},t.postProcessHtml=function(e){return e.replace(/<a(.+?<\/a>)/g,function(e,t){return'<a target="_blank"'+t.trim()})}},"./src/Storage.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n("./node_modules/babel-runtime/core-js/json/stringify.js")),o=s(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),i=s(n("./node_modules/babel-runtime/helpers/createClass.js"));function s(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(){(0,o.default)(this,e),this.storage=window.localStorage}return(0,i.default)(e,[{key:"set",value:function(e,t){if("string"!=typeof e)throw new TypeError("this.storage key should be a string!");var n="string"==typeof t?t:(0,r.default)(t);this.storage.setItem(e,n)}},{key:"get",value:function(e){try{return JSON.parse(this.storage.getItem(e))}catch(t){return this.storage.getItem(e)}}},{key:"remove",value:function(e){this.storage.removeItem(e)}},{key:"clear",value:function(){this.storage.clear()}},{key:"check",value:function(){console.log("this.storage contains:\n");var e={};for(var t in this.storage)console.log(t+": "+this.storage.getItem(t)),e[t]=this.storage.getItem(t);return e}}]),e}();t.default=a},"./src/plugins/axios.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n("./node_modules/babel-runtime/core-js/promise.js"));function o(e){return e&&e.__esModule?e:{default:e}}var i=o(n("./node_modules/axios/index.js")).default.create();i.setAuthToken=function(e){i.defaults.headers.common.Authorization="Token "+e},i.unSetAuthToken=function(){i.defaults.headers.common.Authorization=null},i.setLanguageHeader=function(e){i.defaults.headers.common["Accept-Language"]=e},i.setShowPopUp=function(e){i.popUpFunction=e},i.setHandleAuthProblem=function(e){i.authProblemFunction=e},i.interceptors.request.use(function(e){return e},function(e){return console.error(e),i.popUpFunction(),r.default.reject(e)}),i.interceptors.response.use(function(e){return e},function(e){return e&&e.response&&(401===e.response.status||403===e.response.status?i.authProblemFunction():i.popUpFunction()),r.default.reject(e)}),t.default=i},"./src/plugins/language.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentLanguage=t.setLanguage=t.getLanguage=t.configureDates=t.setDateLocaleProvider=t.setScope=t.setCatalog=t.config=void 0;var r=a(n("./node_modules/babel-runtime/regenerator/index.js")),o=a(n("./node_modules/babel-runtime/helpers/asyncToGenerator.js")),i=a(n("./src/plugins/axios.js")),s=a(n("./node_modules/moment/moment.js"));function a(e){return e&&e.__esModule?e:{default:e}}n("./node_modules/moment/locale/fr.js"),n("./node_modules/moment/locale/pt.js"),n("./node_modules/moment/locale/es.js");var u,l,c=window.navigator,d=c.languages&&c.languages[0]||c.language||c.userLanguage,m=t.config={gettextCatalog:{},language:d,scope:{},mdDateLocaleProvider:{}};t.setCatalog=function(e){m.gettextCatalog=e},t.setScope=function(e){m.scope=e},t.setDateLocaleProvider=function(e){m.mdDateLocaleProvider=e},t.configureDates=(u=(0,o.default)(r.default.mark(function e(t){var n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s.default.locale(t),n=(0,s.default)(),m.mdDateLocaleProvider.months=n.localeData().months(),m.mdDateLocaleProvider.shortMonths=n.localeData().monthsShort(),m.mdDateLocaleProvider.days=n.localeData().weekdays(),m.mdDateLocaleProvider.shortDays=n.localeData().weekdaysShort(),window.moment=n;case 7:case"end":return e.stop()}},e,void 0)})),function(e){return u.apply(this,arguments)}),t.getLanguage=(l=(0,o.default)(r.default.mark(function e(){var n,o;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.default.setLanguageHeader(m.language),e.next=3,i.default.get("/translation/json/");case 3:n=e.sent,o=n.data,m.gettextCatalog.setCurrentLanguage(m.language),m.gettextCatalog.setStrings(m.language,o.catalog),t.configureDates(m.language),m.scope.$digest();case 9:case"end":return e.stop()}},e,void 0)})),function(){return l.apply(this,arguments)}),t.setLanguage=function(e){return m.language=e,t.getLanguage()},t.getCurrentLanguage=function(){return m.language}},"./src/store/modules/cms.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAxisAndDomainName=t.getDomain=t.getAxisName=t.getDomainStructureForCms=t.getCmsData=void 0;var r=m(n("./node_modules/babel-runtime/regenerator/index.js")),o=m(n("./node_modules/babel-runtime/helpers/asyncToGenerator.js")),i=m(n("./node_modules/babel-runtime/helpers/extends.js")),s=m(n("./node_modules/babel-runtime/helpers/toConsumableArray.js"));t.loadCmsData=function(){var e=this;return t=(0,o.default)(r.default.mark(function t(n){var o,i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.default.get("/api/cms/");case 2:o=e.sent,i=(i=o.data).map(function(e){return e.searchOccurrences=0,e}),n({type:"SET_CMS_DATA",data:i});case 6:case"end":return e.stop()}},t,e)})),function(e){return t.apply(this,arguments)};var t},t.addContent=function(e){var t=this;return n=(0,o.default)(r.default.mark(function n(o){var i,s;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.default.post("/api/cms/",e);case 2:i=t.sent,(s=i.data).searchOccurrences=0,o({type:"ADD_CMS_ENTRY",item:s});case 6:case"end":return t.stop()}},n,t)})),function(e){return n.apply(this,arguments)};var n},t.updateContent=function(e,t){var n=this;return i=(0,o.default)(r.default.mark(function o(i){var s,u;return r.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.default.put("/api/cms/"+t+"/",e);case 2:s=n.sent,(u=s.data).searchOccurrences=0,i({type:"UPDATE_CMS_ENTRY",item:u});case 6:case"end":return n.stop()}},o,n)})),function(e){return i.apply(this,arguments)};var i},t.saveOrUpdateContent=function(e){return function(n,r){var o=r();e=(0,i.default)({},e);var s=c.getProfile(o);e.author=s.id;var a=e.id||!1;if(e.cover&&-1===e.cover.type.indexOf("image")&&delete e.cover,e.cover){var u=new FormData;for(var l in e)u.append(l,e[l]);e=u}n(a?t.updateContent(e,a):t.addContent(e))}},t.deleteContent=function(e){var t=this,n=e.id;return i=(0,o.default)(r.default.mark(function e(o){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.default.delete("/api/cms/"+n+"/");case 2:o({type:"DELETE_CMS_ENTRY",id:n});case 3:case"end":return e.stop()}},e,t)})),function(e){return i.apply(this,arguments)};var i},t.reportContent=function(e){var t=this;return n=(0,o.default)(r.default.mark(function n(o){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.default.patch("/api/cms/"+e.id+"/");case 2:e.state=2,o({type:"UPDATE_CMS_ENTRY",item:e});case 4:case"end":return t.stop()}},n,t)})),function(e){return n.apply(this,arguments)};var n},t.reportComment=function(e){var t=this;return n=(0,o.default)(r.default.mark(function n(o){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.default.patch("/api/comment/"+e.id+"/");case 2:e.state=2,o({type:"UPDATE_COMMENT",comment:e});case 4:case"end":return t.stop()}},n,t)})),function(e){return n.apply(this,arguments)};var n},t.deleteComment=function(e){var t=this;return n=(0,o.default)(r.default.mark(function n(o){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.default.delete("/api/comment/"+e.id+"/");case 2:o({type:"DELETE_COMMENT",comment:e});case 3:case"end":return t.stop()}},n,t)})),function(e){return n.apply(this,arguments)};var n},t.addNewComment=function(e,t){var n=this,i=t.id;return s=(0,o.default)(r.default.mark(function t(o,s){var u,l;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.post=i,e.user=s().user.profile.id,t.next=4,a.default.post("/api/comment/",e);case 4:u=t.sent,l=u.data,o({type:"ADD_COMMENT",comment:l});case 7:case"end":return t.stop()}},t,n)})),function(e,t){return s.apply(this,arguments)};var s},t.updateComment=function(e){var t=this;return n=(0,o.default)(r.default.mark(function n(o){var i,s;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.default.put("/api/comment/"+e.id+"/",e);case 2:i=t.sent,s=i.data,o({type:"UPDATE_COMMENT",comment:s});case 5:case"end":return t.stop()}},n,t)})),function(e){return n.apply(this,arguments)};var n},t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments[1];switch(t.type){case"SET_CMS_DATA":return(0,i.default)({},e,{data:t.data});case"ADD_CMS_ENTRY":return(0,i.default)({},e,{data:[].concat((0,s.default)(e.data),[t.item])});case"UPDATE_CMS_ENTRY":var n=[].concat((0,s.default)(e.data)),r=(0,u.default)(n,function(e){return e.id===t.item.id});return n.splice(r,1,t.item),(0,i.default)({},e,{data:n});case"DELETE_CMS_ENTRY":var o=[].concat((0,s.default)(e.data)),a=(0,u.default)(o,function(e){return e.id===t.id});return o.splice(a,1),(0,i.default)({},e,{data:o});case"ADD_COMMENT":var l=[].concat((0,s.default)(e.data)),c=(0,u.default)(l,function(e){return e.id===t.comment.post}),d=l[c];return d.comments.push(t.comment),l.splice(c,1,d),(0,i.default)({},e,{data:l});case"UPDATE_COMMENT":var m=[].concat((0,s.default)(e.data)),p=(0,u.default)(m,function(e){return e.id===t.comment.post}),h=m[p],v=(0,u.default)(h.comments,function(e){return e.id===t.comment.id});return h.comments.splice(v,1,t.comment),m.splice(p,1,h),(0,i.default)({},e,{data:m});case"DELETE_COMMENT":var g=[].concat((0,s.default)(e.data)),_=(0,u.default)(g,function(e){return e.id===t.comment.post}),y=g[_],j=(0,u.default)(y.comments,function(e){return e.id===t.comment.id});return y.comments.splice(j,1),g.splice(_,1,y),(0,i.default)({},e,{data:g});case"CLEAR_CMS_DATA":return(0,i.default)({},f);default:return e}};var a=m(n("./src/plugins/axios.js")),u=m(n("./node_modules/lodash/findIndex.js")),l=d(n("./src/store/modules/system.js")),c=d(n("./src/store/modules/user.js"));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var f={data:[]};t.getCmsData=function(e){return[].concat((0,s.default)(e.cms.data))},t.getDomainStructureForCms=function(e){var t=l.getAxis(e),n=l.getDomains(e);return t.map(function(e){return(0,i.default)({},e,{domains:n.filter(function(t){return t.axis===e.id})})})},t.getAxisName=function(e,t){return l.getAxis(e)[t].name},t.getDomain=function(e,t){return l.getDomains(e).find(function(e){return e.id===t})},t.getAxisAndDomainName=function(e,n){var r=t.getDomain(e,n);return{axisName:t.getDomainStructureForCms(e).find(function(e){return e.domains.some(function(e){return e.id===r.id})}).name,domainName:r.name}}},"./src/store/modules/countries.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.csvExport=t.getCurrentCountryProjects=t.getCurrentCountryDistrictProjects=t.getCurrentCountryMapData=t.getCurrentCountryFacilityList=t.getCurrentCountrySecondSubLevel=t.getCurrentCountryFirstSubLevel=t.getCurrentCountrySubLevelNames=t.getCountriesLib=t.getCountryCoverPicture=t.getCountryCoverPage=t.getCurrentCountry=t.getCountryFields=t.getCountriesList=t.getCountry=t.mapData=void 0;var r,o=v(n("./node_modules/babel-runtime/core-js/promise.js")),i=v(n("./node_modules/babel-runtime/core-js/object/freeze.js")),s=v(n("./node_modules/babel-runtime/regenerator/index.js")),a=v(n("./node_modules/babel-runtime/helpers/asyncToGenerator.js")),u=v(n("./node_modules/babel-runtime/helpers/extends.js"));t.csvExport=(r=(0,a.default)(s.default.mark(function e(t){var n,r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.default.post("/api/projects/csv-export/",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)});t.loadCountries=function(){var e=this;return t=(0,a.default)(s.default.mark(function t(n,r){var o,i;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==r().countries.list.length){e.next=8;break}return e.next=4,l.default.get("/api/countries/");case 4:o=e.sent,(i=o.data).sort(function(e,t){return e.name.localeCompare(t.name)}),n({type:"SET_COUNTRIES_LIST",countries:i});case 8:case"end":return e.stop()}},t,e)})),function(e,n){return t.apply(this,arguments)};var t},t.loadCountryFields=function(e){var t=this;return n=(0,a.default)(s.default.mark(function n(r,o){var i,a,u;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((i=o().countries.countryFields.filter(function(t){return t.country===e}))&&0!==i.length){t.next=8;break}return t.next=4,l.default.get("/api/country-fields/"+e+"/");case 4:a=t.sent,(u=a.data).sort(function(e,t){return e.id-t.id}),r({type:"UPDATE_COUNTRY_FIELDS_LIST",fields:u});case 8:case"end":return t.stop()}},n,t)})),function(e,t){return n.apply(this,arguments)};var n},t.loadCountryMapData=function(){var e=this;return n=(0,a.default)(s.default.mark(function n(r,o){var a,u,c,d;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o(),!(u=t.getCurrentCountry(a))||!u.code){e.next=10;break}if(_[u.code]){e.next=10;break}return e.next=7,l.default.get("/static/country-geodata/"+u.code+".json");case 7:c=e.sent,d=c.data,_[u.code]=(0,i.default)(d);case 10:case"end":return e.stop()}},n,e)})),function(e,t){return n.apply(this,arguments)};var n},t.loadCountryLandingPageInfo=function(){var e=this;return n=(0,a.default)(s.default.mark(function n(r,o){var i,a,u;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=t.getCurrentCountry(o()))||!i.code){e.next=7;break}return e.next=4,l.default.get("/api/landing/"+i.code.toUpperCase()+"/");case 4:a=e.sent,u=a.data,r({type:"SET_COUNTRY_COVER_DATA",cover:u});case 7:case"end":return e.stop()}},n,e)})),function(e,t){return n.apply(this,arguments)};var n},t.loadCurrentCountryDistrictsProject=function(){var e=this;return n=(0,a.default)(s.default.mark(function n(r,o){var i,a,u;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=t.getCurrentCountry(o()))||!i.id){e.next=7;break}return e.next=4,l.default.get("/api/projects/by-view/map/"+i.id+"/");case 4:a=e.sent,u=a.data,r({type:"SET_CURRENT_COUNTRY_DISTRICT_PROJECTS",projects:u});case 7:case"end":return e.stop()}},n,e)})),function(e,t){return n.apply(this,arguments)};var n},t.loadCountryProjectsOrAll=function(e){var t=this;return n=(0,a.default)(s.default.mark(function n(r){var o,i,a;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=["/api/projects/by-view/list/"],e&&o.push(e+"/"),t.next=4,l.default.get(o.join(""));case 4:i=t.sent,a=i.data,r({type:"SET_CURRENT_COUNTRY_PROJECTS",projects:a});case 7:case"end":return t.stop()}},n,t)})),function(e){return n.apply(this,arguments)};var n},t.loadCurrentCountryProjects=function(){var e=this;return n=(0,a.default)(s.default.mark(function n(r,o){var i;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(i=t.getCurrentCountry(o()))&&r(t.loadCountryProjectsOrAll(i.id));case 2:case"end":return e.stop()}},n,e)})),function(e,t){return n.apply(this,arguments)};var n},t.setCurrentCountry=function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return i=(0,a.default)(s.default.mark(function i(a,u){var l,c;return s.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(l=u().countries.currentCountry,!e||e===l){n.next=9;break}return a({type:"SET_CURRENT_COUNTRY",country:e}),(c={}).countryFields=a(t.loadCountryFields(e)),c.mapData=a(t.loadCountryMapData()),c.landingPage=a(t.loadCountryLandingPageInfo()),c.districts=a(t.loadCurrentCountryDistrictsProject()),n.abrupt("return",o.default.all(r.map(function(e){return c[e]})));case 9:return n.abrupt("return",o.default.resolve());case 10:case"end":return n.stop()}},i,n)})),function(e,t){return i.apply(this,arguments)};var i},t.setCurrentCountryFromCode=function(e){var n=this;return r=(0,a.default)(s.default.mark(function r(o,i){var a;return s.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:(a=i().countries.list.find(function(t){return t.code.toLocaleLowerCase()===e.toLocaleLowerCase()}))&&a.id?o(t.setCurrentCountry(a.id,["landingPage"])):o({type:"UNSET_CURRENT_COUNTRY"});case 2:case"end":return n.stop()}},r,n)})),function(e,t){return r.apply(this,arguments)};var r},t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments[1];switch(t.type){case"SET_COUNTRIES_LIST":return(0,u.default)({},e,{list:t.countries});case"SET_CURRENT_COUNTRY":return(0,u.default)({},e,{currentCountry:t.country});case"UNSET_CURRENT_COUNTRY":return(0,u.default)({},e,{currentCountry:null,currentCountryCoverPage:{}});case"SET_COUNTRY_COVER_DATA":return(0,u.default)({},e,{currentCountryCoverPage:t.cover});case"UPDATE_COUNTRY_FIELDS_LIST":return(0,u.default)({},e,{countryFields:(0,c.default)(t.fields,e.countryFields,"id")});case"SET_CURRENT_COUNTRY_PROJECTS":return(0,u.default)({},e,{currentCountryProjects:t.projects});case"SET_CURRENT_COUNTRY_DISTRICT_PROJECTS":return(0,u.default)({},e,{currentCountryDistrictsProjects:t.projects});default:return e}};var l=v(n("./src/plugins/axios.js")),c=v(n("./node_modules/lodash/unionBy.js")),d=v(n("./node_modules/lodash/forEach.js")),m=n("./node_modules/reselect/lib/index.js"),f=n("./src/store/modules/projects.js"),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("./src/store/modules/system.js")),h=n("./src/plugins/language.js");function v(e){return e&&e.__esModule?e:{default:e}}var g={list:[],countryFields:[],currentCountryDistricts:[],currentCountry:null,currentCountryCoverPage:{},currentCountryProjects:[],currentCountryDistrictsProjects:[]},_=t.mapData={},y=(t.getCountry=function(e,t){return e.countries.list.find(function(e){return e.id===t})},t.getCountriesList=(0,m.createSelector)(function(e){return e.countries.list},function(e){return e?e.map(function(e){var t=e.code.toLocaleLowerCase();return(0,u.default)({},e,{code:t,flag:"/static/flags/"+t+".png",prettyName:e.name.split("-").join(" ")})}):[]}));t.getCountryFields=function(e){return e.countries.countryFields.filter(function(t){return t.country===e.countries.currentCountry}).map(function(e){return(0,u.default)({},e)})},t.getCurrentCountry=function(e){return(0,u.default)({},y(e).find(function(t){return t.id===e.countries.currentCountry}))},t.getCountryCoverPage=function(e){var t=(0,u.default)({},e.countries.currentCountryCoverPage),n=p.getLandingPageDefaults(e);return(0,d.default)(n,function(e,n){var r=t[n];null!==r&&void 0!==r&&""!==r||(t[n]=e)}),t.partners=t.default_partners.concat(t.partner_logos),t},t.getCountryCoverPicture=function(e){var n=t.getCountryCoverPage(e);return n.cover?{background:"url("+n.cover+") 0 0","background-size":"cover","background-repeat":"no-repeat"}:null},t.getCountriesLib=function(e){var t={};return e.countries.list&&e.countries.list.forEach(function(e){t[e.id]=e.name}),t},t.getCurrentCountrySubLevelNames=function(e){var n=t.getCurrentCountry(e),r=p.getSubLevelTypes(e);try{var o=r.find(function(e){return e.name===n.map_data.first_sub_level.name}),i=r.find(function(e){return e.name===n.map_data.second_sub_level.name});return[o=o?o.displayName:n.map_data.first_sub_level.name,i=i?i.displayName:n.map_data.second_sub_level.name]}catch(e){return["",""]}},t.getCurrentCountryFirstSubLevel=function(e){var n=(0,h.getCurrentLanguage)(),r=t.getCurrentCountry(e);return r&&r.map_data&&r.map_data.first_sub_level?r.map_data.first_sub_level.elements.map(function(e){return{id:e.name,name:e["name:"+n]||e["name:en"]||e.name}}):[]},t.getCurrentCountrySecondSubLevel=function(e){var n=(0,h.getCurrentLanguage)(),r=t.getCurrentCountry(e);return r&&r.map_data&&r.map_data.second_sub_level?r.map_data.second_sub_level.elements.map(function(e){return{id:e.name,name:e["name:"+n]||e["name:en"]||e.name}}):[]},t.getCurrentCountryFacilityList=function(e){var n=t.getCurrentCountry(e);return n&&n.map_data&&n.map_data.facilities?n.map_data.facilities:[]},t.getCurrentCountryMapData=function(e){var n=t.getCurrentCountry(e);return n.mapData=_[n.code],n.districts=t.getCurrentCountryFirstSubLevel(e),n},t.getCurrentCountryDistrictProjects=function(e){var t={},n=e.countries.currentCountryDistrictsProjects;for(var r in n)t[r]=n[r].map(function(t){return t=(0,u.default)({},t,(0,f.isMemberOrViewer)(e,t))});return t},t.getCurrentCountryProjects=function(e){return e.countries.currentCountryProjects.map(function(t){return t=(0,u.default)({},t,(0,f.isMemberOrViewer)(e,t))})}},"./src/store/modules/projects.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.searchProjects=t.postProjectSaveActions=t.saveCountryFields=t.saveTeamViewers=t.checkCurrentProjectValidity=t.getSimilarProject=t.getCoverageData=t.getMapsDomainData=t.getMapsAxisData=t.getCurrentVersionDate=t.getCurrentVersion=t.getCoverageVersion=t.getToolkitVersion=t.getViewers=t.getTeam=t.getNewProjectForEditing=t.getCurrentDraftProjectForEditing=t.getCurrentEdits=t.getCurrentPublishedProjectForEditing=t.getCurrentProjectForEditing=t.getProjectCountryFields=t.getStoredCountryFields=t.getCurrentDraftInViewMode=t.getCurrentDraft=t.getCurrentPublished=t.parseProjectForViewMode=t.convertCountryFieldsAnswer=t.getCurrentPublicProjectDetails=t.getCurrentPublicProject=t.getCurrentProject=t.getCurrentProjectIfExist=t.getVanillaProject=t.getEmptyProject=t.getUserDefaultProject=t.getUserProjects=t.getProjectStructure=t.getFlatProjectStructure=t.getDraftedProjects=t.getPublishedProjects=t.getSavedProjectList=t.getCurrentProjectId=t.isMemberOrViewer=void 0;var r,o,i,s,a=R(n("./node_modules/babel-runtime/core-js/object/keys.js")),u=R(n("./node_modules/babel-runtime/core-js/json/stringify.js")),l=R(n("./node_modules/babel-runtime/helpers/slicedToArray.js")),c=R(n("./node_modules/babel-runtime/regenerator/index.js")),d=R(n("./node_modules/babel-runtime/core-js/promise.js")),m=R(n("./node_modules/babel-runtime/helpers/asyncToGenerator.js")),f=R(n("./node_modules/babel-runtime/core-js/object/assign.js")),p=R(n("./node_modules/babel-runtime/helpers/typeof.js")),h=R(n("./node_modules/babel-runtime/helpers/toConsumableArray.js")),v=R(n("./node_modules/babel-runtime/helpers/extends.js"));t.saveTeamViewers=(r=(0,m.default)(c.default.mark(function e(t){var n,r=t.id,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={team:o.map(function(e){return e.id}),viewers:i.map(function(e){return e.id})},e.next=3,g.default.put("/api/projects/"+r+"/groups/",n);case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)}),t.saveCountryFields=(o=(0,m.default)(c.default.mark(function e(){var t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments[1],i=arguments[2],s=arguments[3];return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=r.map(function(e){var t=e.country,n=e.question,r=e.type;return{country:t,answer:e.answer,type:r,question:n,project:i}}),s="published"===s?"publish":"draft",e.prev=2,e.next=5,g.default.post("/api/country-fields/"+o+"/"+i+"/"+s+"/",{fields:r});case 5:return t=e.sent,n=t.data,e.abrupt("return",n.fields);case 10:return e.prev=10,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",!1);case 14:case"end":return e.stop()}},e,this,[[2,10]])})),function(){return o.apply(this,arguments)}),t.postProjectSaveActions=(i=(0,m.default)(c.default.mark(function e(n,r,o,i,s,a){var u,m,f,p,h,v,g,_,y,j,b;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=C.getProfile(s).id,m=t.getStoredCountryFields(s)(!0),f=t.saveCountryFields(m,n.draft.country,n.id,a),p=t.saveTeamViewers(n,r,o),e.next=6,d.default.all([p,f]);case 6:if(h=e.sent,v=(0,l.default)(h,2),g=v[0],_=v[1],y=g.team.some(function(e){return e===u})?[n.id]:[],j=g.viewers.some(function(e){return e===u})?[n.id]:[],!1!==_){e.next=16;break}return(b=new Error).response={custom:!0,message:"Failed to save country fields"},e.abrupt("return",d.default.reject(b));case 16:return"published"===a&&(n.published.fields=_),n.draft.fields=_,i({type:"UPDATE_SAVE_PROJECT",project:n}),i({type:"SET_PROJECT_TEAM_VIEWERS",teamViewers:g}),i(C.updateTeamViewers(y,j)),i(w.loadCurrentCountryProjects()),i(w.loadCurrentCountryDistrictsProject()),e.abrupt("return",d.default.resolve(n));case 24:case"end":return e.stop()}},e,this)})),function(e,t,n,r,o,s){return i.apply(this,arguments)}),t.searchProjects=(s=(0,m.default)(c.default.mark(function e(t){var n,r,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.default.post("/api/search/projects/",{health_topic:o,location:i,organisation:s,project_name:a,query:t,technology_platform:u});case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)});t.loadUserProjects=function(){var e=this;return n=(0,m.default)(c.default.mark(function n(r,o){var i,s,a;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(i=o()).user.profile||t.getSavedProjectList(i)){e.next=9;break}return e.next=5,g.default.get("/api/projects/member-of/");case 5:s=e.sent,(a=s.data).sort(function(e,t){return t.id-e.id}),r({type:"SET_PROJECT_LIST",projects:a});case 9:return e.abrupt("return",d.default.resolve());case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",d.default.reject(e.t0));case 16:case"end":return e.stop()}},n,e,[[0,12]])})),function(e,t){return n.apply(this,arguments)};var n},t.loadProjectDetails=function(){var e=this;return t=(0,m.default)(c.default.mark(function t(n,r){var o,i,s,a,u,m,f,p,h;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(o=r().projects.currentProject)||-1===o){e.next=15;break}return i=g.default.get("/api/projects/"+o+"/toolkit/versions/"),s=g.default.get("/api/projects/"+o+"/coverage/versions/"),a=g.default.get("/api/projects/"+o+"/groups/"),e.next=8,d.default.all([i,s,a]);case 8:u=e.sent,m=(0,l.default)(u,3),f=m[0],p=m[1],h=m[2],n({type:"SET_PROJECT_INFO",info:{toolkitVersions:f.data,coverageVersions:p.data}}),n({type:"SET_PROJECT_TEAM_VIEWERS",teamViewers:h.data});case 15:return e.abrupt("return",d.default.resolve());case 18:return e.prev=18,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",d.default.reject(e.t0));case 22:case"end":return e.stop()}},t,e,[[0,18]])})),function(e,n){return t.apply(this,arguments)};var t},t.setCurrentProject=function(e){var n=this;return r=(0,m.default)(c.default.mark(function r(o,i){var s,a,u,l,m,f,p,h;return c.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e=parseInt(e,10))||-1===e||e===i().projects.currentProject){n.next=22;break}if(o({type:"SET_CURRENT_PROJECT",id:e}),!(s=t.getCurrentProjectIfExist(i()))){n.next=9;break}return a=o(w.setCurrentCountry(s.country,["mapData"])),u=o(t.loadProjectDetails()),l=o(S.loadToolkitData()),n.abrupt("return",d.default.all([a,u,l]));case 9:return n.next=11,g.default.get("/api/projects/"+e+"/");case 11:if(m=n.sent,f=m.data,!C.getProfile(i())){n.next=19;break}return n.next=17,g.default.get("/api/projects/"+e+"/groups/");case 17:p=n.sent,o({type:"SET_PROJECT_TEAM_VIEWERS",teamViewers:p.data});case 19:o({type:"SET_CURRENT_PUBLIC_PROJECT_DETAIL",project:f}),n.next=23;break;case 22:-1===e&&(o({type:"SET_CURRENT_PROJECT",id:e}),h={id:-1,draft:{fields:[]},public:{}},o({type:"SET_PROJECT_TEAM_VIEWERS",teamViewers:{team:[],viewers:[]}}),o({type:"UPDATE_SAVE_PROJECT",project:h}));case 23:return n.abrupt("return",d.default.resolve());case 24:case"end":return n.stop()}},r,n)})),function(e,t){return r.apply(this,arguments)};var r},t.snapShotProject=function(){var e=this;return n=(0,m.default)(c.default.mark(function n(r,o){var i;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=o().projects.currentProject,e.next=3,g.default.post("/api/projects/"+i+"/version/");case 3:return e.next=5,r(t.loadProjectDetails());case 5:case"end":return e.stop()}},n,e)})),function(e,t){return n.apply(this,arguments)};var n},t.loadProjectStructure=function(e){var n=this;return r=(0,m.default)(c.default.mark(function r(o,i){var s,a,u,l;return c.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(s=i(),a=t.getProjectStructure(s),!(0,y.default)(a)&&!e){n.next=9;break}return n.next=5,g.default.get("/api/projects/structure/");case 5:return u=n.sent,l=u.data,n.next=9,o({type:"SET_PROJECT_STRUCTURE",structure:l});case 9:case"end":return n.stop()}},r,n)})),function(e,t){return r.apply(this,arguments)};var r},t.processForm=function(e){var t=e.organisation?e.organisation.name:"",n=e.organisation?e.organisation.id:null;return e=(0,v.default)({},e,(0,P.retainNationalOrDistrictCoverage)(e)),e=(0,v.default)({},e,{organisation_name:t,organisation:n},(0,P.createDateFields)(e),(0,P.convertObjectArrayToStringArray)(e),(0,P.parseOutInteroperabilityLinks)(e),{coverageType:void 0,platforms:(0,P.parsePlatformCollection)(e)},(0,P.extractIdFromObjects)(e),(0,P.handleNationalLevelCoverage)(e),{coverage:(0,P.handleCoverage)(e.coverage),coverage_second_level:(0,P.handleCoverage)(e.coverage_second_level)}),e=(0,v.default)({},e,(0,P.retainOnlyIds)(e)),e=(0,v.default)({},e,(0,P.removeEmptyChildObjects)(e)),(0,P.removeKeysWithoutValues)(e)},t.saveDraft=function(e,n,r){var o=this;return i=(0,m.default)(c.default.mark(function i(s,a){var u,l,m,f;return c.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e=t.processForm(e),u=e.id?"put":"post",l=e.id?"/api/projects/draft/"+e.id+"/":"/api/projects/draft/",o.prev=3,o.next=6,g.default[u](l,e);case 6:return m=o.sent,f=m.data,o.abrupt("return",t.postProjectSaveActions(f,n,r,s,a(),"draft"));case 11:return o.prev=11,o.t0=o.catch(3),console.log(o.t0),o.abrupt("return",d.default.reject(o.t0));case 15:case"end":return o.stop()}},i,o,[[3,11]])})),function(e,t){return i.apply(this,arguments)};var i},t.discardDraft=function(){var e=this;return n=(0,m.default)(c.default.mark(function n(r,o){var i,s,a,u,l;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.getCurrentPublishedProjectForEditing(o()),s=t.processForm(i),a=t.getStoredCountryFields(o())(!1),e.next=5,g.default.put("/api/projects/draft/"+i.id+"/",s);case 5:return u=e.sent,l=u.data,e.next=9,t.saveCountryFields(a,l.draft.country,l.id,"published");case 9:return l.draft.fields=e.sent,r({type:"UPDATE_SAVE_PROJECT",project:l}),e.abrupt("return",d.default.resolve(l));case 12:case"end":return e.stop()}},n,e)})),function(e,t){return n.apply(this,arguments)};var n},t.publish=function(e,n,r){var o=this;return i=(0,m.default)(c.default.mark(function i(s,a){var u,l;return c.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e=t.processForm(e),o.prev=1,o.next=4,g.default.put("/api/projects/publish/"+e.id+"/",e);case 4:return u=o.sent,l=u.data,o.abrupt("return",t.postProjectSaveActions(l,n,r,s,a(),"published"));case 9:return o.prev=9,o.t0=o.catch(1),console.log(o.t0),o.abrupt("return",d.default.reject(o.t0));case 13:case"end":return o.stop()}},i,o,[[1,9]])})),function(e,t){return i.apply(this,arguments)};var i},t.searchDuplicateProjectName=function(e){var n=this;return r=(0,m.default)(c.default.mark(function r(o){var i;return c.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.searchProjects(e);case 2:i=n.sent,o({type:"SET_SIMILAR_NAME_LIST",list:i});case 4:case"end":return n.stop()}},r,n)})),function(e){return r.apply(this,arguments)};var r},t.clearSimilarNameList=function(){var e=this;return t=(0,m.default)(c.default.mark(function t(n){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n({type:"SET_SIMILAR_NAME_LIST",list:[]});case 1:case"end":return e.stop()}},t,e)})),function(e){return t.apply(this,arguments)};var t},t.updateProjectCountryFields=function(e){var n=e.id,r=e.answer,o=e.question,i=e.type,s=e.country,a=e.schema_id;return function(e,l){var c=t.getCurrentProjectId(l());switch(i){case 3:r=!0===r?"true":"false";break;case 5:r=(0,u.default)(r)}var d={id:n,answer:r,question:o,type:i,country:s,schema_id:a=a||n};e({type:"UPDATE_COUNTRY_FIELD_ANSWER",projectId:c,countryField:d})}},t.updateEditedProject=function(e){return function(t,n){var r={},o=n().projects.editedProject;(0,a.default)(e).forEach(function(t){var n=(0,j.default)(o[t],e[t]);n||(r[t]=e[t])}),(0,a.default)(r).length>0&&t({type:"EDITED_PROJECT_UPDATE",update:r})}},t.resetEditedProject=function(){return function(e){e({type:"EDITED_PROJECT_RESET"})}},t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{editedProject:{}},t=arguments[1];switch(t.type){case"SET_PROJECT_LIST":var n=t.projects.slice();return(0,v.default)({},e,{list:n});case"SET_SIMILAR_NAME_LIST":var r=t.list.slice();return(0,v.default)({},e,{similarProjectNames:r});case"UPDATE_SAVE_PROJECT":var o=[].concat((0,h.default)(e.list)),i=o.findIndex(function(e){return e.id===t.project.id});return-1!==i?o.splice(i,1,(0,v.default)({},t.project)):o.push((0,v.default)({},t.project)),(0,v.default)({},e,{list:o});case"UPDATE_COUNTRY_FIELD_ANSWER":var s=[].concat((0,h.default)(e.list)),a=s.findIndex(function(e){return e.id===t.projectId}),u=[].concat((0,h.default)(s[a].draft.fields)),l=u.findIndex(function(e){return e.schema_id===t.countryField.schema_id});return-1!==l?u.splice(l,1,(0,v.default)({},t.countryField)):u.push((0,v.default)({},t.countryField)),s[a].draft.fields=u,(0,v.default)({},e,{list:s});case"SET_CURRENT_PROJECT":var c=t.id;return(0,v.default)({},e,{currentProject:c});case"SET_CURRENT_PUBLIC_PROJECT_DETAIL":var d=t.project;return(0,v.default)({},e,{currentPublicProject:d});case"SET_PROJECT_STRUCTURE":var m=t.structure;return(0,v.default)({},e,{structure:m});case"SET_PROJECT_INFO":var f=t.info.toolkitVersions,p=t.info.coverageVersions,g=t.info.teamViewers;return(0,v.default)({},e,{toolkitVersions:f,coverageVersions:p,teamViewers:g});case"SET_PROJECT_TEAM_VIEWERS":var _=t.teamViewers;return(0,v.default)({},e,{teamViewers:_});case"CLEAR_USER_PROJECTS":return{structure:e.structure};case"EDITED_PROJECT_UPDATE":return(0,v.default)({},e,{editedProject:(0,v.default)({},e.editedProject,t.update)});case"EDITED_PROJECT_RESET":return(0,v.default)({},e,{editedProject:{}});default:return e}};var g=R(n("./src/plugins/axios.js")),_=R(n("./node_modules/lodash/forOwn.js")),y=R(n("./node_modules/lodash/isEmpty.js")),j=R(n("./node_modules/lodash/isEqual.js")),b=n("./src/store/static_data/project_definition.js"),w=T(n("./src/store/modules/countries.js")),C=T(n("./src/store/modules/user.js")),S=T(n("./src/store/modules/toolkit.js")),E=n("./node_modules/reselect/lib/index.js"),P=n("./src/store/project_utils.js"),x=T(n("./src/store/modules/system.js"));function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function R(e){return e&&e.__esModule?e:{default:e}}t.isMemberOrViewer=function(e,t){var n=C.getProfile(e);if(n&&n.member&&n.viewer){var r=n.member.indexOf(t.id)>-1,o=!r&&n.viewer.indexOf(t.id)>-1;return{isMember:r,isViewer:o,isTeam:r||o}}return{isMember:!1,isViewer:!1,isTeam:!1}},t.getCurrentProjectId=function(e){return e.projects.currentProject},t.getSavedProjectList=(0,E.createSelector)(function(e){return e.projects.list},function(e){return t.getVanillaProject(e)},function(e,t){if(e)return e.filter(function(e){return-1!==e.id}).map(function(e){return(0,v.default)({},e,{draft:(0,v.default)({},t,{donors:[],implementing_partners:[]},e.draft)})})}),t.getPublishedProjects=function(e){return e.projects.list?t.getSavedProjectList(e).map(function(n){return n=(0,v.default)({},n.published,t.isMemberOrViewer(e,n))}):[]},t.getDraftedProjects=function(e){return e.projects.list?t.getSavedProjectList(e).map(function(n){return n=(0,v.default)({},n.draft,t.isMemberOrViewer(e,n))}):[]},t.getFlatProjectStructure=function(e){var t=e.projects.structure;if(t){var n=[];t.strategies.forEach(function(e){e.subGroups.forEach(function(e){n=[].concat((0,h.default)(n),(0,h.default)(e.strategies.map(function(e){return(0,v.default)({},e)})))})});var r=[];t.health_focus_areas.forEach(function(e){r=[].concat((0,h.default)(r),(0,h.default)(e.health_focus_areas))});var o=[];return t.hsc_challenges.forEach(function(e){o=[].concat((0,h.default)(o),(0,h.default)(e.challenges))}),(0,v.default)({},t,{strategies:n,health_focus_areas:r,hsc_challenges:o})}return{}},t.getProjectStructure=(0,E.createSelector)(function(e){return e.projects.structure},function(e){return(0,v.default)({},e)}),t.getUserProjects=function(e){var n=t.getFlatProjectStructure(e);return e.projects.list?t.getSavedProjectList(e).map(function(r){var o=r.public_id,i=!!o;r=i?(0,v.default)({},r.published):(0,v.default)({},r.draft);var s=w.getCountry(e,r.country);return r=(0,v.default)({},r,t.isMemberOrViewer(e,r),{isPublished:i,public_id:o,country_name:s?s.name:""},(0,P.convertIdArrayToObjectArray)(r,n,P.dashFieldConvertToObject))}):[]},t.getUserDefaultProject=function(e){var t=e&&e.projects?e.projects.list:null;return t&&t[0]&&-1!==t[0].id?""+t[0].id:null},t.getEmptyProject=function(){return(0,v.default)({},b.project_definition)},t.getVanillaProject=function(e){var n=t.getEmptyProject(),r=t.getProjectStructure(e),o=C.getProfile(e);return o&&(n.country=o.country?o.country.id:null,n.organisation=o.organisation?o.organisation:null),r&&(n.interoperability_links=r.interoperability_links),(0,v.default)({},n)},t.getCurrentProjectIfExist=function(e){return t.getUserProjects(e).find(function(t){return t.id===e.projects.currentProject})},t.getCurrentProject=function(e){var n=t.getCurrentProjectIfExist(e);return n||(n=t.getCurrentPublicProject(e))||(n=t.getVanillaProject(e)),(0,v.default)({},n)},t.getCurrentPublicProject=function(e){var t=e.projects.currentPublicProject?e.projects.currentPublicProject:{};if(t&&t.id&&(t=t.published&&t.published.name?t.published:t.draft),null===t)return null;var n=t.country?w.getCountry(e,t.country):void 0;return(0,v.default)({},t,{country_name:n?n.name:t.country_name,isPublic:!0})},t.getCurrentPublicProjectDetails=function(e,n){var r=n?t.getCurrentDraft(e):t.getCurrentPublished(e),o=n?"draft":"published";return r||((r=e.projects.currentPublicProject?e.projects.currentPublicProject[o]:void 0)?(r.hasPublishedVersion=!(!e.projects.currentPublicProject.published||!e.projects.currentPublicProject.published.name),r.disableDraft=!e.projects.currentPublicProject.draft,t.parseProjectForViewMode(e,r)):(0,v.default)({},t.getVanillaProject(e)))},t.convertCountryFieldsAnswer=function(e){return e.map(function(e){switch((e=(0,v.default)({},e)).type){case 2:e.answer=parseInt(e.answer,10);break;case 3:e.answer="true"===e.answer;break;case 5:e.answer=JSON.parse(e.answer)}return e})},t.parseProjectForViewMode=function(e,n){var r=t.getEmptyProject(),o=t.getFlatProjectStructure(e),i=w.getCountry(e,n.country);return n=(0,v.default)({},r,n),n=(0,v.default)({},n,{country_name:i?i.name:""},(0,P.convertIdArrayToObjectArray)(n,o,P.dashFieldConvertToObject),{coverageType:(0,P.setCoverageType)(n.coverage,n.national_level_deployment),coverage_second_level:n.coverage_second_level?n.coverage_second_level:[{}],coverage:n.coverage?n.coverage:[{}]}),(0,v.default)({},n,(0,P.convertIdArrayToObjectArray)(n,o,[{key:"platforms.strategies",structure_key:"strategies"}]),{hasPublishedVersion:void 0===n.hasPublishedVersion||n.hasPublishedVersion})},t.getCurrentPublished=function(e){var n=t.getPublishedProjects(e).find(function(t){return t.id===e.projects.currentProject});if(n)return t.parseProjectForViewMode(e,n)},t.getCurrentDraft=function(e){var n=t.getDraftedProjects(e).find(function(t){return t.id===e.projects.currentProject});if(n)return(0,v.default)({},n,{hasPublishedVersion:!!t.getPublishedProjects(e).find(function(t){return t.id===e.projects.currentProject})})},t.getCurrentDraftInViewMode=function(e){var n=t.getCurrentDraft(e);if(n)return t.parseProjectForViewMode(e,n)},t.getStoredCountryFields=function(e){return function(n){var r=n?t.getCurrentDraft(e):t.getCurrentPublished(e);if(void 0===r){var o=e.projects.list.find(function(e){return-1===e.id});o&&(r=o.draft)}return r?r.fields:[]}},t.getProjectCountryFields=function(e){return function(n){var r=w.getCountryFields(e),o=t.convertCountryFieldsAnswer(t.getStoredCountryFields(e)(n)),i=r.map(function(e){var t=o.find(function(t){return t.schema_id===e.id});return(0,v.default)({},e,{answer:t?t.answer:e.answer})});return[].concat((0,h.default)(i))}},t.getCurrentProjectForEditing=function(e,n){var r=t.getFlatProjectStructure(e);return n||(n=t.getVanillaProject(e)),n.start_date=(0,P.convertDate)(n.start_date),n.implementation_dates=(0,P.convertDate)(n.implementation_dates),n.end_date=(0,P.convertDate)(n.end_date),n=(0,P.convertStringArrayToObjectArray)(n),n=(0,P.fillEmptyCollectionsWithDefault)(n),"object"!==(0,p.default)(n.organisation)&&(n.organisation={id:n.organisation,name:n.organisation_name}),(n=(0,v.default)({},n,t.isMemberOrViewer(e,n),(0,P.convertIdArrayToObjectArray)(n,r,P.fieldToConvertToObject),(0,P.handleInteroperabilityLinks)(n,r))).forceSetCoverage?n.forceSetCoverage=void 0:n.coverageType=(0,P.setCoverageType)(n.coverage,n.national_level_deployment),(0,v.default)({},b.project_definition,n)},t.getCurrentPublishedProjectForEditing=function(e){var n=t.getPublishedProjects(e).find(function(t){return t.id===e.projects.currentProject});if(n)return t.getCurrentProjectForEditing(e,n)},t.getCurrentEdits=function(e){var t=e.projects.editedProject;return(0,v.default)({},t,{forceSetCoverage:!!t.coverageType})},t.getCurrentDraftProjectForEditing=function(e){var n=(0,v.default)({},t.getCurrentDraft(e),t.getCurrentEdits(e));return t.getCurrentProjectForEditing(e,n)},t.getNewProjectForEditing=function(e){var n=t.getVanillaProject(e);return(0,v.default)({},n,t.getCurrentEdits(e))},t.getTeam=function(e){return e.projects.teamViewers?e.projects.teamViewers.team.map(function(t){return e.system.profiles.find(function(e){return e.id===t})}):[]},t.getViewers=function(e){return e.projects.teamViewers?e.projects.teamViewers.viewers.map(function(t){return e.system.profiles.find(function(e){return e.id===t})}):[]},t.getToolkitVersion=function(e){var t=e.projects.toolkitVersions;return t?t.slice():[]},t.getCoverageVersion=function(e){var t=e.projects.coverageVersions;return t?t.slice():[]},t.getCurrentVersion=function(e){return t.getToolkitVersion(e).length},t.getCurrentVersionDate=function(e){var n=t.getToolkitVersion(e).slice(-1)[0];return n?n.modified:null},t.getMapsAxisData=function(e){var n={labels:x.getAxis(e).map(function(e){return e.name}),data:[]},r=t.getToolkitVersion(e),o=S.getToolkitData(e),i=(0,P.getTodayString)();if(r.length>0&&(n.data=r.map(function(e){return{date:e.modified.split("T")[0],axis1:e.data[0].axis_score/100,axis2:e.data[1].axis_score/100,axis3:e.data[2].axis_score/100,axis4:e.data[3].axis_score/100,axis5:e.data[4].axis_score/100,axis6:e.data[5].axis_score/100}})),6===o.length){var s={axis1:o[0].axis_score/100,axis2:o[1].axis_score/100,axis3:o[2].axis_score/100,axis4:o[3].axis_score/100,axis5:o[4].axis_score/100,axis6:o[5].axis_score/100,date:i};n.data.push(s)}return n},t.getMapsDomainData=function(e){var n=x.getDomains(e),r=x.getAxis(e),o={labels:r.map(function(e){return e.name})},i=t.getToolkitVersion(e),s=S.getToolkitData(e),a=(0,P.getTodayString)();return r.forEach(function(e,t){if(o[e.name]={labels:n.filter(function(t){return t.axis===e.id}).map(function(e){return e.name}),data:[]},i.length>0&&(o[e.name].data=i.map(function(e){var n={};return n.date=e.modified.split("T")[0],e.data[t].domains.forEach(function(e,t){n["axis"+(t+1)]=e.domain_percentage/100}),n})),s.length>0){var r={date:a};s[t].domains.forEach(function(e,t){r["axis"+(t+1)]=e.domain_percentage/100}),o[e.name].data.push(r)}}),o},t.getCoverageData=function(e){var n=t.getCoverageVersion(e),r=t.getCurrentProject(e),o=r.coverage?r.coverage.slice():[];o.push((0,f.default)({},r.national_level_deployment)),n.push({data:o});var i=(0,P.getTodayString)();return n.reduce(function(e,t,n){return e.data[n]={},e.data[n].date=t.modified?t.modified.split("T")[0]:i,t.data.forEach(function(t){(0,_.default)(t,function(t,r){var o=["clients","facilities","health_workers"].indexOf(r);if(o>-1){var i="axis"+(o+1);e.data[n][i]=(e.data[n][i]||0)+t}})}),e},{labels:[],data:[]})},t.getSimilarProject=function(e){var n=t.getPublishedProjects(e);return e.projects.similarProjectNames?e.projects.similarProjectNames.map(function(e){return(e=(0,f.default)({},e)).isOwn=n.some(function(t){return t.id===e.id}),e}):[]},t.checkCurrentProjectValidity=function(e){var t=e.projects.currentPublicProject;return t&&""===t.public_id&&null===t.draft?{isValid:!1,id:t.id}:{isValid:!0}}},"./src/store/modules/system.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addOrganisation=t.searchOrganisation=t.getSubLevelTypes=t.getDomainsForThematic=t.getThematicOverview=t.getQuestions=t.getDomains=t.getAxis=t.getLandingPageDefaults=t.getSearchFilters=t.getLanguages=t.getSearchResult=t.getUserProfiles=void 0;var r,o,i=f(n("./node_modules/babel-runtime/regenerator/index.js")),s=f(n("./node_modules/babel-runtime/helpers/asyncToGenerator.js")),a=f(n("./node_modules/babel-runtime/helpers/toConsumableArray.js")),u=f(n("./node_modules/babel-runtime/helpers/extends.js"));t.searchOrganisation=(r=(0,s.default)(i.default.mark(function e(t){var n,r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.default.get("/api/organisations/?name="+t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)}),t.addOrganisation=(o=(0,s.default)(i.default.mark(function e(t){var n,r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.default.post("/api/organisations/",{name:t});case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)});t.loadUserProfiles=function(){var e=this;return t=(0,s.default)(i.default.mark(function t(n){var r,o;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.default.get("/api/userprofiles/");case 2:r=e.sent,o=r.data,n({type:"SET_USER_PROFILES",profiles:o});case 5:case"end":return e.stop()}},t,e)})),function(e){return t.apply(this,arguments)};var t},t.loadStaticData=function(){var e=this;return t=(0,s.default)(i.default.mark(function t(n){var r,o;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.default.get("/api/static-data/");case 2:r=e.sent,o=r.data,n({type:"SET_AXIS",axis:o.axis}),n({type:"SET_DOMAINS",domains:o.domains}),n({type:"SET_LANDING_PAGE_DEFAULTS",landing_page_defaults:o.landing_page_defaults}),n({type:"SET_LANGUAGES",languages:o.languages}),n({type:"SET_SEARCH_FILTERS",search_filters:o.search_filters}),n({type:"SET_THEMATIC_OVERVIEW",thematic_overview:o.thematic_overview}),n({type:"SET_TOOLKIT_QUESTIONS",toolkit_questions:o.toolkit_questions}),n({type:"SET_SUB_LEVEL_TYPES",sub_level_types:o.sub_level_types});case 12:case"end":return e.stop()}},t,e)})),function(e){return t.apply(this,arguments)};var t},t.searchProjects=function(e,t){var n=this;return r=(0,s.default)(i.default.mark(function r(o){var s,a,u,c,d;return i.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(a in s={query:e},t)u=t[a],s[u.name]=u.value;return n.next=4,l.default.post("/api/search/projects/",s);case 4:c=n.sent,d=c.data,o({type:"SET_PROJECT_SEARCH_RESULT",projects:d});case 7:case"end":return n.stop()}},r,n)})),function(e){return r.apply(this,arguments)};var r},t.unsetSearchedProjects=function(){return function(e){e({type:"UNSET_PROJECT_SEARCH_RESULT"})}},t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments[1];switch(t.type){case"SET_USER_PROFILES":return(0,u.default)({},e,{profiles:t.profiles});case"SET_PROJECT_SEARCH_RESULT":return(0,u.default)({},e,{projectSearch:t.projects});case"UNSET_PROJECT_SEARCH_RESULT":return(0,u.default)({},e,{projectSearch:[]});case"SET_AXIS":return(0,u.default)({},e,{axis:t.axis});case"SET_DOMAINS":return(0,u.default)({},e,{domains:t.domains});case"SET_LANDING_PAGE_DEFAULTS":return(0,u.default)({},e,{landing_page_defaults:t.landing_page_defaults});case"SET_LANGUAGES":return(0,u.default)({},e,{languages:t.languages});case"SET_SEARCH_FILTERS":return(0,u.default)({},e,{search_filters:t.search_filters});case"SET_THEMATIC_OVERVIEW":return(0,u.default)({},e,{thematic_overview:t.thematic_overview});case"SET_TOOLKIT_QUESTIONS":return(0,u.default)({},e,{toolkit_questions:t.toolkit_questions});case"SET_SUB_LEVEL_TYPES":return(0,u.default)({},e,{sub_level_types:t.sub_level_types});default:return e}};var l=f(n("./src/plugins/axios.js")),c=m(n("./src/store/modules/projects.js")),d=m(n("./src/store/modules/countries.js"));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}var p={profiles:[],search_filters:[],languages:[],projectSearch:[],thematic_overview:[],axis:[],domains:[],landing_page_defaults:{},toolkit_questions:[],sub_level_types:[]};t.getUserProfiles=function(e){return e.system.profiles?e.system.profiles.slice():[]},t.getSearchResult=function(e){return(e.system.projectSearch?e.system.projectSearch:[]).map(function(t){var n=d.getCountry(e,t.country);return(0,u.default)({},t,c.isMemberOrViewer(e,t),{country_name:n?n.name:""})})},t.getLanguages=function(e){return e.system.languages.map(function(e){return(0,u.default)({},e,{flag:"/static/flags/"+e.flag})})},t.getSearchFilters=function(e){return[].concat((0,a.default)(e.system.search_filters))},t.getLandingPageDefaults=function(e){return(0,u.default)({},e.system.landing_page_defaults)},t.getAxis=function(e){return[].concat((0,a.default)(e.system.axis))},t.getDomains=function(e){return[].concat((0,a.default)(e.system.domains))},t.getQuestions=function(e){return[].concat((0,a.default)(e.system.toolkit_questions))},t.getThematicOverview=function(e){var t=e.system.thematic_overview;return t.categories.map(function(e){return(0,u.default)({},e,{domains:t.sub_categories.filter(function(t){return t.category===e.id})})})},t.getDomainsForThematic=function(e){var n=t.getAxis(e),r=t.getDomains(e),o=t.getThematicOverview(e);return[].concat((0,a.default)(o.map(function(e){return{name:e.name,domains:e.domains}})),(0,a.default)(n.map(function(e){return{name:e.name,domains:r.filter(function(t){return t.axis===e.id}).map(function(e){return{name:e.name}})}})))},t.getSubLevelTypes=function(e){return[].concat((0,a.default)(e.system.sub_level_types.map(function(e){return(0,u.default)({},e)})))}},"./src/store/modules/toolkit.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAxisDetail=t.getDomainStructure=t.getStructure=t.getToolkitData=void 0;var r=c(n("./node_modules/babel-runtime/regenerator/index.js")),o=c(n("./node_modules/babel-runtime/core-js/promise.js")),i=c(n("./node_modules/babel-runtime/helpers/asyncToGenerator.js")),s=c(n("./node_modules/babel-runtime/helpers/extends.js"));t.loadToolkitData=m,t.saveAnswer=function(e){var t=this;return n=(0,i.default)(r.default.mark(function n(i,s){var a,l,c;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(a=s().projects.currentProject)){t.next=9;break}return t.next=5,u.default.post("/api/projects/"+a+"/toolkit/score/",e);case 5:l=t.sent,c=l.data,i({type:"UPDATE_TOOLKIT_DATA",data:c}),i(m());case 9:return t.abrupt("return",o.default.resolve());case 12:return t.prev=12,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",o.default.reject(t.t0));case 16:case"end":return t.stop()}},n,t,[[0,12]])})),function(e,t){return n.apply(this,arguments)};var n},t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments[1];switch(t.type){case"SET_TOOLKIT_DATA":return(0,s.default)({},e,{toolkitData:t.data});case"UPDATE_TOOLKIT_DATA":var n=t.data,r=(0,a.default)(e.toolkitData);return r[n.axis].domains[n.domain].questions[n.question].answers[n.answer]=n.value,(0,s.default)({},e,{toolkitData:r});case"CLEAR_TOOLKIT_DATA":return(0,s.default)({},d);default:return e}};var a=c(n("./node_modules/lodash/cloneDeep.js")),u=c(n("./src/plugins/axios.js")),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("./src/store/modules/system.js"));function c(e){return e&&e.__esModule?e:{default:e}}var d={toolkitData:[]};t.getToolkitData=function(e){var t=e.toolkit.toolkitData;return t?(0,a.default)(t):[]},t.getStructure=function(e){var t=l.getAxis(e),n=l.getDomains(e),r=l.getQuestions(e);return t.map(function(e){return(0,s.default)({},e,{domains:n.filter(function(t){return t.axis===e.id}).map(function(e){return(0,s.default)({},e,{questions:r.filter(function(t){return t.domain===e.id}).map(function(e){return(0,s.default)({},e,{id:e.domain+"-"+e.question_id})})})})})})},t.getDomainStructure=function(e,n,r){var o=t.getStructure(e);return o&&o[n]&&o[n].domains[r]?o[n].domains[r]:{}},t.getAxisDetail=function(e,n){var r=l.getAxis(e).find(function(e){return e.id===n}),o=l.getDomains(e),i=t.getToolkitData(e).find(function(e){return e.id===n}),a=i?i.domains.map(function(e,t){return(0,s.default)({},e,o.find(function(t){return t.id===e.id}),{index:t})}):[];return(0,s.default)({},r,i,{domains:a})};function m(){var e,t=this;return e=(0,i.default)(r.default.mark(function e(n,i){var s,a,l;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(s=i().projects.currentProject)){e.next=8;break}return e.next=5,u.default.get("/api/projects/"+s+"/toolkit/data/");case 5:a=e.sent,l=a.data,n({type:"SET_TOOLKIT_DATA",data:l});case 8:return e.abrupt("return",o.default.resolve());case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",o.default.reject(e.t0));case 14:case"end":return e.stop()}},e,t,[[0,11]])})),function(t,n){return e.apply(this,arguments)}}},"./src/store/modules/user.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetPassword=t.verifyEmail=t.handleProfile=t.storeData=t.isSuperUser=t.getUserLanguage=t.getProfile=void 0;var r,o,i=_(n("./node_modules/babel-runtime/core-js/object/assign.js")),s=_(n("./node_modules/babel-runtime/core-js/promise.js")),a=_(n("./node_modules/babel-runtime/regenerator/index.js")),u=_(n("./node_modules/babel-runtime/helpers/asyncToGenerator.js")),l=_(n("./node_modules/babel-runtime/helpers/extends.js"));t.verifyEmail=(r=(0,u.default)(a.default.mark(function e(t){var n,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.default.post("/api/rest-auth/registration/verify-email/",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)}),t.resetPassword=(o=(0,u.default)(a.default.mark(function e(t){var n,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.default.post("/api/rest-auth/password/reset/",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)});t.loadProfile=function(){var e=this;return n=(0,u.default)(a.default.mark(function n(r,o){var i,s,u,l;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=o(),!y.get("login")||i.user.profile){e.next=10;break}return s=i.user.user_profile_id||y.get("user_profile_id"),e.next=5,c.default.get("/api/userprofiles/"+s+"/");case 5:u=e.sent,l=u.data,l=t.handleProfile(l),(0,v.setLanguage)(l.language),r({type:"SET_PROFILE",profile:l});case 10:case"end":return e.stop()}},n,e)})),function(e,t){return n.apply(this,arguments)};var n},t.doSignup=function(e){var n=this,r=e.account_type,o=e.password1,i=e.password2,l=e.email;return d=(0,u.default)(a.default.mark(function e(u){var d,m,f;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.default.post("/api/rest-auth/registration/",{account_type:r,password1:o,password2:i,email:l});case 3:return d=e.sent,(m=d.data).token=m.key,m.is_superuser=!1,t.storeData(m,l),u({type:"SET_USER",user:m}),e.next=11,u(t.loadProfile());case 11:return e.abrupt("return",s.default.resolve());case 14:return e.prev=14,e.t0=e.catch(0),f=e.t0.response,e.abrupt("return",s.default.reject(f.data));case 18:case"end":return e.stop()}},e,n,[[0,14]])})),function(e){return d.apply(this,arguments)};var d},t.doLogin=function(e){var n=this,r=e.username,o=e.password;return i=(0,u.default)(a.default.mark(function e(i){var u,l,d;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.default.post("/api/api-token-auth/",{username:r,password:o});case 3:return u=e.sent,l=u.data,t.storeData(l,r),i({type:"SET_USER",user:l}),e.next=9,i(t.loadProfile());case 9:return e.next=11,i(f.loadUserProjects());case 11:return e.abrupt("return",s.default.resolve());case 14:return e.prev=14,e.t0=e.catch(0),d=e.t0.response,e.abrupt("return",s.default.reject(d.data));case 18:case"end":return e.stop()}},e,n,[[0,14]])})),function(e){return i.apply(this,arguments)};var i},t.saveProfile=function(e){var n=this;return r=(0,u.default)(a.default.mark(function r(o,s){var u,l,d,m,h,g,_;return a.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return u=s(),l=u.user.user_profile_id||y.get("user_profile_id"),d=l?"/api/userprofiles/"+l+"/":"/api/userprofiles/",m=l?"put":"post",(h=(0,i.default)({},e)).organisation=h.organisation.id,h.country=h.country.id,n.next=9,c.default[m](d,h);case 9:g=n.sent,_=g.data,_=t.handleProfile(_),(0,v.setLanguage)(_.language),o({type:"SET_PROFILE",profile:_}),o(p.loadStaticData()),o(f.loadProjectStructure(!0));case 16:case"end":return n.stop()}},r,n)})),function(e,t){return r.apply(this,arguments)};var r},t.doLogout=function(){return function(e){y.clear(),c.default.unSetAuthToken();try{e({type:"CLEAR_USER_PROJECTS"}),e({type:"CLEAR_TOOLKIT_DATA"}),e({type:"CLEAR_CMS_DATA"})}catch(e){console.warn(e)}try{e({type:"UNSET_USER"})}catch(e){console.warn(e)}}},t.updateTeamViewers=function(e,t){return function(n,r){var o=r().user.profile.member,i=r().user.profile.viewer,s=(0,d.default)(o,e),a=(0,d.default)(i,t);s.length===o.length&&a.length===i.length||n({type:"UPDATE_TEAM_VIEWER",member:s,viewer:a})}},t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case"SET_USER":return(0,l.default)({},e,t.user);case"SET_PROFILE":var n=e.profile?(0,l.default)({},e.profile,t.profile):(0,l.default)({},t.profile);return(0,l.default)({},e,{profile:n});case"UPDATE_TEAM_VIEWER":var r=e.profile||{};return r.member=t.member,r.viewer=t.viewer,(0,l.default)({},e,{profile:r});case"UNSET_USER":return{};default:return e}};var c=_(n("./src/plugins/axios.js")),d=_(n("./node_modules/lodash/union.js")),m=_(n("./src/Storage.js")),f=g(n("./src/store/modules/projects.js")),p=g(n("./src/store/modules/system.js")),h=g(n("./src/store/modules/countries.js")),v=n("./src/plugins/language.js");function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}var y=new m.default;t.getProfile=function(e){if(e.user.profile){var t=h.getCountriesList(e),n=void 0;return t&&t.length>0&&(n=(0,l.default)({},t.find(function(t){return t.id===e.user.profile.country}))),(0,l.default)({},e.user.profile,{country:n})}},t.getUserLanguage=function(e){var t=p.getLanguages(e),n=e&&e.user&&e.user.profile?e.user.profile.language:void 0;return t.find(function(e){return e.code===n})},t.isSuperUser=function(e){return e.user.profile.is_superuser},t.storeData=function(e,t){y.set("token",e.token),y.set("user_profile_id",e.user_profile_id),y.set("is_superuser",e.is_superuser),y.set("email",t),y.set("login",!0),c.default.setAuthToken(e.token)},t.handleProfile=function(e){return e.email=y.get("email"),e.is_superuser=y.get("is_superuser"),e.organisation?(e.organisation_id=e.organisation,e.organisation={name:e.organisation_name||"",id:e.organisation_id}):e.organisation=null,e}},"./src/store/project_utils.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTodayString=t.dashFieldConvertToObject=t.fieldToConvertToObject=t.fieldToForceToInt=t.fieldsToMapWithId=t.fieldsToConvertToObjectArray=t.fieldsWithCustomValue=void 0;var r=p(n("./node_modules/babel-runtime/core-js/number/is-nan.js")),o=p(n("./node_modules/babel-runtime/core-js/object/keys.js")),i=p(n("./node_modules/babel-runtime/core-js/object/assign.js")),s=p(n("./node_modules/babel-runtime/helpers/extends.js"));t.concatCustom=y,t.mergeCustomAndDefault=function(e){var t={};return h.forEach(function(n){t[n]=y(e[n])}),(0,s.default)({},t)},t.parsePlatformCollection=function(e){return e.platforms.map(function(e){var t=e.id,n=e.strategies&&e.strategies.length>0?e.strategies:[];return e={},t&&(e.id=t),n&&(e.strategies=n.map(function(e){return e.id}).filter(function(e){return e})),t?e:void 0})},t.convertDate=function(e){if(e)return(0,f.default)(e,"YYYY-MM-DDTHH:mm:ss.SSSZ").toDate();return},t.convertStringArrayToObjectArray=function(e){return v.forEach(function(t){e[t]&&(e[t]=e[t].map(function(e){return"string"==typeof e?{value:e}:e}),0===e[t].length&&e[t].push({}))}),(0,i.default)({},e)},t.convertObjectArrayToStringArray=function(e){var t={};return v.forEach(function(n){e[n]&&(t[n]=e[n].map(function(e){return e.value}).filter(function(e){return e}))}),(0,s.default)({},t)},t.fillEmptyCollectionsWithDefault=function(e){return e.coverage=(0,c.default)(e.coverage)?[{}]:e.coverage,e.coverage_second_level=(0,c.default)(e.coverage_second_level)?[{}]:e.coverage_second_level,e.platforms=(0,c.default)(e.platforms)?[{}]:e.platforms,(0,s.default)({},e)},t.setCoverageType=function(e,t){var n=null;t&&(t.clients||t.facilities||t.health_workers)?n=2:e&&e.length>1?n=1:e&&Array.isArray(e)&&e[0]&&e[0].district&&(n=1);return n},t.createDateFields=function(e){var t=e.start_date?(0,f.default)(e.start_date).toJSON():null,n=e.end_date?(0,f.default)(e.end_date).toJSON():null,r=e.implementation_dates?(0,f.default)(e.implementation_dates).toJSON():null;return{start_date:t,end_date:n,implementation_dates:r}},t.deleteUndefinedAndDoubleDollarKeys=j,t.removeEmptyChildObjects=function(e){var t={};return["coverage","platforms","his_bucket","hsc_challenges","publications","links","reports"].forEach(function(n){e[n]&&(t[n]=e[n].filter(function(e){return"number"==typeof e||((e=j(e=(0,s.default)({},e))).hasOwnProperty("available")&&delete e.available,(0,o.default)(e).length>0)}))}),(0,s.default)({},t)},t.removeKeysWithoutValues=function(e){var t={};for(var n in e){var r=e[n];(null!==r&&void 0!==r&&""!==r||(0,u.default)(r)&&(0,m.default)(r).some(function(e){return!(0,l.default)(e)}))&&(t[n]=r)}return t},t.retainNationalOrDistrictCoverage=function(e){var t=null,n=null;1===e.coverageType?n=e.coverage.map(function(e){return(0,s.default)({},e)}):t=(0,s.default)({},e.national_level_deployment);return{national_level_deployment:t,coverage:n}},t.extractIdFromObjects=function(e){var t={};return g.forEach(function(n){t[n]=e[n].map(function(e){return e.id}).filter(function(e){return e})}),t},t.parseOutInteroperabilityLinks=function(e){return{interoperability_links:e.interoperability_links.filter(function(e){return e&&e.id}).map(function(e){return{id:e.id,link:e.link,selected:e.selected}})}},t.convertIdArrayToObjectArray=function(e,t,n){var r={};return n.forEach(function(n){var o=n.structure_key;if(2===(n=n.key.split(".")).length){var i=n[0];n=n[1],r[i]=e[i].map(function(e){return(e=(0,s.default)({},e))[n]&&(e[n]=b(e[n],t,n,o)),e})}else 1===n.length&&(n=n[0],r[n]=b(e[n],t,n,o))}),r},t.handleInteroperabilityLinks=function(e,t){return{interoperability_links:t.interoperability_links.map(function(t){var n=e.interoperability_links.find(function(e){return e.id===t.id}),r=n||{},o=r.selected,i=r.link;return(0,s.default)({},t,{selected:o,link:i})})}},t.retainOnlyIds=function(e){var t={};return _.forEach(function(n){t[n]=e[n].filter(function(e){return!(0,r.default)(parseInt(e,10))})}),t},t.handleNationalLevelCoverage=function(e){var t=e.national_level_deployment;return{national_level_deployment:w((0,s.default)({},t))}},t.handleCoverage=function(e){return(e=e||[]).map(function(e){return w(e)}).filter(function(e){return e})};var a=p(n("./node_modules/lodash/concat.js")),u=p(n("./node_modules/lodash/isPlainObject.js")),l=p(n("./node_modules/lodash/isNull.js")),c=p(n("./node_modules/lodash/isEmpty.js")),d=p(n("./node_modules/lodash/isNil.js")),m=p(n("./node_modules/lodash/values.js")),f=p(n("./node_modules/moment/moment.js"));function p(e){return e&&e.__esModule?e:{default:e}}var h=t.fieldsWithCustomValue=["interoperability_standards","licenses"],v=t.fieldsToConvertToObjectArray=["donors","implementing_partners"],g=t.fieldsToMapWithId=["health_focus_areas"],_=t.fieldToForceToInt=["his_bucket","hsc_challenges"];t.fieldToConvertToObject=[{key:"platforms.strategies",structure_key:"strategies"},{key:"health_focus_areas",structure_key:"health_focus_areas"}],t.dashFieldConvertToObject=[{key:"health_focus_areas",structure_key:"health_focus_areas"},{key:"platforms",structure_key:"technology_platforms"},{key:"licenses",structure_key:"licenses"},{key:"hsc_challenges",structure_key:"hsc_challenges"},{key:"his_bucket",structure_key:"his_bucket"},{key:"interoperability_standards",structure_key:"interoperability_standards"}],t.getTodayString=function(){var e=new Date;return[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-")};function y(e){return(0,a.default)(e.custom,e.standard).filter(function(e){return!(0,d.default)(e)&&!(0,c.default)(e)})}function j(e){var t={};return(0,o.default)(e).forEach(function(n){void 0!==e[n]&&"$$hashKey"!==n&&(t[n]=e[n])}),t}function b(e,t,n,o){return e.map(function(e){return!(0,r.default)(parseInt(e,10))?t[o].find(function(t){return t.id===e}):(0,s.default)({},e,t[o].find(function(t){return t.id===e.id}))}).filter(function(e){return e})}function w(e){if(e={district:e.district,clients:e.clients,health_workers:e.health_workers,facilities:e.facilities,facilities_list:e.facilities_list},!((0,d.default)(e.clients)&&(0,d.default)(e.health_workers)&&(0,d.default)(e.facilities)))return e.clients=(0,d.default)(e.clients)?0:e.clients,e.health_workers=(0,d.default)(e.health_workers)?0:e.health_workers,e.facilities=(0,d.default)(e.facilities)?0:e.facilities,e}},"./src/store/static_data/project_definition.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.project_definition={name:null,organisation:{id:void 0,name:""},country:null,countryName:null,coverage:[{}],coverage_second_level:[{}],coverageType:1,start_date:void 0,end_date:void 0,platforms:[{name:null,strategies:[]}],licenses:[],fields:[],donors:[{}],application:[],reports:[{}],publications:[{}],links:[{}],contact_name:null,contact_email:null,implementation_overview:null,implementation_dates:null,geographic_scope:null,interoperability_links:[],interoperability_standards:[],wiki:"",repository:"",mobile_application:"",implementing_partners:[{}],data_exchanges:[],his_bucket:[],hsc_challenges:[],health_focus_areas:[],government_investor:void 0}}}]);