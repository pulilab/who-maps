<div id="dashcontainer" layout="column">

    <div layout="row" class="dashrow dashrow-upper">

        <!-- vm.userType rights: 0: ANON, 1: LOGGEDIN, 2: VIEWER, 3: OWNER -->

        <div flex class="dashsection dashsection-left" layout="row">

            <div class="dashsection dashsection-left dash-cardholder" layout="column" id="dashsection-stats">

                <div class="dash-subhead">STATISTICS</div>

                <div flex layout="column" class="dash-stat-column" layout="column" layout-align="start">

                    <md-card md-whiteframe="2" class="dash-stat-card" ng-if="vm.userType > 1" ng-class="vm.userType === 3 ? 'longer' : 'shorter'">

                        <md-icon class="dash-trendicon rotate">rotate_right</md-icon>
                        <span class="dash-stat-nr dash-stat-nr-version">{{vm.currentVersion}}.</span>
                        <span class="dash-stat-label">Version</span>

                        <div class="gray" ng-if="vm.userType === 3" layout="column" layout-align="space-around stretch">
                            <span class="desc">
                                Push to save your current stats as a new version:
                            </span>
                            <md-button class="snapshot-button md-whiteframe-1dp" ng-click="vm.snapShot()">
                                <span class="text plus">+</span>
                                <span class="text">snapshot</span>
                            </md-button>
                        </div>

                    </md-card>


                    <!-- FOLLOWING -->
                        <!-- <md-card class="dash-stat-card longer longer-follow" layout="column" layout-align="space-between stretch" ng-if="false">


                        <md-icon class="material-icons dash-trendicon">visibility</md-icon>
                        <span class="dash-stat-nr dash-stat-nr-follow">#</span>
                        <span class="dash-stat-label">Followers</span>

                        <div class="gray gr-follow" ng-if="true" layout="column" layout-align="space-around stretch">

                            <span class="desc">
                                Push button to follow this project:
                            </span>

                            <md-button class="md-raised follow-button" ng-click="">
                                <span class="text">follow#</span>
                            </md-button>

                        </div>

                    </md-card> -->
                    <!-- <followers class="hten" trend="'down'" number="87"></followers> -->
                    <donors class="hten" number="vm.projectData.donors.length"></donors>

                </div>
            </div>

            <div flex class="dashsection dash-cardholder" layout="column">

                <div class="dash-subhead">PROJECT DETAILS</div>
                <md-card md-whiteframe="2" flex>

                    <md-tabs md-border-bottom md-dynamic-height>

                        <md-tab label="overview">

                            <div class="dash-cardcontent" layout="column" ng-if="vm.userType > 1">

                                <axis flex ng-repeat="axis in vm.axisData" axis-data="axis" axis-id="$index"></axis>

                                <div layout="row" class="dash-overview-tooltips">
                                    <div class="dash-overview-tooltip">
                                        <img src="../Common/Axis/images/flag-started.svg" />
                                        <span>Already started</span>
                                    </div>
                                    <div class="dash-overview-tooltip">
                                        <img src="../Common/Axis/images/flag-notstarted.svg" />
                                        <span>Not started yet</span>
                                    </div>
                                    <div class="dash-overview-tooltip">
                                        <span>P - Progress</span>
                                    </div>
                                    <div class="dash-overview-tooltip">
                                        <span>S - Score</span>
                                    </div>
                                    <div class="dash-overview-tooltip">
                                        <md-icon class="material-icons dash-overw-toolkit-ball1">fiber_manual_record</md-icon>
                                        <span>0-49%</span>
                                    </div>
                                    <div class="dash-overview-tooltip">
                                        <md-icon class="material-icons dash-overw-toolkit-ball2">fiber_manual_record</md-icon>
                                        <span>50-99%</span>
                                    </div>
                                    <div class="dash-overview-tooltip">
                                        <md-icon class="material-icons dash-overw-toolkit-ball3">fiber_manual_record</md-icon>
                                        <span>100%</span>
                                    </div>
                                </div>
                            </div>

                            <div class="dash-cardcontent infoview" layout="column" ng-if="vm.userType < 2" layout="column" layout-align="space-between stretch">
                                <div layout="row" layout-align="start center" class="roww">
                                    <div flex="25" class='label'>NAME</div>
                                    <div class="data">{{vm.projectData.name}}</div>
                                </div>

                                <div layout="row" layout-align="start center" class="roww">
                                    <div flex="25" class='label'>LOCATION</div>
                                    <div class="data">{{vm.projectData.countryName}}</div>
                                </div>

                                <div layout="row" layout-align="start center" class="roww">
                                    <div flex="25" class='label'>ORGANISATION</div>
                                    <div class="data">{{vm.projectData.organisation_name}}</div>
                                </div>

                                <div layout="row" layout-align="start center" class="roww borderless">
                                    <div flex="25" class='label'>CONTACT</div>
                                    <div class="data">
                                        {{vm.projectData.contact_name}}
                                        <a ng-href="mailto:{{vm.projectData.contact_email + '?subject=Request for approval'}}">
                                            Request to be part of this project
                                        </a>
                                    </div>
                                </div>

                                <div flex class="gray">
                                    <div class='label labelobj'>OBJECTIVES</div>
                                    <div class="data data2">{{vm.projectData.goals_to_scale}}</div>
                                </div>

                            </div>

                        </md-tab>

                        <md-tab label="axis" ng-if="vm.userType > 1">
                            <div>
                                <linechart
                                    showdotted="(vm.userType === 3)">
                                </linechart>
                            </div>
                        </md-tab>

                        <md-tab label="domains" ng-if="vm.userType > 1">
                            <div>
                                <linechart
                                    showdotted="(vm.userType === 3)"
                                    datachooser="true"
                                ></linechart>
                            </div>
                        </md-tab>

                        <md-tab label="technology">

                            <div class="dash-tech">
                                <div
                                    class="upper"
                                    layout="column">

                                    <div flex layout="row">
                                        <md-icon class="material-icons">device_hub</md-icon>
                                        <span flex>Technology platforms</span>
                                        <md-chips flex="66" readonly="true" ng-model="vm.projectData.technology_platforms"></md-chips>
                                    </div>

                                    <div flex layout="row">
                                        <md-icon class="material-icons">playlist_add_check</md-icon>
                                        <span flex>License</span>
                                        <md-chips flex="66" readonly="true" ng-model="vm.projectData.licenses"></md-chips>
                                    </div>

                                    <!-- <div flex layout="row">
                                        <md-icon class="material-icons">speaker_phone</md-icon>
                                        <span flex>Digital tools</span>
                                        <md-chips flex="66" readonly="true" ng-model="vm.projectData.digital_tools"></md-chips>
                                        <md-chips flex="66" ng-init="mockTools = ['MOCK', 'tools']" readonly="true" ng-model="mockTools"></md-chips>
                                    </div> -->
                                </div>

                                <div class="lower">

                                    <span>Code documentations & download:</span><br>
                                    <a ng-href="{{vm.projectData.repository}}" target="_blank">{{vm.projectData.repository}}</a>

                                    <span>Download applications:</span><br>
                                    <a ng-href="{{vm.projectData.mobile_application}}" target="_blank">{{vm.projectData.mobile_application}}</a>

                                    <span>Link to wiki page:</span><br>
                                    <a ng-href="{{vm.projectData.wiki}}" target="_blank">{{vm.projectData.wiki}}</a>
                                </div>
                            </div>
                        </md-tab>

                        <md-tab label="resources">
                            <md-content class="dash-res">


                                <h3>PROJECT REPORT</h3>
                                <md-card
                                    class="resource"
                                    ng-repeat="report in vm.resources.reports"
                                    layout="row"
                                    layout-align="space-around stretch">

                                    <div flex class="res-text" layout="column" layout-align="space-around start">
                                        <h4>{{report.type === 'file' ? report.filename : report.link}}</h4>
                                    </div>
                                    <md-icon ng-if="report.type === 'file'" ng-click="vm.downloadRes(report)">file_download</md-icon>
                                    <a ng-href="{{report.link}}" target="_blank" ng-if="report.type === 'link'" layout="column" layout-align="center center">
                                        <md-icon>launch</md-icon>
                                    </a>
                                </md-card>


                                <h3>ASSOCIATED JOURNAL ARTICLES</h3>
                                <md-card
                                    class="resource"
                                    ng-repeat="article in vm.resources.articles"
                                    layout="row"
                                    layout-align="space-around stretch">

                                    <div flex class="res-text" layout="column" layout-align="space-around start">
                                        <h4>{{article.type === 'file' ? article.filename : article.link}}</h4>
                                    </div>
                                    <md-icon ng-if="article.type === 'file'" ng-click="vm.downloadRes(article)">file_download</md-icon>
                                    <a ng-href="{{article.link}}" target="_blank" ng-if="article.type === 'link'" layout="column" layout-align="center center">
                                        <md-icon>launch</md-icon>
                                    </a>
                                </md-card>


                                <h3>ASSOCIATED CHMI LINKS</h3>
                                <md-card
                                        class="resource"
                                        ng-repeat="link in vm.resources.links"
                                        layout="row"
                                        layout-align="space-around stretch">

                                    <div flex class="res-text" layout="column" layout-align="space-around start">
                                        <h4>{{link.type === 'file' ? link.filename : link.link}}</h4>
                                    </div>
                                    <md-icon ng-if="link.type === 'file'" ng-click="vm.downloadRes(link)">file_download</md-icon>
                                    <a ng-href="{{link.link}}" target="_blank" ng-if="link.type === 'link'" layout="column" layout-align="center center">
                                        <md-icon>launch</md-icon>
                                    </a>
                                </md-card>
                            </md-content>
                        </md-tab>

                    </md-tabs>

                </md-card>
            </div>

        </div>

        <div flex="40" class="dashsection dash-cardholder" layout="column">
            <div class="dash-subhead">PROJECT PERFORMANCE</div>
            <md-card md-whiteframe="2" flex class="dash-perf">

                <md-tabs ng-if="vm.userType !== 0" md-border-bottom md-dynamic-height class="perf-tab">

                    <md-tab label="geographical view">
                        <countrymap
                            flex
                            big="false"
                            data="vm.perfMockMap">
                        </countrymap>
                    </md-tab>

                    <md-tab label="historical view">

                        <linechart
                            showdotted="(vm.userType === 3)"
                            datachooser="false"
                            notpercentage="true"
                        ></linechart>

                    </md-tab>

                </md-tabs>

                <div flex ng-if="vm.userType === 0" class="perfloggedout dash-cardcontent" layout="column" layout-align="center center">
                    <p>If you want to see world map for the geographical and historic view please subscribe first!</p>
                    <md-button class="md-raised" ui-sref="signup">sign up now</md-button>
                </div>

            </md-card>
        </div>

    </div>

    <!-- LOWER PART -->
    <!-- <div layout="row" class="dashrow dashrow-lower">

        <div flex class="dashsection dashsection-left dash-cardholder" layout="column">

            <div class="dash-subhead">IMPROVE PROJECT</div>

            <md-card flex class="dash-improve">

                <md-card-header class="unselectable" ng-class="'axis' + (vm.improveArray[vm.improveNr].axis + 1)" layout="row" layout-align="space-between center">

                    <img ng-src="src/Dashboard/img/icon-domain-{{vm.improveNr + 1}}.svg" />

                    <h4 flex>You've scored {{vm.improveArray[vm.improveNr].percentage}}% in <span class="domain-name">{{vm.improveArray[vm.improveNr].name}}</span> domain!</h4>

                    <ssmenu
                        searchable="false"
                        placeholder="Go to domain"
                        class="small"
                        multiple="false"

                    ></ssmenu>
                    <md-icon ng-click="vm.improveNr = (15 + vm.improveNr) % 16">chevron_left</md-icon>
                    <md-icon ng-click="vm.improveNr = (17 + vm.improveNr) % 16">chevron_right</md-icon>
                </md-card-header>

                <md-tabs md-border-bottom md-dynamic-height >
                    <md-tab label="LESSONS & TIPS">
                        <md-content>

                            <div class="subhead" layout="row" layout-align="space-between">
                                <p>Here you can find some tips and lessons to improve your result.<br> For more info visit <a ui-sref="#">Planning & Guidance</a> section.</p>
                                <img src="./Img/book.svg">
                            </div>


                            <md-card layout="row" ng-repeat="item in vm.pgArray">

                                <img ng-src="">
                                <div flex class="txt" layout="column" layout-align="space-around stretch">
                                    <h5>{{item.title}}</h5>
                                    <p class="desc text-truncate">{{item.description}}</p>
                                    <p class="comm"><md-icon>comments</md-icon> COMMENTS ({{item.commentNr}})</p>
                                </div>
                            </md-card>


                        </md-content>
                    </md-tab>

                    <md-tab label="EXPERIENCES">
                        Experiences content
                    </md-tab>

                    <md-tab label="RESOURCES">
                        Resources content
                    </md-tab>

                </md-tabs>

            </md-card>

        </div>

        <div flex="40" class="dashsection dash-cardholder" layout="column">
            <div class="dash-subhead">COMMUNITY WALL</div>
            <md-card class="dash-community" flex layout="column" ng-init="vm.pi=[0,0,0]">

                <md-tooltip md-direction="top">
                    The "Community wall" feature is not available in this version of the software.
                </md-tooltip>

                <div flex class="project-cont">
                    <div layout="row" class="header">
                        <span flex="grow">PROJECTS LIKE ME</span>
                        <md-icon class="material-icons unselectable" ng-disabled="vm.pi[0] === 0" ng-click="vm.prewProject(0)">chevron_left</md-icon>
                        <md-icon class="material-icons unselectable" ng-disabled="vm.pi[0] === vm.commProjects[0].length - 1" ng-click="vm.nextProject(0)">chevron_right</md-icon>
                    </div>
                    <projectcomp
                        show-details="true"
                        ng-model="vm.commProjects[0][vm.pi[0]]">
                    </projectcomp>
                </div>

                <div flex class="project-cont">
                    <div layout="row" class="header">
                        <span flex="grow">PROJECTS I'M FOLLOWING</span>
                        <md-icon class="material-icons unselectable" ng-disabled="vm.pi[1] === 0" ng-click="vm.prewProject(1)">chevron_left</md-icon>
                        <md-icon class="material-icons unselectable" ng-disabled="vm.pi[1] === vm.commProjects[1].length - 1" ng-click="vm.nextProject(1)">chevron_right</md-icon>
                    </div>
                    <projectcomp
                        show-details="true"
                        ng-model="vm.commProjects[1][vm.pi[1]]">
                    </projectcomp>
                </div>

                <div flex class="project-cont">
                    <div layout="row" class="header">
                        <span flex="grow">PROJECTS I'VE FOUNDED</span>
                        <md-icon class="material-icons unselectable" ng-disabled="vm.pi[2] === 0" ng-click="vm.prewProject(2)">chevron_left</md-icon>
                        <md-icon class="material-icons unselectable" ng-disabled="vm.pi[2] === vm.commProjects[2].length - 1" ng-click="vm.nextProject(2)">chevron_right</md-icon>
                    </div>
                    <projectcomp
                        show-details="true"
                        ng-model="vm.commProjects[1][vm.pi[2]]">
                    </projectcomp>
                </div>

            </md-card>
        </div>

    </div> -->

    <disclaimer></disclaimer>

</div>
