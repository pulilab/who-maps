<div class="signup-wrapper" layout="column" layout-align="start center" ng-style="vm.style" ng-if="!vm.landingPage">
  <div class="page-title">
    <h1 class="md-display-1 text-center">
      {{vm.translate('SIGNUP_MODULE.TITLE')}}
    </h1>
    <!-- <h6>Subtitle if needed</h6> -->
  </div>

  <div md-whiteframe="2">
    <md-content layout="column">
      <form layout="column" name="signupForm" ng-submit="vm.signup(signupForm)" novalidate ng-hide="vm.registered">
        <div layout="column" class="role-form">
          <h4>
            {{vm.translate('SIGNUP_MODULE.STEP_ONE_ROLE_SELECT')}}
          </h4>
          <md-radio-group ng-model="vm.register.account_type">
            <md-radio-button value="I" ng-selected="true" class="md-primary">
              <img src="./images/icon-role-implementer.svg" alt="" class="img-role">
              {{vm.translate('SIGNUP_MODULE.IMPLEMENTER_ROLE')}}
            </md-radio-button>
            <p class="md-small">
              {{vm.translate('SIGNUP_MODULE.IMPLEMENTER_ROLE_DESCRIPTION')}}
            </p>
            <md-radio-button value="D" class="md-primary">
              <img src="./images/icon-role-investor.svg" alt="" class="img-role">
              {{vm.translate('SIGNUP_MODULE.INVESTOR_ROLE')}}
            </md-radio-button>
            <p class="md-small">
              {{vm.translate('SIGNUP_MODULE.INVESTOR_ROLE_DESCRIPTION')}}
            </p>
            <md-radio-button value="G" class="md-primary">
              <img src="./images/icon-role-government.svg" alt="" class="img-role">
              {{vm.translate('SIGNUP_MODULE.GOVERNMENT_ROLE')}}
            </md-radio-button>
            <p class="md-small">
              {{vm.translate('SIGNUP_MODULE.GOVERNMENT_ROLE_DESCRIPTION')}}
            </p>
          </md-radio-group>
        </div>
        <div layout="column" class="main-form">
          <h4>
            {{vm.translate('SIGNUP_MODULE.STEP_TWO_FORM')}}
          </h4>
          <md-input-container class="md-block">
            <label>
              {{vm.translate('SIGNUP_MODULE.EMAIL_INPUT_LABEL')}}
            </label>
            <input ng-model="vm.register.email" required name="email" type="email" ng-change="vm.handleCustomError(signupForm, 'email')" />
            <div ng-messages="signupForm.email.$error">
              <div ng-message="required">
                {{vm.translate('ERROR_MESSAGES.REQUIRED')}}
              </div>
              <div ng-message="email">
                {{vm.translate('ERROR_MESSAGES.EMAIL')}}
              </div>
              <div ng-message="custom" ng-repeat="error in signupForm.email.customError">{{error}} </div>
            </div>
          </md-input-container>
          <md-input-container>
            <label>
              {{vm.translate('SIGNUP_MODULE.PASSWORD_INPUT_LABEL')}}
            </label>
            <input ng-model="vm.register.password1" type="password" name="password1" required ng-minlength="6" ng-change="vm.handleCustomError(signupForm, 'password1')"/>
            <div ng-messages="signupForm.password1.$error" >
              <div ng-message="required">
                {{vm.translate('ERROR_MESSAGES.REQUIRED')}}
              </div>
              <div ng-message="minlength">
                {{vm.translate('ERROR_MESSAGES.MIN_LENGTH')}}
              </div>
              <div ng-message="custom" ng-repeat="error in signupForm.password1.customError">{{error}} </div>
            </div>
          </md-input-container>
          <md-input-container>
            <label>
              {{vm.translate('SIGNUP_MODULE.PASSWORD2_INPUT_LABEL')}}
            </label>
            <input ng-model="vm.register.password2" type="password" name="password2" required  match-password="password1" ng-change="vm.handleCustomError(signupForm, 'password2')" />
            <div ng-messages="signupForm.password2.$error">
              <div ng-message="required">
                {{vm.translate('ERROR_MESSAGES.REQUIRED')}}
              </div>
              <div ng-message="passwordMatch">
                {{vm.translate('ERROR_MESSAGES.PASSWORD_MATCH')}}
              </div>
              <div ng-message="custom" ng-repeat="error in signupForm.password2.customError">{{error}} </div>
            </div>
          </md-input-container>
          <p class="global-error">
            <span ng-repeat="error in signupForm.non_field_errors"> {{error}}</span>
          </p>
          <div layout="row" layout-align="start">
            <div flex="auto" class="login-back">
              <small>
                {{vm.translate('SIGNUP_MODULE.LOGIN_QUESTION')}}
                <a ui-sref="login">
                  {{vm.translate('SIGNUP_MODULE.LOGIN_LINK')}}
                </a>
              </small>
            </div>
            <div flex="grow" layout="column" layout-align="center end">
              <md-button ng-hide="vm.inProgress" class="md-raised md-primary" type="submit" ng-disabled="signupForm.$invalid">
                {{vm.translate('SIGNUP_MODULE.SIGNUP_BUTTON')}}
              </md-button>

              <md-progress-circular ng-show="vm.inProgress" md-mode="indeterminate"></md-progress-circular>
            </div>
          </div>
        </div>
      </form>
      <div layout="column" class="form-success" ng-show="vm.registered">
        <i class="material-icons">check_circle</i>
        <h4>
          {{vm.translate('SIGNUP_MODULE.CONGRATULATIONS_TITLE')}}
        </h4>
        <p class="text-center">
          {{vm.translate('SIGNUP_MODULE.CONGRATULATIONS_MESSAGE')}}
        </p>
      </div>
    </md-content>
  </div>
  <disclaimer></disclaimer>
</div>


<div ng-if="vm.landingPage" class="landing-page" ng-style="vm.style" >
  <h2 class="md-display-3">
    {{vm.translate('SIGNUP_MODULE.TITLE')}}
  </h2>
  <h5 class="md-headline" id="scroll-to-head">
    {{vm.translate('SIGNUP_MODULE.HEADLINE')}}
  </h5>

  <form name="signupForm" ng-submit="vm.signup(signupForm)"  novalidate ng-hide="vm.registered" >
    <div layout="column" class="role-form" ng-class="{'hidden' : vm.hideMainForm}">
      <h4>{{vm.translate('SIGNUP_MODULE.STEP_ONE_ROLE_SELECT')}}</h4>
      <md-radio-group ng-model="vm.register.role">
        <md-radio-button value="1" ng-selected="true" class="md-primary">
          <img src="./images/icon-role-implementer.svg" alt="" class="img-role">
          {{vm.translate('SIGNUP_MODULE.IMPLEMENTER_ROLE')}}
        </md-radio-button>
        <p>
        {{vm.translate('SIGNUP_MODULE.IMPLEMENTER_ROLE_DESCRIPTION')}}
        </p>
        <md-radio-button value="2" class="md-primary">
          <img src="./images/icon-role-investor.svg" alt="" class="img-role">
          {{vm.translate('SIGNUP_MODULE.INVESTOR_ROLE')}}
        </md-radio-button>
        <p>
          {{vm.translate('SIGNUP_MODULE.INVESTOR_ROLE_DESCRIPTION')}}
        </p>
        <md-radio-button value="3" class="md-primary">
          <img src="./images/icon-role-government.svg" alt="" class="img-role">
          {{vm.translate('SIGNUP_MODULE.GOVERNMENT_ROLE')}}
        </md-radio-button>
        <p>
          {{vm.translate('SIGNUP_MODULE.GOVERNMENT_ROLE_DESCRIPTION')}}
        </p>
      </md-radio-group>

      <div class="form-actions" layout=row layout-align=end>
        <md-button class="md-raised md-primary" type="submit" ng-click="vm.nextStep()">
          {{vm.translate('SIGNUP_MODULE.GO_TO_NEXT_STEP')}}
          <md-icon class="material-icons">arrow_forward</md-icon>
        </md-button>
      </div>
    </div>
    <div layout="column" class="main-form next-step" ng-class="{'hidden' : !vm.hideMainForm}">
      <h4>
        {{vm.translate('SIGNUP_MODULE.STEP_TWO_FORM')}}
      </h4>
      <md-input-container class="md-block">
        <label>
          {{vm.translate('SIGNUP_MODULE.EMAIL_INPUT_LABEL')}}
        </label>
        <input ng-model="vm.register.email" required name="email" type="email" ng-change="vm.handleCustomError(signupForm, 'email')" />
        <div ng-messages="signupForm.email.$error">
          <div ng-message="required">
            {{vm.translate('ERROR_MESSAGES.REQUIRED')}}
          </div>
          <div ng-message="email">
            {{vm.translate('ERROR_MESSAGES.EMAIL')}}
          </div>
          <div ng-message="custom" ng-repeat="error in signupForm.email.customError">{{error}} </div>
        </div>
      </md-input-container>
      <md-input-container>
        <label>
          {{vm.translate('SIGNUP_MODULE.PASSWORD_INPUT_LABEL')}}
        </label>
        <input ng-model="vm.register.password1" type="password" name="password1" required ng-minlength="6" ng-change="vm.handleCustomError(signupForm, 'password1')"/>
        <div ng-messages="signupForm.password1.$error" >
          <div ng-message="required">
            {{vm.translate('ERROR_MESSAGES.REQUIRED')}}
          </div>
          <div ng-message="minlength">
            {{vm.translate('ERROR_MESSAGES.MIN_LENGTH')}}
          </div>
          <div ng-message="custom" ng-repeat="error in signupForm.email.customError">{{error}} </div>
        </div>
      </md-input-container>
      <md-input-container>
        <label>
          {{vm.translate('SIGNUP_MODULE.PASSWORD2_INPUT_LABEL')}}
        </label>
        <input ng-model="vm.register.password2" type="password" name="password2" required  match-password="password1" ng-change="vm.handleCustomError(signupForm, 'password2')" />
        <div ng-messages="signupForm.password2.$error">
          <div ng-message="required">
            {{vm.translate('ERROR_MESSAGES.REQUIRED')}}
          </div>
          <div ng-message="passwordMatch">Your passwords do not match.</div>
          <div ng-message="custom" ng-repeat="error in signupForm.email.customError">{{error}} </div>
        </div>
      </md-input-container>
      <div class="form-actions" layout=row layout-align=end>
        <md-button ng-hide="vm.inProgress" class="md-raised md-primary" type="submit" ng-disabled="signupForm.$invalid">
          {{vm.translate('SIGNUP_MODULE.SIGNUP_BUTTON')}}
        </md-button>
        <md-progress-circular ng-show="vm.inProgress" md-mode="indeterminate"></md-progress-circular>
      </div>
    </div>
  </form>

  <div layout="column" class="form-success md-whiteframe-2dp" ng-show="vm.registered">
    <i class="material-icons">check_circle</i>
    <h4>
      {{vm.translate('SIGNUP_MODULE.CONGRATULATIONS_TITLE')}}
    </h4>
    <p class="text-center">
      {{vm.translate('SIGNUP_MODULE.CONGRATULATIONS_MESSAGE')}}
    </p>
  </div>
</div>
