(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{"./src/Common/TrixComponent/TrixComponent.scss":function(e,t,n){},"./src/Common/TrixComponent/TrixComponentController.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),o=s(n("./node_modules/babel-runtime/helpers/createClass.js"));function s(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(t,n){(0,i.default)(this,e),this.scope=t,this.element=n,this.$onInit=this.onInit.bind(this),this.$postLink=this.postLink.bind(this),this.updateValue=this.updateValue.bind(this)}return(0,o.default)(e,[{key:"onInit",value:function(){n("./src/Common/TrixComponent/TrixComponent.scss"),n("./node_modules/trix/dist/trix.js"),this.charCounter=0,this.valid=!1,this.showError=!1,this.watchers(),this.required=this.element[0].hasAttribute("required")}},{key:"watchers",value:function(){var e=this;this.scope.$watch(function(){return e.value},function(t){!1===t&&e.editorInstance.editor.loadHTML("")})}},{key:"postLink",value:function(){var e=this;this.editorInstance=this.element[0].querySelector("trix-editor"),this.editorInstance.setAttribute("placeholder",this.placeholder),this.editorInstance.addEventListener("trix-change",this.updateValue),this.editorInstance.addEventListener("trix-initialize",function(){e.editorInstance.editor.loadHTML(e.value)})}},{key:"blur",value:function(){this.showError=!this.valid}},{key:"updateValue",value:function(){var e=this,t=this.editorInstance.editor.getDocument().toString();this.scope.$evalAsync(function(){e.charCounter=t.length-1,e.valid=!e.charLimit||e.charCounter<e.charLimit,e.valid=e.valid&&e.charCounter>0,e.value=e.editorInstance.editor.element.value})}}],[{key:"factory",value:function(){function t(t,n){return new e(t,n)}return t.$inject=["$scope","$element"],t}}]),e}();t.default=r}}]);